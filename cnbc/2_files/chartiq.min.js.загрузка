!function(){var t="2022/02/01",e=["127.0.0.1","localhost","cnbc.com","chartiq.com","cnbcfm.com"],t=new Date(t).getTime();if(!t||t<=(new Date).getTime()&&console.error("This license has expired!"),"undefined"!=typeof document&&"file:"!=document.location.protocol&&0<e.length){for(var i=document.location.href,a=!1,r=0;r<e.length;r++)if(-1<i.indexOf(e[r])){a=!0;break}a||(alert("ERROR: Not licensed for domain "+i),console.error("ERROR: Not licensed for domain "+i))}}(),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():e(t)}(this,function(t){var i,e,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P,_,E,O,L,N,I,j;function z(){}function B(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function R(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function H(){}function U(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function V(){}function W(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function Y(){}function X(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function G(){}function Z(){}function q(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function Q(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function K(){}function J(){}function $(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function tt(){}function et(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function it(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function at(){}function rt(){}function nt(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function st(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function ot(){}function lt(){}function ht(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function ct(){}function ut(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function pt(){}function dt(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function gt(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function ft(){}function mt(){}function yt(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function bt(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function vt(){}function St(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0}function kt(){}return z[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"tH9rd",{get:function(){return this},configurable:!0}),e=tH9rd,i=5;break;case 5:e.AerUW=e,i=4;break;case 4:i="undefined"==typeof AerUW?3:9;break;case 9:delete e.AerUW,delete Object.prototype.tH9rd,i=6}}catch(t){e=window}return e}}(),z[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="d9",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="T",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(z[12018]),z[366344]=function(t){function e(t){for(;;)return[arguments][0][0].Array}function i(t){for(;;)return[arguments][0][0].RegExp}for(var a=2;58!==a;)switch(a){case 37:s[14]=s[65],s[14]+=s[2],s[14]+=s[5],s[89]=s[8],a=52;break;case 48:s[15]+=s[7],s[25]=s[1],s[25]+=s[4],s[25]+=s[9],a=65;break;case 30:s[84]+=s[5],s[99]=s[63],s[99]+=s[35],s[99]+=s[22],s[19]=s[10],s[19]+=s[7],a=41;break;case 34:s[77]+=s[7],s[77]+=s[7],s[84]=s[23],s[84]+=s[2],a=30;break;case 7:s[8]="",s[8]="R",s[5]="",s[5]="11",a=12;break;case 61:r(o,s[29],s[57],s[19]),a=60;break;case 2:var s=[arguments];s[4]="_residua",s[1]="",s[1]="_",s[9]="l",s[6]="",s[6]="51",a=7;break;case 64:r(o,s[25],s[57],s[15]),a=63;break;case 23:s[27]="D5",s[75]=1,s[57]=0,s[77]=s[27],a=34;break;case 59:r(n,"apply",s[75],s[77]),a=58;break;case 52:s[89]+=s[6],s[89]+=s[7],s[15]=s[42],s[15]+=s[7],a=48;break;case 27:s[61]="ra",s[23]="M",s[22]="timize",s[27]="",a=23;break;case 18:s[65]="i",s[42]="N5",s[63]="__",s[10]="A5",a=27;break;case 41:s[19]+=s[7],s[29]=s[3],s[29]+=s[61],s[29]+=s[58],a=37;break;case 12:s[2]="5",s[3]="__abst",s[7]="1",s[35]="op",s[58]="ct",a=18;break;case 62:r(e,"push",s[75],s[14]),a=61;break;case 63:r(i,"test",s[75],s[89]),a=62;break;case 65:var r=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 2:var s=[arguments];s[3]="",s[3]="Property",s[2]="efine",s[6]="",n=9;break;case 9:s[6]="d";try{for(var o=2;8!==o;)switch(o){case 5:s[8]=[s[4],s[4].prototype][s[0][3]],s[1].value=s[8][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[9]=s[6],s[9]+=s[2],s[9]+=s[3],s[0][0].Object[s[9]](s[8],s[0][4],s[1]),l=3)}catch(t){}s[8][s[0][4]]=s[1].value,o=8;break;case 2:s[1]={},s[4]=(0,s[0][1])(s[0][0]),o=5}}catch(t){}n=7}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};a=64;break;case 60:r(o,s[99],s[57],s[84]),a=59}function n(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments],e=1;break;case 1:return i[0][0].Function}}function o(t){for(;;)return[arguments][0][0]}}(z[12018]),z.P4p=function(){return"function"==typeof z[160123].k51?z[160123].k51.apply(z[160123],arguments):z[160123].k51},z.M2u=function(){return"function"==typeof z[372105].a2u?z[372105].a2u.apply(z[372105],arguments):z[372105].a2u},z[372105]={a2u:function(){var t,e=arguments;switch(i){case 1:t=e[0]>>e[1];break;case 12:t=e[1]-(e[0]&e[2]);break;case 2:t=e[0]-e[1];break;case 5:t=e[0]+e[1];break;case 10:t=e[0]+e[2]-e[1];break;case 8:t=e[0]/e[1];break;case 11:t=e[0]-e[1]*e[2];break;case 6:t=e[1]/+e[0];break;case 7:t=e[1]<<e[0];break;case 0:t=e[0]|e[1];break;case 9:t=e[1]^e[0];break;case 4:t=e[0]+e[2]/e[3]-e[1];break;case 3:t=e[1]-e[0]/e[3]+e[2]}return t},f2u:function(t){i=t}},z[647112]=351,z[603030]=!0,z[160123]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[8];case 2:var e=[arguments];e[3]=void 0,e[8]={},e[8].k51=function(){for(var t=2;90!==t;)switch(t){case 12:a[5]=a[9],a[4]={},a[4].z2u=["r2u"],t=20;break;case 2:var a=[arguments],t=1;break;case 75:a[22]={},a[22][a[82]]=a[30][a[64]][a[24]],a[22][a[57]]=a[26],t=72;break;case 1:t=e[3]?5:4;break;case 5:return 20;case 58:a[15]=0,t=57;break;case 70:a[15]++,t=57;break;case 61:a[57]="c2u",a[27]="A2u",a[82]="o2u",t=58;break;case 17:a[2].z2u=["r2u"],a[2].A2u=function(){return"function"==typeof A511},a[3]=a[2],a[45]={},a[45].z2u=["r2u"],t=25;break;case 39:a[14]={},a[14].z2u=["x2u"],a[14].A2u=function(){return!/\u0079/.R511(function(){return"x y".slice(0,1)}+[])},a[37]=a[14],t=54;break;case 43:a[31]={},a[31].z2u=["x2u"],a[31].A2u=function(){return/\x74\x72\u0075\x65/.R511(function(){return"aa".endsWith("a")}+[])},a[38]=a[31],t=39;break;case 56:a[30]=a[6][a[15]];try{a[26]=a[30][a[27]]()?a[62]:a[61]}catch(t){a[26]=a[61]}t=77;break;case 68:t=68;break;case 20:a[4].A2u=function(){var t=!1,e=[];try{for(var i in console)e.i511(i);t=0===e.length}catch(t){}return t},a[7]=a[4],a[2]={},t=17;break;case 57:t=a[15]<a[6].length?56:69;break;case 25:a[45].A2u=function(){return"function"==typeof M511},a[28]=a[45],t=23;break;case 49:a[6].i511(a[28]),a[6].i511(a[37]),a[6].i511(a[3]),a[6].i511(a[38]),t=45;break;case 30:a[50]={},a[50].z2u=["x2u"],a[50].A2u=function(){return!/\x32\x35/.R511(function(){return decodeURI("%25")}+[])},a[87]=a[50],t=43;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 17:i[1]=0,e=16;break;case 20:i[2][i[9][a[82]]].h+=!0,e=19;break;case 7:e=i[1]<i[0][0].length?6:18;break;case 26:e=.5<=i[7]?25:24;break;case 8:i[1]=0,e=7;break;case 4:i[2]={},i[6]=[],i[1]=0,e=8;break;case 5:return;case 11:i[2][i[9][a[82]]].t+=!0,e=10;break;case 1:e=0===i[0][0].length?5:4;break;case 23:return i[3];case 14:e=void 0===i[2][i[9][a[82]]]?13:11;break;case 2:var i=[arguments],e=1;break;case 6:i[9]=i[0][0][i[1]],e=14;break;case 25:i[3]=!0,e=24;break;case 24:i[1]++,e=16;break;case 12:i[6].i511(i[9][a[82]]),e=11;break;case 13:i[2][i[9][a[82]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[9]={},e[9].h=0,e[9].t=0,t=3;break;case 3:return e[9]}}.D511(this,arguments),e=12;break;case 19:i[1]++,e=7;break;case 15:i[4]=i[6][i[1]],i[7]=i[2][i[4]].h/i[2][i[4]].t,e=26;break;case 10:e=i[9][a[57]]===a[62]?20:19;break;case 16:e=i[1]<i[6].length?15:23;break;case 18:i[3]=!1,e=17}}(a[90])?68:67;break;case 76:t=a[24]<a[30][a[64]].length?75:70;break;case 34:a[81]={},a[81].z2u=["x2u"],a[81].A2u=function(){return!/\u0032\x35/.R511(function(){return decodeURIComponent("%25")}+[])},a[47]=a[81],t=30;break;case 7:a[8]=a[1],a[9]={},a[9].z2u=["x2u"],a[9].A2u=function(){return/(\u003c|\u003e)/.R511(function(){return"a".anchor("b")}+[])},t=12;break;case 67:return e[3]=87,58;case 23:a[96]={},a[96].z2u=["x2u"],a[96].A2u=function(){return/\u003d/.R511(function(){return unescape("%3D")}+[])},a[34]=a[96],t=34;break;case 45:a[6].i511(a[47]),a[90]=[],a[62]="k2u",a[61]="g2u",a[64]="z2u",t=61;break;case 72:a[90].i511(a[22]),t=71;break;case 77:a[24]=0,t=76;break;case 4:a[6]=[],a[1]={},a[1].z2u=["r2u"],a[1].A2u=function(){return"function"==typeof N511},t=7;break;case 54:a[6].i511(a[8]),a[6].i511(a[5]),a[6].i511(a[87]),a[6].i511(a[34]),a[6].i511(a[7]),t=49;break;case 71:a[24]++,t=76}},t=3}}(),z[152846]={T7:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4)var l=255&t.d9TT(o)|(255&t.d9TT(o+1))<<8|(255&t.d9TT(o+2))<<16|(255&t.d9TT(o+3))<<24,l=B(l,a),n=5*(n=(524287&(n^=l=B(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0;switch(l=0,e%4){case 3:l=(255&t.d9TT(2+s))<<16;case 2:l|=(255&t.d9TT(1+s))<<8;case 1:l|=255&t.d9TT(s),l=B(l,a),n^=l=B(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=B(n^=n>>>16,2246822507),n=B(n^=n>>>13,3266489909),n^=n>>>16}},z.t4=function(){return"function"==typeof z[152846].T7?z[152846].T7.apply(z[152846],arguments):z[152846].T7},z.l2u=function(){return"function"==typeof z[372105].a2u?z[372105].a2u.apply(z[372105],arguments):z[372105].a2u},z.B2u=function(){return"function"==typeof z[372105].f2u?z[372105].f2u.apply(z[372105],arguments):z[372105].f2u},z.I2u=function(){return"function"==typeof z[372105].f2u?z[372105].f2u.apply(z[372105],arguments):z[372105].f2u},(z[12018].q1mm=z).N4p=function(){return"function"==typeof z[160123].k51?z[160123].k51.apply(z[160123],arguments):z[160123].k51},z.b4=function(){return"function"==typeof z[152846].T7?z[152846].T7.apply(z[152846],arguments):z[152846].T7},z[440061]=z[3727],z.P4p(),e=function(t){var e,i,B=z,R=t.CIQ;R.ChartEngine.prototype.drawHeatmap=function(b,t){var e,v,S,k,i,a,x,C,w,A,T,r;if(t&&t.length&&(e=(e=b.panel)||"chart",v=this.panels[e])){S=b.yAxis||v.yAxis,k=this.chart.dataSegment,this.getDefaultColor(),b.name||(b.name="Data"),b.widthFactor||(b.widthFactor=1),i=.5,a=2;for(var n=1;1509612362!==B.b4(n.toString(),n.toString().length,39806);n++)v.chart.tmpWidth<=1&&(i=0),w=this,A=C=x=null,a+=2;-1694571693!==B.t4(a.toString(),a.toString().length,5151)&&(3<=v.chart.tmpWidth&&(i=6),w=this,A=C=x=1),this.startClip(e),(T=this.chart.context).globalAlpha=b.opacity;for(var s=0;s<t.length;s++)o((r=t[s]).field,r.color,null,b.widthFactor,r.border_color?i:-i/4),r.border_color&&2<=this.layout.candleWidth&&o(r.field,r.border_color,!0,b.widthFactor,i);B.B2u(0),T.lineWidth=B.M2u("1",1),T.globalAlpha=1,B.P4p(),this.endClip()}function o(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g;T.beginPath(),T.fillStyle=e,T.strokeStyle=e,B.N4p(),n=w.layout.candleWidth*a,s=Math.floor(w.pixelFromBar(0,v.chart)-w.layout.candleWidth),B.I2u(1),B.M2u("79839901",1242615040),B.B2u(2),o=B.M2u("2",0);for(var f=1;-805017167!==B.t4(f.toString(),f.toString().length,86521);f++)o+=2;B.t4(o.toString(),o.toString().length,3496);for(var m=0;m<k.length;m++)if(c=k[m],c&&(c.candleWidth?(s+=0===m?w.layout.candleWidth:(c.candleWidth+n/a)/2,n=c.candleWidth*a):s+=w.layout.candleWidth,B.I2u(3),l=B.l2u(n,s,r,2),B.I2u(4),(h=B.l2u(s,r,n,2))-l<2&&(B.I2u(5),h=B.l2u(l,1)),w.chart.transformFunc&&c.transform&&(c=c.transform),u=c[t])){"number"==typeof u&&(u=[u]);for(var y=0;y<u.length;y++)p=w.pixelFromTransformedValue(u[y],v,S),A||(g=w.pixelFromTransformedValue(u[y]-b.height,v,S),T.lineWidth=1,B.B2u(2),x=B.l2u(g,p),B.I2u(6),C=B.l2u("2",x),A=T.lineWidth),i?(B.I2u(5),d=B.M2u(p,C),B.I2u(2),g=B.l2u(p,C),T.moveTo(l,d),T.lineTo(l,g),T.lineTo(h,g),T.lineTo(h,d),T.lineTo(l,d)):(B.I2u(2),T.fillRect(l,B.M2u(p,C),B.l2u(h,l),x))}i&&T.stroke(),T.closePath()}},B.N4p(),R.ChartEngine.prototype.drawCandles=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P,_,E,O;if((a=t.chart)||(t=(a=t).chart),n=r=!1,s=null,o=t.yAxis,l=null,i&&"object"==typeof i){r=i.isOutline,h=2;for(var L=1;-451798611!==B.t4(L.toString(),L.toString().length,56525);L++)n=i.isHistogram,h+=2;-1359048608!==B.b4(h.toString(),h.toString().length,25522)&&(n=i.isHistogram),n=i.isHistogram,s=i.field,o=i.yAxis,l=i.overlayScaling}else{r=i,c=2;for(var N=1;1265842814!==B.t4(N.toString(),N.toString().length,70231);N++)B.I2u(7),n=arguments[B.M2u(855094656,"5")],c+=2;-1036997309!==B.t4(c.toString(),c.toString().length,54333)&&(n=arguments[3])}B.P4p(),u=a.dataSegment,p=a.context,d=o.top,g=o.bottom,f=new Array(u.length),y=m="transparent",b=0,v=a.dataSet.length-a.scroll-1,S={},k=a.tmpWidth/2,x=this.layout.candleWidth,C=t.left-.5*x+this.micropixels-1;for(var I,j=0;j<=u.length;j++)if(D="s",D+="o",D+="l",D+="id",M="ou",M+="tli",M+="ne",E=k,B.I2u(8),C+=B.l2u(x,2),x=this.layout.candleWidth,B.I2u(8),C+=B.l2u(x,2),D=u[j],D&&!D.projection&&(D.candleWidth&&(C+=(D.candleWidth-x)/2,x=D.candleWidth,(i.isVolume||x<a.tmpWidth)&&(B.B2u(8),E=B.l2u(x,2))),a.transformFunc&&o==a.panel.yAxis&&D.transform&&(D=D.transform),D&&s&&(D=D[s]),(D||0===D)&&(w=D.Close,A=void 0===D.Open?w:D.Open,n&&a.defaultPlotField&&(w=D[a.defaultPlotField]),(w||0===w)&&(n||A!=w&&null!==A)&&(T=e(this,D,r?"outline":"solid"))))){if(r?m=T:y=T,B.I2u(9),S[y]=B.l2u(0,"1"),R.isTransparent(m)||(b=.5),p.beginPath(),p.fillStyle=y,D.cache||(D.cache={}),M=D.cache,B.I2u(5),(D=B.l2u(v,j))<t.cacheLeft||D>t.cacheRight||!M.open){if(_=l?(F=l.bottom-(A-l.min)*l.multiplier,l.bottom-(w-l.min)*l.multiplier):(F=o.semiLog?this.pixelFromTransformedValue(A,t,o):(o.high-A)*o.multiplier+o.top,o.semiLog?this.pixelFromTransformedValue(w,t,o):(o.high-w)*o.multiplier+o.top),f[j]=_,P=Math.floor(n?_:Math.min(F,_))+b,_=n?o.bottom:Math.max(F,_),B.I2u(2),_=Math.floor(B.l2u(_,P)),P<d){if(P+_<d){M.open=P,M.close=P;continue}B.I2u(2),_-=B.M2u(d,P),P=d}g<P+_&&(B.I2u(10),_-=B.M2u(P,g,_)),_=Math.max(_,2),M.open=P,M.close=M.open+_}M.open>=g||M.close<=d||(P=Math.floor(C)+.5,_=Math.floor(P-E)+b,E=Math.round(P+E)-b,M.open!=M.close&&p.rect(_,M.open,Math.max(1,E-_),Math.max(1,M.close-M.open)),"transparent"!=y&&p.fill(),b&&(p.lineWidth=1,i.highlight&&(p.lineWidth*=2),p.strokeStyle=m,p.stroke()))}for(I in O={colors:[],cache:f},S)i.hollow&&R.equals(I,this.containerColor)||O.colors.push(I);return O},R.ChartEngine.prototype.drawShadows=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A=t.chart;A||(t=(A=t).chart),a=A.dataSegment,r=this.chart.context,B.I2u(7),B.P4p(),r.lineWidth=B.l2u(154991584,"1"),i.highlight&&(r.lineWidth*=2),n=i.field,s=i.yAxis||t.yAxis,o=i.overlayScaling,l=s.top,h=s.bottom,c=2;for(var T=1;-1010401075!==B.b4(T.toString(),T.toString().length,72362);T++)c+=2;B.t4(c.toString(),c.toString().length,99662),p=A.dataSet.length-A.scroll-1,d=this.layout.candleWidth,g=t.left-.5*d+this.micropixels-1;for(var M=0;M<=a.length;M++)if(w="s",w+="had",w+="ow",B.I2u(8),g+=B.M2u(d,2),d=this.layout.candleWidth,B.I2u(8),g+=B.M2u(d,2),k=a[M],k&&!k.projection&&(k.candleWidth&&(g+=(k.candleWidth-d)/2,d=k.candleWidth),f=e(this,k,"shadow"),f&&(A.transformFunc&&s==A.panel.yAxis&&k.transform&&(k=k.transform),k&&n&&(k=k[n]),(k||0===k)&&(m=k.Close,y=void 0===k.Open?m:k.Open,b=void 0===k.High?Math.max(m,y):k.High,v=void 0===k.Low?Math.min(m,y):k.Low,m||0===m)))){if(k.cache||(k.cache={}),S=k.cache,B.I2u(5),(w=B.l2u(p,M))<t.cacheLeft||w>t.cacheRight||!S.top){if(x=o?(u=o.bottom-(b-o.min)*o.multiplier,o.bottom-(v-o.min)*o.multiplier):(u=s.semiLog?this.pixelFromTransformedValue(b,t,s):(s.high-b)*s.multiplier+s.top,s.semiLog?this.pixelFromTransformedValue(v,t,s):(s.high-v)*s.multiplier+s.top),B.I2u(2),C=B.l2u(x,u),u<l){if(u+C<l){S.top=u,S.bottom=u;continue}B.I2u(2),C-=B.l2u(l,u),u=l}h<u+C&&(B.B2u(10),C-=B.M2u(u,h,C)),S.top=u,S.bottom=S.top+C}S.top>=h||S.bottom<=l||(k=Math.floor(g)+.5,r.beginPath(),m==y&&(w=this.offset,i.isVolume&&(B.I2u(8),w=B.l2u(d,2)),B.B2u(2),x=B.M2u(k,w),B.B2u(5),C=B.l2u(k,w),(w=o?o.bottom-(m-o.min)*o.multiplier:Math.floor(s.semiLog?this.pixelFromTransformedValue(m,t,s):(s.high-m)*s.multiplier+s.top)+.5)<=h&&l<=w&&(r.moveTo(x,w),r.lineTo(C,w))),b!=v&&(r.moveTo(k,S.top),r.lineTo(k,S.bottom)),r.strokeStyle=f,r.stroke())}},R.ChartEngine.prototype.drawBarChart=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P,_=t.chart;if(_||(t=(_=t).chart),r=_.dataSegment,n=new Array(r.length),s=_.context,(e=this.canvasStyle(e)).width&&parseInt(e.width,10)<=25)s.lineWidth=Math.max(1,R.stripPX(e.width));else{B.I2u(0),e=B.M2u("1540369869",449841601),o=2;for(var E=1;-75866215!==B.t4(E.toString(),E.toString().length,17321);E++)s.lineWidth=8,o+=2;B.t4(o.toString(),o.toString().length,86759)!==e&&(s.lineWidth=1)}a.highlight&&(s.lineWidth*=2),l=a.field,h=a.yAxis||t.yAxis,c=a.overlayScaling,u=h.top,p=h.bottom,f=_.dataSet.length-_.scroll-1,m={},y=_.tmpWidth/2,b=s.lineWidth/2,v=this.layout.candleWidth,S=t.left-.5*v+this.micropixels-1;for(var O=0;O<=r.length;O++)if(B.B2u(8),S+=B.M2u(v,2),v=this.layout.candleWidth,B.I2u(8),S+=B.M2u(v,2),k=r[O]){if(k.projection)break;if(k.candleWidth&&(S+=(k.candleWidth-v)/2,v=k.candleWidth),M=i(this,k),M&&(m[M]=1,s.strokeStyle=M,s.beginPath(),_.transformFunc&&h==_.panel.yAxis&&k.transform&&(k=k.transform),k&&l&&(k=k[l]),(k||0===k)&&(x=k.Close,C=void 0===k.Open?x:k.Open,w=void 0===k.High?Math.max(x,C):k.High,A=void 0===k.Low?Math.min(x,C):k.Low,x||0===x))){if(k.cache||(k.cache={}),T=k.cache,B.I2u(5),(M=B.l2u(f,O))<t.cacheLeft||M>t.cacheRight||!T.top){if(c?(D=c.multiplier,M=c.bottom+c.min*D,B.I2u(11),d=B.M2u(M,w,D),B.B2u(11),g=B.M2u(M,A,D),B.I2u(11),T.open=B.M2u(M,C,D),B.I2u(11),T.close=B.M2u(M,x,D)):(d=this.pixelFromTransformedValue(w,t,h),g=this.pixelFromTransformedValue(A,t,h),T.open=h.semiLog?this.pixelFromTransformedValue(C,t,h):(h.high-C)*h.multiplier+h.top,T.close=h.semiLog?this.pixelFromTransformedValue(x,t,h):(h.high-x)*h.multiplier+h.top),n[O]=T.close,B.I2u(2),D=B.M2u(g,d),d<u){if(d+D<u){T.top=d,T.bottom=d;continue}B.I2u(2),D-=B.M2u(u,d),d=u}p<d+D&&(B.I2u(10),D-=B.M2u(d,p,D)),T.top=d,B.B2u(5),T.bottom=B.l2u(d,D)}D=Math.floor(S)+.5,T.top<p&&T.bottom>u&&k.High!=k.Low&&(s.moveTo(D,T.top-b),s.lineTo(D,T.bottom+b)),"hlc"!=a.type&&T.open>u&&T.open<p&&(s.moveTo(D,T.open),B.B2u(2),s.lineTo(B.l2u(D,y),T.open)),T.close>u&&T.close<p&&(s.moveTo(D,T.close),B.I2u(5),s.lineTo(B.M2u(D,y),T.close)),s.stroke()}}B.P4p(),F=2;for(var L,N=s.lineWidth=1;120697587!==B.t4(N.toString(),N.toString().length,43317);N++)P={colors:[],cache:n},F+=2;for(L in-2052241585!==B.b4(F.toString(),F.toString().length,33143)&&(P={colors:[],cache:n}),m)R.equals(L,this.containerColor)||P.colors.push(L);return P},R.ChartEngine.prototype.drawWaveChart=function(e,t){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A;function T(t){return o?o.bottom-(t-o.min)*o.multiplier:(B.N4p(),d.pixelFromTransformedValue(t,e,s))}a=(i=e.chart).dataSegment,r=new Array(a.length),n=i.context,s=(t=t||{}).yAxis||e.yAxis,o=t.overlayScaling,this.startClip(e.name),n.beginPath(),l=!1,B.N4p(),h=!1,c=e.yAxis.top,u=e.yAxis.bottom,p=e.left+Math.floor(-.5*this.layout.candleWidth+this.micropixels),d=this;for(var M=0;M<=a.length;M++)if(p+=this.layout.candleWidth,S=a[M]){if(S.projection)break;if(i.transformFunc&&s==i.panel.yAxis&&S.transform&&(S=S.transform),S&&t.field&&(S=S[t.field]),(S||0===S)&&(g=S.Close,f=void 0===S.Open?g:S.Open,m=void 0===S.High?Math.max(g,f):S.High,y=void 0===S.Low?Math.min(g,f):S.Low,g||0===g)){if(b=p-3*this.layout.candleWidth/8,(v=T(f))<c){if(v=c,h){n.moveTo(b,v);continue}h=!0}else if(u<v){if(v=u,h){n.moveTo(b,v);continue}h=!0}else h=!1;l?n.lineTo(b,v):(l=!0,(S=i.dataSet.length-i.scroll-1)<0?n.moveTo(b,v):0<=S&&((S=i.dataSet[S]).transform&&(S=S.transform),S=T(S=S.Close),S=Math.min(Math.max(S,c),u),n.moveTo(e.left+(M-1)*this.layout.candleWidth+this.micropixels,S),n.lineTo(b,v)),n.moveTo(b,v)),b+=this.layout.candleWidth/4,f<g?((v=T(y))<c&&(v=c),u<v&&(v=u),n.lineTo(b,v),b+=this.layout.candleWidth/4,(v=T(m))<c&&(v=c)):((v=T(m))<c&&(v=c),u<v&&(v=u),n.lineTo(b,v),b+=this.layout.candleWidth/4,(v=T(y))<c&&(v=c)),u<v&&(v=u),n.lineTo(b,v),b+=this.layout.candleWidth/4,v=T(g),(r[M]=v)<c&&(v=c),u<v&&(v=u),n.lineTo(b,v)}}if((k=this.canvasStyle("stx_line_chart")).width&&parseInt(k.width,10)<=25){B.B2u(9),x=-B.l2u(0,"1901300659"),B.I2u(2),C=B.M2u("2",0);for(var D=1;B.t4(D.toString(),D.toString().length,17527)!==x;D++)n.lineWidth=Math.max(3,R.stripPX(k.width)),C+=2;168592159!==B.b4(C.toString(),C.toString().length,32165)&&(n.lineWidth=Math.max(1,R.stripPX(k.width)))}else{w=2;for(var F=1;-1876696990!==B.t4(F.toString(),F.toString().length,17808);F++)n.lineWidth=4,w+=2;-1135023232!==B.b4(w.toString(),w.toString().length,10754)&&(n.lineWidth=1)}return t.highlight&&(n.lineWidth*=2),this.canvasColor("stx_line_chart"),t.color&&(n.strokeStyle=t.color),n.stroke(),n.closePath(),A={colors:[n.strokeStyle],cache:r},this.endClip(),n.lineWidth=1,A},R.ChartEngine.prototype.scatter=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=t.chart,g=d.dataSegment,f=new Array(g.length);B.P4p(),i=this.chart.context,a=(e=e||{}).field||d.defaultPlotField,r=e.yAxis||t.yAxis,n=e.overlayScaling,s=e.subField||d.defaultPlotField||"Close",this.startClip(t.name),i.beginPath(),i.lineWidth=4,e.highlight&&(i.lineWidth*=2),o=r.top,l=r.bottom,h=t.left-.5*this.layout.candleWidth+this.micropixels-1;for(var m=0;m<=g.length;m++)if(h+=this.layout.candleWidth,c=g[m],c&&!c.projection){d.transformFunc&&r==d.panel.yAxis&&c.transform&&(c=c.transform),(u=c[a])&&void 0!==u[s]&&(u=u[s]),u=[u],"Scatter"in c&&(u=c.Scatter);for(var y=0;y<u.length;y++)!u[y]&&0!==u[y]||(p=n?n.bottom-(u[y]-n.min)*n.multiplier:r.semiLog?this.pixelFromTransformedValue(u[y],t,r):(r.high-u[y])*r.multiplier+o)<o||l<p||(B.I2u(12),i.moveTo(B.M2u("2",h,2147483647),p),B.B2u(5),i.lineTo(B.M2u(h,2),p),f[m]=p)}return this.canvasColor("stx_scatter_chart"),e.color&&(i.strokeStyle=e.color),i.stroke(),i.closePath(),e={colors:[i.strokeStyle],cache:f},this.endClip(),i.lineWidth=1,e},B.B2u(7),e=-B.l2u(2060691264,"1515495452"),B.B2u(0),i=B.M2u("317126032",35704832);var a=1;return B.t4(a.toString(),a.toString().length,16668)!==e||B.t4(2..toString(),2..toString().length,25116)!==i?t:void 0},H[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"$EUN2",{get:function(){return this},configurable:!0}),e=$EUN2,i=5;break;case 5:e.TtsR4=e,i=4;break;case 4:i="undefined"==typeof TtsR4?3:9;break;case 9:delete e.TtsR4,delete Object.prototype.$EUN2,i=6}}catch(t){e=window}return e}}(),H[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="D3",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="b",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(H[12018]),H[366344]=function(t){function e(t){for(;;)return[arguments][0][0].Array}function i(t){for(;;)return[arguments][0][0]}for(var a=2;58!==a;)switch(a){case 37:s[14]=s[73],s[14]+=s[11],s[14]+=s[60],s[18]=s[5],a=52;break;case 48:s[93]+=s[6],s[31]=s[4],s[31]+=s[8],s[31]+=s[9],a=65;break;case 30:s[84]+=s[9],s[65]=s[7],s[65]+=s[83],s[65]+=s[71],a=43;break;case 34:s[72]+=s[30],s[72]+=s[30],s[84]=s[2],s[84]+=s[8],a=30;break;case 12:s[3]="23",s[2]="x",s[8]="2",s[11]="_opt",a=19;break;case 61:r(e,"push",s[45],s[24]),a=60;break;case 27:s[73]="_",s[30]="",s[26]="v2",s[30]="3",a=23;break;case 64:r(n,"test",s[45],s[31]),a=63;break;case 23:s[17]="A2",s[45]=1,s[61]=0,s[72]=s[17],a=34;break;case 59:r(o,"apply",s[45],s[72]),a=58;break;case 52:s[18]+=s[30],s[18]+=s[30],s[93]=s[1],s[93]+=s[25],a=48;break;case 3:s[1]="",s[1]="__abstra",s[5]="",s[5]="Y2",s[7]="",s[7]="__",s[9]="33",a=12;break;case 2:var s=[arguments];s[4]="L",s[6]="",s[6]="t",a=3;break;case 43:s[24]=s[26],s[24]+=s[30],s[24]+=s[30],s[15]=s[10],s[15]+=s[3],s[15]+=s[30],a=37;break;case 19:s[60]="imize",s[71]="ual",s[25]="c",s[83]="resid",s[10]="N",a=27;break;case 62:r(i,s[14],s[61],s[15]),a=61;break;case 63:r(i,s[93],s[61],s[18]),a=62;break;case 65:var r=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 3:l[1]="defi";try{for(var s=2;8!==s;)switch(s){case 2:l[2]={},l[7]=(0,l[0][1])(l[0][0]),l[8]=[l[7],l[7].prototype][l[0][3]],l[2].value=l[8][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)2===o&&(l[6]=l[1],l[6]+=l[5],l[6]+=l[9],l[0][0].Object[l[6]](l[8],l[0][4],l[2]),o=3)}catch(t){}l[8][l[0][4]]=l[2].value,s=8}}catch(t){}n=8;break;case 2:var l=[arguments];l[9]="operty",l[5]="",l[5]="nePr",n=3}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};a=64;break;case 60:r(i,s[65],s[61],s[84]),a=59}function n(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments],e=1;break;case 1:return i[0][0].RegExp}}function o(t){for(;;)return[arguments][0][0].Function}}(H[12018]),H[440061]=H[366344],H[160123]=function(){for(var t=2;9!==t;)switch(t){case 4:return e[2].L8u=function(){for(var t=2;90!==t;)switch(t){case 12:a[8]=a[9],a[4]={},t=10;break;case 2:var a=[arguments],t=1;break;case 75:a[50]={},a[50][a[79]]=a[14][a[41]][a[95]],a[50][a[64]]=a[26],a[89].v233(a[50]),t=71;break;case 1:t=e[4]?5:4;break;case 5:return 56;case 58:a[35]=0,t=57;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 18:i[7]=!1,e=17;break;case 10:e=i[3][a[64]]===a[24]?20:19;break;case 8:i[6]=0,e=7;break;case 15:i[8]=i[9][i[6]],i[4]=i[1][i[8]].h/i[1][i[8]].t,e=26;break;case 4:i[1]={},i[9]=[],e=9;break;case 9:i[6]=0,e=8;break;case 1:e=0===i[0][0].length?5:4;break;case 12:i[9].v233(i[3][a[79]]),e=11;break;case 5:return;case 24:i[6]++,e=16;break;case 6:i[3]=i[0][0][i[6]],e=14;break;case 2:var i=[arguments],e=1;break;case 7:e=i[6]<i[0][0].length?6:18;break;case 26:e=.5<=i[4]?25:24;break;case 25:i[7]=!0,e=24;break;case 23:return i[7];case 13:i[1][i[3][a[79]]]=function(){for(;;){var t=[arguments];return t[2]={},t[2].h=0,t[2].t=0,t[2]}}.A233(this,arguments),e=12;break;case 14:e=void 0===i[1][i[3][a[79]]]?13:11;break;case 20:i[1][i[3][a[79]]].h+=!0,e=19;break;case 16:e=i[6]<i[9].length?15:23;break;case 11:i[1][i[3][a[79]]].t+=!0,e=10;break;case 17:i[6]=0,e=16;break;case 19:i[6]++,e=7}}(a[89])?68:67;break;case 61:a[64]="S5B",a[62]="y5B",a[79]="u5B",t=58;break;case 17:a[1].k5B=["H5B"],a[1].y5B=function(){return/\x74\x72\x75\x65/.L233(function(){return"aa".endsWith("a")}+[])},a[6]=a[1],a[55]={},t=26;break;case 37:a[27].y5B=function(){return/\u0039\u0037/.L233(function(){return"a".codePointAt(0)}+[])},a[25]=a[27],a[7].v233(a[3]),a[7].v233(a[42]),a[7].v233(a[85]),t=51;break;case 41:a[90].y5B=function(){return"function"==typeof x233},a[20]=a[90],a[27]={},a[27].k5B=["H5B"],t=37;break;case 56:a[14]=a[7][a[35]];try{a[26]=a[14][a[62]]()?a[24]:a[61]}catch(t){a[26]=a[61]}t=77;break;case 67:return e[4]=64,30;case 10:a[4].k5B=["H5B"],a[4].y5B=function(){return!/\x79/.L233(function(){return"xy".substring(0,1)}+[])},a[3]=a[4],a[1]={},t=17;break;case 57:t=a[35]<a[7].length?56:69;break;case 26:a[55].k5B=["h5B"],a[55].y5B=function(){return"function"==typeof N233},a[45]=a[55],a[32]={},t=22;break;case 47:a[7].v233(a[25]),a[7].v233(a[5]),a[7].v233(a[6]),a[89]=[],t=64;break;case 29:a[94].k5B=["H5B"],a[94].y5B=function(){return!/\u0028\x5b/.L233(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},a[85]=a[94],a[90]={},a[90].k5B=["h5B"],t=41;break;case 68:t=68;break;case 76:t=a[95]<a[14][a[41]].length?75:70;break;case 33:a[80].k5B=["h5B"],a[80].y5B=function(){var t=!1,e=[];try{for(var i in console)e.v233(i);t=0===e.length}catch(t){}return t},a[42]=a[80],a[94]={},t=29;break;case 4:a[7]=[],a[2]={},a[2].k5B=["H5B"],t=8;break;case 22:a[32].k5B=["H5B"],a[32].y5B=function(){return/(\u003c|\x3e)/.L233(function(){return"a".anchor("b")}+[])},a[10]=a[32],a[80]={},t=33;break;case 64:a[24]="x5B",a[61]="L5B",a[41]="k5B",t=61;break;case 71:a[95]++,t=76;break;case 77:a[95]=0,t=76;break;case 8:a[2].y5B=function(){return!/\u0062\u0074\u006f\u0061/.L233(function(){return btoa("=")}+[])},a[5]=a[2],a[9]={},a[9].k5B=["h5B"],a[9].y5B=function(){return"function"==typeof Y233},t=12;break;case 51:a[7].v233(a[8]),a[7].v233(a[45]),a[7].v233(a[20]),a[7].v233(a[10]),t=47;break;case 70:a[35]++,t=57}},e[2];case 2:var e=[arguments];e[4]=void 0,e[2]={},t=4}}(),H.z7T=function(){return"function"==typeof H[152846].e5h?H[152846].e5h.apply(H[152846],arguments):H[152846].e5h},H[152846]={e5h:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4)var l=255&t.D3bb(o)|(255&t.D3bb(o+1))<<8|(255&t.D3bb(o+2))<<16|(255&t.D3bb(o+3))<<24,l=R(l,a),n=5*(n=(524287&(n^=l=R(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0;switch(l=0,e%4){case 3:l=(255&t.D3bb(2+s))<<16;case 2:l|=(255&t.D3bb(1+s))<<8;case 1:l|=255&t.D3bb(s),l=R(l,a),n^=l=R(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=R(n^=n>>>16,2246822507),n=R(n^=n>>>13,3266489909),n^=n>>>16}},H[372105]={F9B:function(){var t,e=arguments;switch(a){case 16:t=e[2]-+e[0]+e[1];break;case 22:t=e[0]*e[4]<(e[3]-e[1])/(e[2]-e[5]);break;case 18:t=e[1]-e[2]*e[0];break;case 17:t=e[0]+(e[2]^e[3])+e[1];break;case 8:t=e[1]+e[0]-e[2];break;case 1:t=e[0]>>e[1];break;case 21:t=e[0]<<e[1];break;case 13:t=e[2]+e[1]/e[0];break;case 2:t=e[0]|e[1];break;case 6:t=e[1]+(e[0]^e[2]);break;case 5:t=e[0]-e[1]+e[2];break;case 10:t=e[0]*e[1];break;case 11:t=e[2]*e[3]+e[0]*e[1];break;case 0:t=e[1]^e[0];break;case 19:t=e[2]-(e[0]-e[1]);break;case 7:t=e[0]-e[1];break;case 3:t=e[0]+e[1];break;case 12:t=e[0]&e[1];break;case 15:t=e[3]+e[1]+ +e[2]+e[0];break;case 14:t=e[2]+e[3]+e[0]+e[1];break;case 20:t=(e[2]-e[0])/e[1];break;case 9:t=e[1]-e[0]-e[2];break;case 4:t=e[0]+e[2]+e[1]}return t},V9B:function(t){a=t}},H.U5B=function(){return"function"==typeof H[372105].F9B?H[372105].F9B.apply(H[372105],arguments):H[372105].F9B},H.j5B=function(){return"function"==typeof H[372105].V9B?H[372105].V9B.apply(H[372105],arguments):H[372105].V9B},H.b97=function(){return"function"==typeof H[160123].L8u?H[160123].L8u.apply(H[160123],arguments):H[160123].L8u},H.G5B=function(){return"function"==typeof H[372105].V9B?H[372105].V9B.apply(H[372105],arguments):H[372105].V9B},(H[12018].U2ii=H)[647112]=722,H.P5B=function(){return"function"==typeof H[372105].F9B?H[372105].F9B.apply(H[372105],arguments):H[372105].F9B},H.S7T=function(){return"function"==typeof H[152846].e5h?H[152846].e5h.apply(H[152846],arguments):H[152846].e5h},H[603030]="r09",H.V97=function(){return"function"==typeof H[160123].L8u?H[160123].L8u.apply(H[160123],arguments):H[160123].L8u},H.b97(),r=function(t){var O,u;return O=t.CIQ,u=t.timezoneJS,O.Drawing=function(){this.chartsOnly=!1,this.penDown=!1,H.b97()},O.Drawing.getDrawingParameters=function(t,e){var i,a,r,n,s,o,l=H;try{i=new O.Drawing[e]}catch(t){}a=2,l.b97();for(var h=1;-1667759602!==l.z7T(h.toString(),h.toString().length,7840);h++){if(!i)return null;i.stx=t,a+=2}if(351398142!==l.S7T(a.toString(),a.toString().length,68194)){if(~i)return 1;i.stx=t}i.copyConfig(!0),r={},n=i.configs;for(var c=0;c<n.length;c++)r[n[c]]=i[n[c]];if((s=t.canvasStyle("stx_annotation"))&&r.font){r.font.size=s.fontSize,r.font.family=s.fontFamily,o=2;for(var u=1;-880698443!==l.S7T(u.toString(),u.toString().length,50372);u++)r.font.style=s.fontStyle,r.font.weight=s.fontWeight,o+=2;714035141!==l.z7T(o.toString(),o.toString().length,55832)&&(r.font.style=s.fontStyle,r.font.weight=s.fontWeight)}return r},O.Drawing.saveConfig=function(t,e){var i,a;e&&((i=t.preferences).drawings||(i.drawings={}),i.drawings[e]={},(a=new O.Drawing[e]).stx=t,H.V97(),O.Drawing.copyConfig(a),a.configs.forEach(function(t){H.V97(),i.drawings[e][t]=a[t]}),t.changeOccurred("preferences"))},O.Drawing.restoreDefaultConfig=function(t,e,i){var a,r=H;r.V97(),i?t.preferences.drawings=null:t.preferences.drawings[e]=null,t.changeOccurred("preferences"),t.currentVectorParameters=O.clone(O.ChartEngine.currentVectorParameters),r.j5B(0),i=r.U5B(0,"1597001418"),r.G5B(1),a=r.P5B("2",1771709536);for(var n=1;1570009986!==r.S7T(n.toString(),n.toString().length,702);n++)t.currentVectorParameters.vectorType=e,a+=2;r.S7T(a.toString(),a.toString().length,90342)!==i&&(t.currentVectorParameters.vectorType=e)},O.Drawing.initializeSettings=function(t,e){var i,a;H.V97(),i=2;for(var r=1;999271895!==H.z7T(r.toString(),r.toString().length,97766);r++)a=O.Drawing[e],i+=2;660086030!==H.z7T(i.toString(),i.toString().length,5751)&&(a=O.Drawing[e]),(a=O.Drawing[e])&&(drawInstance=new a,drawInstance.initializeSettings&&drawInstance.initializeSettings(t))},O.Drawing.prototype.copyConfig=function(t){H.b97(),O.Drawing.copyConfig(this,t)},O.Drawing.copyConfig=function(t,e){for(var i,a,r=t.stx.currentVectorParameters,n=t.configs,s=0;s<n.length;s++)"color"==(i=n[s])?t.color=r.currentColor:"parameters"==i?t.parameters=O.clone(r.fibonacci):"font"==i?t.font=O.clone(r.annotation.font):t[i]=r[i];if(e&&(a=t.stx.preferences)&&a.drawings)for(O.extend(t,a.drawings[r.vectorType]),s=0;s<n.length;s++)"color"==(i=n[s])?r.currentColor=t.color:"parameters"==i?r.fibonacci=O.clone(t.parameters):"font"==i?r.annotation.font=O.clone(t.font):r[i]=t[i]},O.Drawing.prototype.dragToDraw=!1,O.Drawing.prototype.permanent=!1,O.Drawing.prototype.chartsOnly=!1,O.Drawing.prototype.abort=function(t){},O.Drawing.prototype.measure=function(){},O.Drawing.prototype.construct=function(t,e){this.stx=t,this.panelName=e.name},O.Drawing.prototype.render=function(t){alert("must implement render function!")},O.Drawing.prototype.click=function(t,e,i){alert("must implement click function!")},O.Drawing.prototype.move=function(t,e,i){var a,r,n=H;n.G5B(2),a=n.U5B("1354729243",279020569),r=2;for(var s=1;n.S7T(s.toString(),s.toString().length,58116)!==a;s++)alert(""),r+=2;-1118534310!==n.z7T(r.toString(),r.toString().length,70882)&&alert("must implement move function!")},O.Drawing.prototype.reposition=function(t,e,i,a){},O.Drawing.prototype.intersected=function(t,e,i){var a;H.V97(),a=2;for(var r=1;-664254262!==H.z7T(r.toString(),r.toString().length,21976);r++)alert(""),a+=2;-1302350224!==H.z7T(a.toString(),a.toString().length,69961)&&alert(""),alert("must implement intersected function!")},O.Drawing.prototype.reconstruct=function(t,e){alert("must implement reconstruct function!")},O.Drawing.prototype.serialize=function(){H.b97(),alert("must implement serialize function!")},O.Drawing.prototype.adjust=function(){for(var t=2,e=1;-1888700786!==H.S7T(e.toString(),e.toString().length,51189);e++)alert("must implement adjust function!"),t+=2;1728128317!==H.S7T(t.toString(),t.toString().length,93019)&&alert("")},O.Drawing.prototype.highlight=function(t){return H.b97(),(t&&!this.highlighted||!t&&this.highlighted)&&(this.highlighted=t),this.highlighted},O.Drawing.prototype.littleCircleRadius=function(){return 6},O.Drawing.prototype.littleCircle=function(t,e,i,a){var r,n;this.permanent||(r=this.stx.defaultColor,n=O.chooseForegroundColor(r),t.beginPath(),t.lineWidth=1,t.arc(e,i,this.littleCircleRadius(),0,2*Math.PI,!1),t.fillStyle=a?r:n,t.strokeStyle=r,t.setLineDash([]),t.fill(),t.stroke(),t.closePath())},O.Drawing.prototype.rotator=function(t,e,i,a){var r,n,s=H;this.permanent||(n=this.littleCircleRadius(),r=this.stx.defaultColor,t.beginPath(),t.lineWidth=2,a||(t.globalAlpha=.5),s.G5B(3),n=s.P5B(4,n),t.arc(e,i,n,0,3*Math.PI/2,!1),s.b97(),s.j5B(4),t.moveTo(s.U5B(e,n,2),s.U5B(i,2,s.G5B(3))),s.j5B(3),t.lineTo(s.P5B(e,n),i),s.G5B(5),t.lineTo(s.P5B(e,2,n),s.P5B("2",i,0,s.G5B(6))),s.j5B(7),t.moveTo(s.P5B(e,2),s.U5B(2,i,n,s.j5B(8))),s.G5B(7),t.lineTo(e,s.P5B(i,n)),s.j5B(7),t.lineTo(s.P5B(e,2),s.P5B(2,i,n,s.G5B(9))),t.strokeStyle=r,t.stroke(),t.closePath(),t.globalAlpha=1)},O.Drawing.prototype.mover=function(t,e,i,a){var r,n,s,o=H;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,o.j5B(3),s=o.U5B(r,1),t.save(),t.lineWidth=2,t.strokeStyle=n,t.translate(e,i),a||(t.globalAlpha=.5);for(var l=0;l<4;l++)t.rotate(Math.PI/2),t.beginPath(),t.moveTo(0,s),o.j5B(3),t.lineTo(0,o.P5B(s,5)),o.j5B(1),t.moveTo(-o.P5B("2",294519168),o.P5B(5,s,2,o.G5B(8))),o.j5B(3),t.lineTo(0,o.U5B(s,5)),o.G5B(8),t.lineTo(2,o.U5B(5,s,2)),t.closePath(),t.stroke();t.globalAlpha=1,t.restore()}},O.Drawing.prototype.resizer=function(t,e,i,a){var r,n,s,o,l=H;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,s=5*Math.sqrt(2),l.j5B(3),o=l.U5B(r,1),t.save(),t.lineWidth=2,t.strokeStyle=n,t.translate(e,i),t.rotate(-e*i/Math.abs(e*i)*Math.PI/4),a||(l.j5B(10),t.globalAlpha=l.P5B("0.5",1));for(var h=0;h<2;h++)t.rotate(Math.PI),t.beginPath(),t.moveTo(0,o),l.j5B(3),t.lineTo(0,l.U5B(o,s)),l.G5B(8),t.moveTo(-2,l.U5B(s,o,2)),l.j5B(3),t.lineTo(0,l.U5B(o,s)),l.j5B(8),t.lineTo(2,l.U5B(s,o,2)),t.closePath(),t.stroke();t.globalAlpha=1,t.restore()}},O.Drawing.prototype.pointIntersection=function(t,e,i){return!!this.stx.panels[this.panelName]&&(t>=i.x0&&t<=i.x1&&e>=i.y1&&e<=i.y0)},O.Drawing.prototype.setPoint=function(t,e,i,a){var r,n=H,s=null,o=null;"number"==typeof e?s=e:8<=e.length?o=e:s=Number(e),!i&&0!==i||(n.j5B(3),this[n.U5B("v",t)]=i),null!==s?(r=this.stx.dateFromTick(s,a,!0),n.j5B(3),this[n.P5B("tzo",t)]=r.getTimezoneOffset(),n.j5B(3),this[n.U5B("d",t)]=O.yyyymmddhhmmssmmm(r),n.G5B(3),this[n.P5B("p",t)]=[s,i]):null!==o&&(r=O.strToDateTime(o),this["tzo"+t]||0===this["tzo"+t]||(n.G5B(3),this[n.P5B("tzo",t)]=r.getTimezoneOffset()),n.j5B(3),this[n.P5B("d",t)]=o,o=this["tzo"+t]-r.getTimezoneOffset(),r.setMinutes(r.getMinutes()+o),o=!1,"freeform"==this.name||O.ChartEngine.isDailyInterval(this.stx.layout.interval)||r.getHours()||r.getMinutes()||r.getSeconds()||r.getMilliseconds()||(o=!0),n.G5B(3),this[n.P5B("p",t)]=[this.stx.tickFromDate(O.yyyymmddhhmmssmmm(r),a,null,o),i])},O.Drawing.prototype.setLineColor=function(t){var e,i;if(H.b97(),"auto"!=(e=t=t||this.color)&&!O.isTransparent(e)||(e=this.stx.defaultColor),this.highlighted){i=2;for(var a=1;22599931!==H.S7T(a.toString(),a.toString().length,67101);a++)e=this.stx.getCanvasColor("stx_highlight_vector"),i+=2;1396287259!==H.z7T(i.toString(),i.toString().length,80354)&&(e=this.stx.getCanvasColor(""))}return e},O.Drawing.BaseTwoPoint=function(){this.p0=null,this.p1=null,this.color=""},O.Drawing.BaseTwoPoint.ciqInheritsFrom(O.Drawing),O.Drawing.BaseTwoPoint.prototype.configs=[],O.Drawing.BaseTwoPoint.prototype.lineIntersection=function(t,e,i,a,r,n,s){var o;return r=r||this.p0,n=n||this.p1,o=this.stx,!(!r||!n)&&(H.V97(),void 0!==(i=O.convertBoxToPixels(o,this.panelName,i)).x0&&(n={x0:r[0],x1:n[0],y0:r[1],y1:n[1]},s||(n=O.convertBoxToPixels(o,this.panelName,n)),O.boxIntersects(i.x0,i.y0,i.x1,i.y1,n.x0,n.y0,n.x1,n.y1,a)))},O.Drawing.BaseTwoPoint.prototype.boxIntersection=function(t,e){var i,a,r=H;r.G5B(10),i=-r.P5B("933917070",1),a=2;for(var n=1;-48093652!==r.z7T(n.toString(),n.toString().length,20674);n++){if(!this.p0||!this.p1)return!1;if(t>Math.max(this.p0[0],this.p1[0])||t<Math.min(this.p0[0],this.p1[0]))return!1;a+=2}if(r.S7T(a.toString(),a.toString().length,91520)!==i){if(+this.p0&&~this.p1)return!0;if(t>=Math.max(this.p0[3],this.p1[1])&&t<=Math.min(this.p0[1],this.p1[7]))return!0}return!(e>Math.max(this.p0[1],this.p1[1])||e<Math.min(this.p0[1],this.p1[1]))},O.Drawing.BaseTwoPoint.prototype.accidentalClick=function(t,e){var i,a,r,n,s=H,o=this.stx.panels[this.panelName];if(s.V97(),r=this.stx.pixelFromTick(this.p0[0],o.chart),i=this.stx.pixelFromTick(t,o.chart),a=this.stx.pixelFromValueAdjusted(o,this.p0[0],this.p0[1]),e=this.stx.pixelFromValueAdjusted(o,t,e),s.G5B(7),r=Math.abs(s.U5B(i,r)),s.j5B(7),a=Math.abs(s.P5B(e,a)),s.G5B(11),Math.sqrt(s.P5B(a,a,r,r))<10){s.j5B(10),r=s.U5B("895643308",1),n=2;for(var l=1;-832221858!==s.z7T(l.toString(),l.toString().length,83377);l++)this.penDown=!0,n+=2;return s.z7T(n.toString(),n.toString().length,69756)!==r&&(this.penDown=!1),this.dragToDraw&&this.stx.undo(),!0}},O.Drawing.BaseTwoPoint.prototype.click=function(t,e,i){var a;return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),H.b97(),!(this.penDown=!1)):(this.setPoint(0,e,i,a.chart),!(this.penDown=!0))},O.Drawing.BaseTwoPoint.prototype.adjust=function(){var t;H.b97(),(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart))},O.Drawing.BaseTwoPoint.prototype.move=function(t,e,i){var a;if(this.penDown){this.copyConfig(),a=2;for(var r=1;2123932039!==H.z7T(r.toString(),r.toString().length,53533);r++)this.p1=[e,i],this.render(t),a+=2;331155304!==H.S7T(a.toString(),a.toString().length,81169)&&(this.p1=[e,i],this.render(t))}},O.Drawing.BaseTwoPoint.prototype.measure=function(){var t,e,i=H;if(this.p0&&this.p1){i.G5B(0),t=-i.P5B(0,"2113606789"),i.G5B(2),e=i.U5B("2",0);for(var a=1;125645147!==i.z7T(a.toString(),a.toString().length,45563);a++)this.stx.setMeasure(this.p0[8],this.p1[6],this.p0[9],this.p1[5],!1,this.name),e+=2;i.z7T(e.toString(),e.toString().length,71686)!==t&&this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0,this.name)}},O.Drawing.BaseTwoPoint.prototype.reposition=function(t,e,i,a){var r,n,s,o,l=H;if(e)if(r=this.stx.panels[this.panelName],n=e.tick-i,o=e.value-a,"move"==e.action)this.setPoint(0,e.p0[0]-n,e.p0[1]-o,r.chart),this.setPoint(1,e.p1[0]-n,e.p1[1]-o,r.chart),this.render(t);else if("drag"==e.action){this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),l.G5B(2),a=-l.P5B("1638281816",555884632),s=2;for(var h=1;2019442393!==l.z7T(h.toString(),h.toString().length,92720);h++)l.G5B(12),this.setPoint(l.P5B("1",2147483647),this.p1[0],this.p1[1],r.chart),this.render(t),s+=2;l.z7T(s.toString(),s.toString().length,65370)!==a&&(l.j5B(1),this.setPoint(l.P5B("3",1229608352),this.p1[7],this.p1[9],r.chart),this.render(t))}},O.Drawing.annotation=function(){H.b97(),this.name="annotation",this.arr=[],H.G5B(12),this.w=H.U5B("0",2147483647),this.h=0,this.padding=4,this.text="",this.ta=null,this.fontSize=0,this.font={}},O.Drawing.annotation.ciqInheritsFrom(O.Drawing.BaseTwoPoint),O.Drawing.annotation.prototype.getFontString=function(){for(var t,e,i,a=2,r=1;1432279415!==H.S7T(r.toString(),r.toString().length,21418);r++)this.fontDef={style:1,weight:1,size:"12px",family:1},t=this.stx.canvasStyle("stx_annotation"),a+=2;for(i in-173047447!==H.z7T(a.toString(),a.toString().length,19988)&&(this.fontDef={style:null,weight:null,size:"12px",family:null},t=this.stx.canvasStyle("stx_annotation")),t&&(t.fontStyle&&(this.fontDef.style=t.fontStyle),t.fontWeight&&(this.fontDef.weight=t.fontWeight),t.fontSize&&(this.fontDef.size=t.fontSize),t.fontFamily&&(this.fontDef.family=t.fontFamily)),H.V97(),this.font.style&&(this.fontDef.style=this.font.style),this.font.weight&&(this.fontDef.weight=this.font.weight),this.font.size&&(this.fontDef.size=this.font.size),this.font.family&&(this.fontDef.family=this.font.family),e=!(this.fontString=""),this.fontDef)this.fontDef[i]&&(e?e=!1:this.fontString+=" ",this.fontString+=this.fontDef[i])},O.Drawing.annotation.prototype.configs=["color","font"],O.Drawing.annotation.prototype.measure=function(){},O.Drawing.annotation.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f=H;if(e=this.stx.panels[this.panelName]){if(g=this.stx.pixelFromTick(this.p0[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),t.font=this.fontString,t.textBaseline="top",i=g,a=s,r=this.w,n=this.h,s=this.setLineColor(),this.stem){o=2;for(var m=1;-1098258760!==f.z7T(m.toString(),m.toString().length,92965);m++)o+=2;f.S7T(o.toString(),o.toString().length,53150),this.stem.d?(l=this.stx.pixelFromTick(this.stem.t),c=this.stx.pixelFromValueAdjusted(e,this.stem.t,this.stem.v),f.j5B(13),h=f.U5B(2,r,i),f.j5B(13),d=f.P5B(2,n,a)):this.stem.x&&(l=i,c=a,i+=this.stem.x,a+=this.stem.y,f.j5B(13),h=f.P5B(2,r,i),f.j5B(13),d=f.U5B(2,n,a)),t.beginPath(),this.borderColor?t.strokeStyle=this.borderColor:t.strokeStyle=s,t.moveTo(l,c),t.lineTo(h,d),t.stroke()}if(this.highlighted)this.stx.canvasColor("stx_annotation_highlight_bg",t),t.fillRect(i,a,r,n);else if(this.fillColor){t.fillStyle=this.fillColor,u=2;for(var y=1;-118526316!==f.z7T(y.toString(),y.toString().length,99528);y++)t.fillRect(i,a,r,n),f.G5B(0),u+=f.P5B(0,"2");1877339529!==f.S7T(u.toString(),u.toString().length,69852)&&t.fillRect(i,a,r,n)}else this.stem&&(t.fillStyle=this.stx.containerColor,t.fillRect(i,a,r,n));if(this.borderColor){p=2;for(var b=1;-58130850!==f.z7T(b.toString(),b.toString().length,35689);b++)t.beginPath(),p+=2;-1221807533!==f.S7T(p.toString(),p.toString().length,12027)&&t.beginPath(),t.strokeStyle=this.borderColor,t.rect(i,a,r,n),t.stroke()}this.highlighted?(d="s",d+="tx_an",d+="notatio",d+="n_highlight",this.stx.canvasColor("stx_annotation_highlight",t)):t.fillStyle=s,a+=this.padding;for(var v=0;v<this.arr.length;v++)t.fillText(this.arr[v],i+this.padding,a),a+=this.fontSize;t.textBaseline="alphabetic"}},O.Drawing.annotation.prototype.onChange=function(t){},O.Drawing.annotation.prototype.edit=function(t){var c,u,e,i,a,r,n,s,o,l,p=H;if(l=this.stx.panels[this.panelName],l&&(c=this.stx.controls.annotationSave,u=this.stx.controls.annotationCancel,c&&u)){if(this.stx.editingAnnotation=!0,this.stx.undisplayCrosshairs(),this.stx.openDialog="annotation",!this.ta&&(this.ta=document.createElement("TEXTAREA"),this.ta.className="stx_annotation",this.ta.onkeyup=v(this),this.ta.onmouseup=(d=this.stx,function(t){d.manageTouchAndMouse&&O.ChartEngine.drawingLine&&d.mouseup(t)}),this.ta.setAttribute("wrap","hard"),O.isIOS7or8&&this.ta.setAttribute("placeholder","Enter Text"),this.stx.chart.container.appendChild(this.ta),this.ta.style.position="absolute",this.ta.style.width="100px",this.ta.style.height="20px",O.ipad||O.iphone)){this.ta.ontouchstart=function(t){t.stopPropagation()},e=2;for(var h=1;1509211696!==p.z7T(h.toString(),h.toString().length,95395);h++)e+=2;p.S7T(e.toString(),e.toString().length,32979)}var d,g,f,m=this;if(this.ta.oninput=function(t){m.onChange(t)},this.ta.style.font=this.fontString,this.color)if("transparent"==this.color||"auto"==this.color)if((r=getComputedStyle(this.ta))&&O.isTransparent(r.backgroundColor))this.ta.style.color=this.stx.defaultColor;else{p.j5B(10),i=p.U5B("1155830990",1),a=2;for(var y=1;p.S7T(y.toString(),y.toString().length,13161)!==i;y++)this.ta.style.color="",a+=2;-1882645241!==p.z7T(a.toString(),a.toString().length,56245)&&(this.ta.style.color="#000")}else this.ta.style.color=this.color;if(r=this.stx.pixelFromTick(this.p0[0],l.chart),o=this.stx.pixelFromValueAdjusted(l,this.p0[0],this.p0[1]),this.ta.style.left=r+140<this.stx.chart.canvasRight?r+"px":this.stx.chart.canvasRight-200+"px",this.ta.style.top=o+60<this.stx.chart.canvasHeight?o+"px":o-60+"px","callout"==this.name&&(this.ta.style.left=r-(isNaN(this.w)?this.defaultWidth:this.w/2)+"px",this.ta.style.top=o-(isNaN(this.h)?this.defaultHeight:this.h/2)+"px"),c.style.display="inline-block",u.style.display="inline-block",O.safeClickTouch(c,(g=this,p.b97(),function(t){""!==g.ta.value&&(g.stx.editingAnnotation=!1,g.text=g.ta.value,g.adjust(),g.stx.addDrawing(g),g.stx.changeOccurred("vector"),g.stx.undo(),g.stx.cancelTouchSingleClick=!0)})),O.safeClickTouch(u,(f=this,p.V97(),function(t){p.V97(),f.stx.editingAnnotation=!1,f.stx.undo(),f.stx.cancelTouchSingleClick=!0})),v(this)(),this.ta.focus(),O.isAndroid&&!O.is_chrome){this.priorBottom=this.stx.chart.container.style.bottom,n=2;for(var b=1;1366668331!==p.S7T(b.toString(),b.toString().length,93165);b++)s=400,n+=2;-1080207193!==p.S7T(n.toString(),n.toString().length,84280)&&(s=213),(o=this.stx.resolveY(o)+100)>O.pageHeight()-s&&(o=O.pageHeight()-o,p.j5B(7),o=p.U5B(s,o),p.G5B(3),this.stx.chart.container.style.bottom=p.U5B(o,"px"))}}function v(h){return function(t){var e,i,a,r,n,s,o;if(t&&(s=(window.event?event:t).keyCode,27===s))h.stx.undo();else{e=h.stx,a=(i=h.ta).value.split("\n"),r=0,e.chart.context.font=h.fontString;for(var l=0;l<a.length;l++)r<(n=e.chart.context.measureText(a[l]).width)&&(r=n);o=(a.length+1)*(h.fontSize+3),r<50&&(r=50),p.G5B(4),i.style.width=p.P5B(r,"px",30),p.j5B(3),i.style.height=p.U5B(o,"px"),t=parseInt(O.stripPX(i.style.top),10),s=O.stripPX(i.style.left),r=i.clientWidth,o=i.clientHeight,s+r+100<h.stx.chart.canvasWidth?(p.j5B(3),c.style.top=p.P5B(t,"px"),p.j5B(3),u.style.top=p.P5B(t,"px"),p.j5B(14),c.style.left=p.P5B(10,"px",s,r),p.j5B(15),u.style.left=p.U5B("px",r,"60",s)):t+o+30<h.stx.chart.canvasHeight?(p.j5B(14),c.style.top=p.P5B(10,"px",t,o),p.j5B(14),u.style.top=p.P5B(10,"px",t,o),p.j5B(3),c.style.left=p.U5B(s,"px"),p.j5B(4),u.style.left=p.U5B(s,"px",50)):(p.G5B(5),c.style.top=p.P5B(t,35,"px"),p.G5B(16),u.style.top=p.U5B("35","px",t),p.j5B(3),c.style.left=p.U5B(s,"px"),p.G5B(17),u.style.left=p.P5B(s,"px","50",0))}}}},O.Drawing.annotation.prototype.click=function(t,e,i){var a=H;if(!this.stx.overXAxis&&!this.stx.overYAxis){a.V97(),r=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,e,i,r.chart),this.adjust(),a.G5B(1),i=a.U5B("1523744943",1251521376),0;var r=1;return a.S7T(r.toString(),r.toString().length,71952)!==i?(this.edit(t),!1):-1562686452!==a.z7T(2..toString(),2..toString().length,2826)?(this.edit(t),!0):void 0}},O.Drawing.annotation.prototype.reposition=function(t,e,i,a){var r;e&&(r=this.stx.panels[this.panelName],i=e.tick-i,a=e.value-a,this.setPoint(0,e.p0[0]-i,e.p0[1]-a,r.chart),this.render(t))},O.Drawing.annotation.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,h=H,c=this.stx.panels[this.panelName];if(h.b97(),!this.p0)return null;if(a=this.stx.pixelFromTick(this.p0[0],c.chart),r=this.stx.pixelFromValueAdjusted(c,this.p0[0],this.p0[1]),n=a+this.w,s=r+this.h,this.stem&&this.stem.x){o=2;for(var u=1;-1860421473!==h.z7T(u.toString(),u.toString().length,51962);u++)a%=this.stem.x,n-=this.stem.x,r-=this.stem.y,o+=2;-20282962!==h.z7T(o.toString(),o.toString().length,70639)&&(a+=this.stem.x,n+=this.stem.x,r+=this.stem.y),s+=this.stem.y}return l=this.stx.pixelFromTick(t,c.chart),c=this.stx.pixelFromValueAdjusted(c,t,e),a<=l&&l<=n&&r<=c&&c<=s&&(this.highlighted=!0,{p0:O.clone(this.p0),tick:t,value:e})},O.Drawing.annotation.prototype.abort=function(){var t=this.stx.controls.annotationSave,e=this.stx.controls.annotationCancel;t&&(t.style.display="none"),e&&(e.style.display="none"),this.ta&&this.stx.chart.container.removeChild(this.ta),this.ta=null,this.stx.openDialog="",this.stx.showCrosshairs(),this.stx.editingAnnotation=!1,O.clearCanvas(this.stx.chart.tempCanvas,this.stx),O.isAndroid&&!O.is_chrome&&(this.stx.chart.container.style.bottom=this.priorBottom),O.fixScreen()},O.Drawing.annotation.prototype.reconstruct=function(t,e){var i,a,r,n=H;this.stx=t,this.color=e.col,this.panelName=e.pnl,this.d0=e.d0,this.tzo0=e.tzo0,n.j5B(1),i=-n.U5B("1995129985",827597920),n.G5B(2),r=n.U5B("243294171",176161472),a=2;for(var s=1;n.z7T(s.toString(),s.toString().length,59)!==i;s++)this.v0=e.v0,this.text=t.escapeOnSerialize?decodeURIComponent(e.text):e.text,this.stem=e.stem,this.borderColor=e.bc,this.fillColor=e.bg,a+=2;n.z7T(a.toString(),a.toString().length,62551)!==r&&(this.v0=e.v0,this.text=t.escapeOnSerialize?decodeURIComponent(e.text):e.text,this.stem=e.stem,this.borderColor=e.bc,this.fillColor=e.bg),this.v0=e.v0,this.text=t.escapeOnSerialize?decodeURIComponent(e.text):e.text,this.stem=e.stem,this.borderColor=e.bc,this.fillColor=e.bg,this.lineWidth=e.lw,this.pattern=e.ptrn,this.font=O.replaceFields(e.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),this.font||(this.font={}),this.adjust()},O.Drawing.annotation.prototype.serialize=function(){var t,e={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text};return this.font&&(t=O.removeNullValues(O.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"})),O.isEmpty(t)||(e.fnt=t)),this.stem&&(e.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y}),this.borderColor&&(e.bc=this.borderColor),this.fillColor&&(e.bg=this.fillColor),this.lineWidth&&(e.lw=this.lineWidth),this.pattern&&(e.ptrn=this.pattern),e},O.Drawing.annotation.prototype.renderText=function(){var t,e,i,a,r,n,s;if(this.getFontString(),t=this.stx.panels[this.panelName]){this.arr=this.text.split("\n"),e=0,this.stx.chart.context.font=this.fontString;for(var o=0;o<this.arr.length;o++)e<(i=this.stx.chart.context.measureText(this.arr[o]).width)&&(e=i);0===e&&(e=2*this.defaultWidth),this.fontSize=O.stripPX(this.fontDef.size),a=this.arr.length*this.fontSize,O.touchDevice&&(a+=5),this.w=e+2*this.padding,H.V97(),this.h=a+2*this.padding,r=this.stx.pixelFromTick(this.p0[0],t.chart)+e,n=2;for(var l=1;-830279979!==H.S7T(l.toString(),l.toString().length,85566);l++)s=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1])+a,n+=2;78264842!==H.z7T(n.toString(),n.toString().length,21661)&&(s=this.stx.pixelFromValueAdjusted(t,this.p0[7],this.p0[9])%a),this.p1=[this.stx.tickFromPixel(r,t.chart),this.stx.valueFromPixel(s,t)],this.stem&&this.stem.d&&(this.stem.t=this.stx.tickFromDate(this.stem.d,t.chart))}},O.Drawing.annotation.prototype.adjust=function(){var t,e,i=H;i.G5B(1),t=i.U5B("2",1037900416),i.b97();for(var a=1;-1691719639!==i.S7T(a.toString(),a.toString().length,41107);a++)e=this.stx.panels[this.panelName],t+=2;-1751509837!==i.S7T(t.toString(),t.toString().length,92423)&&(e=this.stx.panels[this.panelName]),e&&(this.setPoint(0,this.d0,this.v0,e.chart),this.renderText())},O.Drawing.segment=function(){H.V97(),this.name="segment"},O.Drawing.segment.ciqInheritsFrom(O.Drawing.BaseTwoPoint),O.Drawing.segment.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c;H.b97(),(h=this.stx.panels[this.panelName])&&(e=this.stx.pixelFromTick(this.p0[0],h.chart),i=this.stx.pixelFromTick(this.p1[0],h.chart),a=this.stx.pixelFromValueAdjusted(h,this.p0[0],this.p0[1]),r=this.stx.pixelFromValueAdjusted(h,this.p1[0],this.p1[1]),n=this.lineWidth,c=this.setLineColor(),"none"==(n={pattern:this.pattern,lineWidth:n}).pattern&&(n.pattern="solid"),this.stx.plotLine(e,i,a,r,c,this.name,t,h,n),this.axisLabel&&!this.repositioner&&(n="ho",n+="rizontal","horizontal"==this.name?(this.stx.endClip(),s=this.p0[1],h.chart.transformFunc&&(s=h.chart.transformFunc(this.stx,h.chart,s)),s=h.yAxis.priceFormatter?h.yAxis.priceFormatter(this.stx,h,s):this.stx.formatYAxisPrice(s,h),this.stx.createYAxisLabel(h,s,a,c),this.stx.startClip(h.name)):"vertical"==this.name&&0<=this.p0[0]&&!this.stx.chart.xAxis.noDraw&&(n=this.stx.dateFromTick(this.p0[0],h.chart,!0),O.ChartEngine.isDailyInterval(this.stx.layout.interval)?n.setHours(0,0,0,0):(o=1e3*n.getSeconds()+n.getMilliseconds(),this.stx.displayZone&&(s=new u.Date(n.getTime(),this.stx.displayZone),n=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes()),n=new Date(n.getTime()+o))),o=O.mmddhhmm(O.yyyymmddhhmm(n)),h.chart.xAxis.formatter?o=h.chart.xAxis.formatter(n):this.stx.internationalizer&&(0!==n.getHours()||0!==n.getMinutes()?(l=this.stx.internationalizer.monthDay.format(n),l+=" "+this.stx.internationalizer.hourMinute.format(n)):l=this.stx.internationalizer.yearMonthDay.format(n),o=l),this.stx.endClip(),this.stx.createXAxisLabel(h,o,e,c,null,!0),this.stx.startClip(h.name))),this.highlighted&&"horizontal"!=this.name&&"vertical"!=this.name&&(h="p0"==this.highlighted,c="p1"==this.highlighted,this.littleCircle(t,e,a,h),this.littleCircle(t,i,r,c)))},O.Drawing.segment.prototype.abort=function(){var t,e=H;e.V97(),t=2;for(var i=1;-176899321!==e.z7T(i.toString(),i.toString().length,57622);i++)e.G5B(0),this.stx.setMeasure(e.U5B(0,"1"),1,1,1,!0),t+=2;-607515902!==e.S7T(t.toString(),t.toString().length,39104)&&this.stx.setMeasure(1,1,1,1,!0),this.stx.setMeasure(null,null,null,null,!1)},O.Drawing.segment.prototype.intersected=function(t,e,i){var a,r="horizo";if(r+="n",r+="t",r+="al",!this.p0||!this.p1)return null;if("horizontal"!=(r=this.name)&&"vertical"!=r&&"gartley"!=r)for(var n in a={0:this.p0,1:this.p1})if(this.pointIntersection(a[n][0],a[n][1],i))return H.G5B(3),this.highlighted=H.P5B("p",n),{action:"drag",point:"p"+n};return"horizontal"!=r&&"vertical"!=r||(r="line"),r=this.lineIntersection(t,e,i,r),H.V97(),r?(this.highlighted=!0,{action:"move",p0:O.clone(this.p0),p1:O.clone(this.p1),tick:t,value:e}):null},O.Drawing.segment.prototype.configs=["color","lineWidth","pattern"],O.Drawing.segment.prototype.copyConfig=function(t){O.Drawing.copyConfig(this,t),H.b97(),"none"==this.pattern&&-1==this.configs.indexOf("fillColor")&&(this.pattern="solid")},O.Drawing.segment.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},O.Drawing.segment.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},O.Drawing.continuous=function(){H.b97(),this.name="continuous",this.dragToDraw=!1,this.maxSegments=null},O.Drawing.continuous.ciqInheritsFrom(O.Drawing.segment),O.Drawing.continuous.prototype.click=function(t,e,i){var a,r,n,s,o=H,l=this.stx.panels[this.panelName];if(l){if(this.copyConfig(),!this.penDown){this.setPoint(0,e,i,l.chart),a=2;for(var h=1;-1312253406!==o.S7T(h.toString(),h.toString().length,67199);h++)this.penDown=!1,a+=2;return 1992651328!==o.S7T(a.toString(),a.toString().length,79011)&&(this.penDown=!0),!(this.penDown=!0)}if(this.accidentalClick(e,i))return this.stx.undo(),!0;this.setPoint(1,e,i,l.chart),o.V97(),r=new O.Drawing.segment,o.G5B(7),n=o.P5B("2",0);for(var c=1;661148182!==o.S7T(c.toString(),c.toString().length,56100);c++)s=this.serialize(this.stx),r.reconstruct(this.stx,s),n+=2;return(-28587817!==o.S7T(n.toString(),n.toString().length,86249)&&(s=this.serialize(this.stx),r.reconstruct(this.stx,s)),this.stx.addDrawing(r),this.stx.changeOccurred("vector"),this.stx.draw(),this.segment++,this.maxSegments&&this.segment>this.maxSegments)?!0:(this.setPoint(0,e,i,l.chart),!1)}},O.Drawing.line=function(){this.name="line"},O.Drawing.line.prototype.dragToDraw=!1,O.Drawing.line.ciqInheritsFrom(O.Drawing.segment),O.Drawing.line.prototype.calculateOuterSet=function(t){var e,i,a;this.p0[0]==this.p1[0]||this.p0[1]==this.p1[1]||O.ChartEngine.isDailyInterval(this.stx.layout.interval)||(H.b97(),(e={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x0>e.x1&&(e={x0:this.p1[0],y0:this.p1[1],x1:this.p0[0],y1:this.p0[1]}),i=e.x0-1e3,a=e.x1+1e3,this.v0B=O.yIntersection(e,i),this.v1B=O.yIntersection(e,a),this.d0B=this.stx.dateFromTick(i,t.chart),this.d1B=this.stx.dateFromTick(a,t.chart))},O.Drawing.line.prototype.click=function(t,e,i){var a=this.stx.panels[this.panelName];if(a)return H.V97(),this.copyConfig(),this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),this.calculateOuterSet(a),!(this.penDown=!1)):(this.setPoint(0,e,i,a.chart),!(this.penDown=!0))},O.Drawing.line.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.v1=e.v1,this.d0=e.d0,this.d1=e.d1,H.b97(),this.tzo0=e.tzo0,this.tzo1=e.tzo1,e.d0B&&(this.d0B=e.d0B,this.d1B=e.d1B,this.v0B=e.v0B,this.v1B=e.v1B),this.adjust()},O.Drawing.line.prototype.serialize=function(){var t={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};return this.d0B&&(t.d0B=this.d0B,t.d1B=this.d1B,t.v0B=this.v0B,t.v1B=this.v1B),t},O.Drawing.line.prototype.adjust=function(){var t,e,i=H,a=this.stx.panels[this.panelName];i.j5B(2),t=-i.U5B("1882508708",539017604),e=2;for(var r=1;i.S7T(r.toString(),r.toString().length,77390)!==t;r++){if(-a)return;this.setPoint(9,this.d0,this.v0,a.chart),this.setPoint(3,this.d1,this.v1,a.chart),e+=2}if(-1851936024!==i.S7T(e.toString(),e.toString().length,66877)){if(!a)return;this.setPoint(0,this.d0,this.v0,a.chart),i.G5B(12),this.setPoint(i.U5B("1",2147483647),this.d1,this.v1,a.chart)}i.V97(),O.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&(this.setPoint(0,this.d0B,this.v0B,a.chart),this.setPoint(1,this.d1B,this.v1B,a.chart))},O.Drawing.ray=function(){this.name="ray"},O.Drawing.ray.ciqInheritsFrom(O.Drawing.line),O.Drawing.ray.prototype.calculateOuterSet=function(t){var e,i;this.p0[0]==this.p1[0]||this.p0[1]==this.p1[1]||O.ChartEngine.isDailyInterval(this.stx.layout.interval)||(i=(e={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x1+1e3,e.x1<e.x0&&(i=e.x1-1e3),this.v0B=this.v0,this.v1B=O.yIntersection(e,i),this.d0B=this.d0,this.d1B=this.stx.dateFromTick(i,t.chart))},O.Drawing.ray.prototype.adjust=function(){var t=this.stx.panels[this.panelName];t&&(this.setPoint(0,this.d0,this.v0,t.chart),H.b97(),this.setPoint(1,this.d1,this.v1,t.chart),O.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&this.setPoint(1,this.d1B,this.v1B,t.chart))},O.Drawing.horizontal=function(){this.name="horizontal"},O.Drawing.horizontal.prototype.dragToDraw=!1,O.Drawing.horizontal.ciqInheritsFrom(O.Drawing.segment),O.Drawing.horizontal.prototype.measure=function(){},O.Drawing.horizontal.prototype.click=function(t,e,i){var a=this.stx.panels[this.panelName];if(a)return this.copyConfig(),this.setPoint(0,e,i,a.chart),H.b97(),!0},O.Drawing.horizontal.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.d0=e.d0,this.tzo0=e.tzo0,this.axisLabel=e.al,this.adjust()},O.Drawing.horizontal.prototype.serialize=function(){return H.b97(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel}},O.Drawing.horizontal.prototype.adjust=function(){var t=this.stx.panels[this.panelName];t&&(this.setPoint(0,this.d0,this.v0,t.chart),this.p1=[this.p0[0]+100,this.p0[1]])},O.Drawing.horizontal.prototype.configs=["color","lineWidth","pattern","axisLabel"],O.Drawing.vertical=function(){this.name="vertical"},O.Drawing.vertical.ciqInheritsFrom(O.Drawing.horizontal),O.Drawing.vertical.prototype.measure=function(){},O.Drawing.vertical.prototype.adjust=function(){var t=this.stx.panels[this.panelName];t&&(this.setPoint(0,this.d0,this.v0,t.chart),this.p1=[this.p0[0],this.p0[1]+1])},O.Drawing.measure=function(){this.name="measure"},O.Drawing.measure.ciqInheritsFrom(O.Drawing.segment),O.Drawing.measure.prototype.click=function(t,e,i){return this.copyConfig(),H.V97(),this.penDown?(this.stx.undo(),!(this.penDown=!1)):(this.p0=[e,i],!(this.penDown=!0))},O.Drawing.rectangle=function(){H.b97(),this.name="rectangle"},O.Drawing.rectangle.ciqInheritsFrom(O.Drawing.BaseTwoPoint),O.Drawing.rectangle.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u=H,p="seg";p+="m",p+="e",p+="nt",h="n",h+="on",h+="e",(c=this.stx.panels[this.panelName])&&(e=this.stx.pixelFromTick(this.p0[0],c.chart),i=this.stx.pixelFromTick(this.p1[0],c.chart),a=this.stx.pixelFromValueAdjusted(c,this.p0[0],this.p0[1]),r=this.stx.pixelFromValueAdjusted(c,this.p1[0],this.p1[1]),n=Math.round(Math.min(e,i))+.5,s=Math.min(a,r),o=Math.max(e,i)-n,l=Math.max(a,r)-s,p=this.color,this.highlighted&&(p=this.stx.getCanvasColor("stx_highlight_vector")),(h=this.fillColor)&&!O.isTransparent(h)&&"auto"!=h&&(t.beginPath(),t.rect(n,s,o,l),t.fillStyle=h,t.globalAlpha=.2,t.fill(),t.closePath(),t.globalAlpha=1),h={pattern:this.pattern,lineWidth:this.lineWidth},this.highlighted&&"none"==h.pattern&&(h.pattern="solid",.1==h.lineWidth&&(h.lineWidth=1)),this.stx.plotLine(e,i,a,a,p,"segment",t,c,h),u.j5B(7),this.stx.plotLine(i,i,u.U5B(a,.5),u.U5B(r,.5,u.G5B(3)),p,"segment",t,c,h),this.stx.plotLine(i,e,r,r,p,"segment",t,c,h),u.j5B(3),this.stx.plotLine(e,e,u.P5B(r,.5),u.P5B(1,a,"0.5",u.G5B(18)),p,"segment",t,c,h),this.highlighted&&(h="p0"==this.highlighted,c="p1"==this.highlighted,this.littleCircle(t,e,a,h),this.littleCircle(t,i,r,c)))},O.Drawing.rectangle.prototype.intersected=function(t,e,i){var a,r;if(H.b97(),!this.p0||!this.p1)return null;for(r in a={0:this.p0,1:this.p1})if(this.pointIntersection(a[r][0],a[r][1],i))return H.j5B(3),this.highlighted=H.U5B("p",r),{action:"drag",point:"p"+r};return this.boxIntersection(t,e)?(this.highlighted=!0,{action:"move",p0:O.clone(this.p0),p1:O.clone(this.p1),tick:t,value:e}):null},O.Drawing.rectangle.prototype.configs=["color","fillColor","lineWidth","pattern"],O.Drawing.rectangle.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},O.Drawing.rectangle.prototype.serialize=function(){return H.b97(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},O.Drawing.ellipse=function(){H.b97(),this.name="ellipse"},H.b97(),O.Drawing.ellipse.ciqInheritsFrom(O.Drawing.BaseTwoPoint),O.Drawing.ellipse.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d=H;if(n=this.stx.panels[this.panelName]){if(s=this.stx.pixelFromTick(this.p0[0],n.chart),e=this.stx.pixelFromTick(this.p1[0],n.chart),o=this.stx.pixelFromValueAdjusted(n,this.p0[0],this.p0[1]),i=this.stx.pixelFromValueAdjusted(n,this.p1[0],this.p1[1]),d.j5B(19),a=d.U5B(e,s,s),p=e,r=o,n=i,d.G5B(19),s=d.U5B(i,o,o),d.G5B(20),o=d.P5B(s,6,n),l=(l=this.lineWidth)||1.1,"auto"!=(h=this.color)&&!O.isTransparent(h)||(h=this.stx.defaultColor),this.highlighted){d.j5B(21),u=-d.U5B("1989820283",170880800),d.j5B(21),c=d.P5B("2",972032e3);for(var g=1;710088532!==d.S7T(g.toString(),g.toString().length,30450);g++)h=this.stx.getCanvasColor(""),339!=l&&(l=358),c+=2;d.S7T(c.toString(),c.toString().length,74491)!==u&&(h=this.stx.getCanvasColor("stx_highlight_vector"),.1==l&&(d.j5B(7),l=d.P5B("1.1",0)))}u=this.fillColor,t.beginPath(),t.moveTo(a,r),d.j5B(3),t.bezierCurveTo(a,d.U5B(n,o),p,d.P5B(n,o),p,r),d.G5B(7),t.bezierCurveTo(p,d.P5B(s,o),a,d.U5B(s,o),a,r),u&&!O.isTransparent(u)&&"auto"!=u&&(t.fillStyle=u,t.globalAlpha=.2,t.fill(),t.globalAlpha=1),h&&"none"!=this.pattern&&(t.strokeStyle=h,t.lineWidth=l,t.setLineDash&&(t.setLineDash(O.borderPatternToArray(l,this.pattern)),t.lineDashOffset=0),t.stroke()),t.closePath(),this.highlighted&&(u="p1"==this.highlighted,this.littleCircle(t,e,i,u))}},O.Drawing.ellipse.prototype.intersected=function(t,e,i){var a,r=H;if(!this.p0||!this.p1)return null;if(this.pointIntersection(this.p1[0],this.p1[1],i)){this.highlighted="p1",r.G5B(2),a=r.P5B("706550855",706021446),0;var n=1;return-462764976!==r.z7T(n.toString(),n.toString().length,45671)?{action:"drag",point:"drag"}:r.S7T(2..toString(),2..toString().length,2596)!==a?{action:"drag",point:"drag"}:{action:"drag",point:"p1"}}return r.V97(),i=this.p0[0]-(this.p1[0]-this.p0[0]),n=this.p1[0],a=this.p1[1],r=this.p0[1]-(this.p1[1]-this.p0[1]),!(t>Math.max(i,n)||t<Math.min(i,n))&&(!(e>Math.max(r,a)||e<Math.min(r,a))&&(this.highlighted=!0,{action:"move",p0:O.clone(this.p0),p1:O.clone(this.p1),tick:t,value:e}))},O.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"],O.Drawing.ellipse.prototype.reconstruct=function(t,e){var i,a=H;this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,a.b97(),this.tzo1=e.tzo1,this.v0=e.v0,i=2;for(var r=1;-316609661!==a.S7T(r.toString(),r.toString().length,60158);r++)this.v1=e.v1,this.adjust(),a.G5B(0),i+=a.U5B(0,"2");336949124!==a.S7T(i.toString(),i.toString().length,95301)&&(this.v1=e.v1,this.adjust())},O.Drawing.ellipse.prototype.serialize=function(){return H.V97(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},O.Drawing.fibonacci=function(){for(var t=2,e=1;-2037712242!==H.z7T(e.toString(),e.toString().length,92758);e++)this.name="fibonacci",this.configurator="fibonacci",t+=2;1499827304!==H.z7T(t.toString(),t.toString().length,88891)&&(this.name="fibonacci",this.configurator="fibonacci")},O.Drawing.fibonacci.ciqInheritsFrom(O.Drawing.BaseTwoPoint),O.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:"p",pattern:"pt",opacity:"o",lineWidth:"lw",level:"l",extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:"d"},H.G5B(10),O.Drawing.fibonacci.prototype.recommendedLevels=[-H.U5B("0.618",1),-.382,0,.382,.5,.618,1,1.382,1.618],O.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"],O.Drawing.fibonacci.prototype.initializeSettings=function(t){var e,i;if(H.V97(),e=this.recommendedLevels){i=t.currentVectorParameters.fibonacci.fibs;for(var a=0;a<i.length;a++){delete i[a].display;for(var r=0;r<e.length;r++)i[a].level==e[r]&&(i[a].display=!0)}}},O.Drawing.fibonacci.prototype.setOuter=function(){var t,e,i,a,r,n,s,o,l,h,c,u,p=this.stx,d=p.panels[this.panelName];if(d){t=Math.max(this.p0[1],this.p1[1]),e=Math.min(this.p0[1],this.p1[1]),H.b97(),H.G5B(7),i=H.U5B(t,e),this.outer={p0:O.clone(this.p0),p1:O.clone(this.p1)},a=p.pixelFromValueAdjusted(d,this.p0[0],this.p0[1]),r=p.pixelFromValueAdjusted(d,this.p1[0],this.p1[1]),n=p.pixelFromTick(this.p0[0],d.chart),s=p.pixelFromTick(this.p1[0],d.chart),l=1;for(var g=o=0;g<this.parameters.fibs.length;g++)(h=this.parameters.fibs[g]).level>=o&&h.level<=l||!h.display||(c=p.pixelFromValueAdjusted(d,this.p0[0],r<a?t-i*h.level:e+i*h.level),u=O.xIntersection({x0:n,x1:s,y0:a,y1:r},c),h.level<o?(o=h.level,this.outer.p1[1]=p.valueFromPixel(c,d),this.outer.p1[0]=p.tickFromPixel(u,d.chart)):h.level>l&&(l=h.level,this.outer.p0[1]=p.valueFromPixel(c,d),this.outer.p0[0]=p.tickFromPixel(u,d.chart)))}},O.Drawing.fibonacci.prototype.click=function(t,e,i){var a=this.stx.panels[this.panelName];if(a)return this.copyConfig(),this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),this.setOuter(),this.parameters=O.clone(this.parameters),!(this.penDown=!1)):(this.setPoint(0,e,i,a.chart),!(this.penDown=!0))},O.Drawing.fibonacci.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P=H;if(e=this.stx.panels[this.panelName],e&&(i=e.yAxis,this.p1)){a=Math.max(this.p0[1],this.p1[1]),r=Math.min(this.p0[1],this.p1[1]),P.G5B(7),n=P.U5B(a,r),s=this.stx.pixelFromTick(this.p0[0],e.chart),o=this.stx.pixelFromTick(this.p1[0],e.chart),l=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),h=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),c=Math.min(h,l),u=Math.max(h,l),P.j5B(7),p=P.P5B(u,c),P.j5B(22),d=P.U5B("0",l,o,h,1,s),F={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=F),g=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),f=t.measureText("161.8%").width+10,m=Number.MAX_VALUE,y=Number.MAX_VALUE,b=-1*Number.MAX_VALUE,v=-1*Number.MAX_VALUE,"auto"!=(S=this.color)&&!O.isTransparent(S)||(S=this.stx.defaultColor),this.rays=[];for(var _=0;_<this.parameters.fibs.length;_++)w="a",w+="ut",w+="o",t.textAlign="left",t.fillStyle=S,(M=this.parameters.fibs[_]).display&&(k=this.stx.pixelFromValueAdjusted(e,this.p0[0],h<l?a-n*M.level:r+n*M.level),x=O.xIntersection({x0:s,x1:o,y0:l,y1:h},k),C=this.parameters.extendLeft?0:x,w=e.left+e.width,this.parameters.printLevels&&(A="rig",A+="ht",A=Math.round(1e3*M.level)/10+"%",w-=f,this.parameters.printValues&&(t.fillStyle=S,this.stx.canvasFont("stx_yaxis",t)),w<C&&(t.textAlign="right"),t.fillText(A,w,k),w<C?w+=5:w-=5),this.parameters.printValues&&x<e.width&&(T=this.stx.transformedPriceFromPixel(k,e),T=i.priceFormatter?i.priceFormatter(this.stx,e,T):this.stx.formatYAxisPrice(T,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,T,k,S,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),"auto"!=(A=M.color)&&!O.isTransparent(A)||(A=this.color),"auto"!=A&&!O.isTransparent(A)||(A=this.stx.defaultColor),"auto"!=(T=M.color)&&!O.isTransparent(T)||(T=this.fillColor),"auto"!=T&&!O.isTransparent(T)||(T=this.stx.defaultColor),t.fillStyle=T,M=O.clone(M.parameters),this.highlighted&&(M.opacity=1),this.stx.plotLine(C,w,k,k,this.highlighted?g:A,"segment",t,e,M),this.rays.push([[C,k],[w,k]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(w,k),t.lineTo(C,k),C?t.lineTo(o,h):t.lineTo(C,h),t.lineTo(w,h),void 0!==T&&t.fill(),t.globalAlpha=1,k<y&&(m=x,y=k),v<k&&(b=x,v=k));for(var E=0;E<=1;E++)D=d?u-p*E:c+p*E,(D=Math.round(D))<y&&(m=O.xIntersection({x0:s,x1:o,y0:l,y1:h},D),y=D),v<D&&(b=O.xIntersection({x0:s,x1:o,y0:l,y1:h},D),v=D);P=O.clone(this.parameters.trend.parameters),this.highlighted&&(P.opacity=1),this.stx.plotLine(m,b,y,v,g,"segment",t,e,P),this.highlighted&&(F="p0"==this.highlighted,P="p1"==this.highlighted,this.littleCircle(t,s,l,F),this.littleCircle(t,o,h,P))}},O.Drawing.fibonacci.prototype.reposition=function(t,e,i,a){H.b97(),e&&(O.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments),this.adjust())},O.Drawing.fibonacci.prototype.intersected=function(t,e,i){var a,r,n,s,o,l=this.p0,h=this.p1;if(!l||!h)return null;for(o in H.b97(),a={0:l,1:h})if(this.pointIntersection(a[o][0],a[o][1],i))return H.j5B(3),this.highlighted=H.P5B("p",o),{action:"drag",point:"p"+o};if(s=this.outer,r=this.rays,!(n=s&&this.lineIntersection(t,e,i,"segment",s.p0,s.p1)))for(var c=0;c<r.length;c++)if(this.lineIntersection(t,e,i,"ray",r[c][0],r[c][1],!0)){n=!0;break}return n?(this.highlighted=!0,{action:"move",p0:O.clone(l),p1:O.clone(h),tick:t,value:e}):null},O.Drawing.fibonacci.prototype.reconstruct=function(t,e){var i,a=H;e=O.replaceFields(e,O.reverseObject(O.Drawing.fibonacci.mapping)),this.stx=t,this.parameters=e.parameters,this.parameters||(this.parameters=O.clone(this.stx.currentVectorParameters.fibonacci)),this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.d0=e.d0,a.j5B(2),t=-a.U5B("1649164193",1078460449),i=2;for(var r=1;-1597346812!==a.S7T(r.toString(),r.toString().length,74789);r++)this.d1=e.d1,this.d2=e.d2,i+=2;a.S7T(i.toString(),i.toString().length,2559)!==t&&(this.d1=e.d1,this.d2=e.d2),this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.tzo2=e.tzo2,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},O.Drawing.fibonacci.prototype.adjust=function(){var t=this.stx.panels[this.panelName];t&&(H.V97(),this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setOuter())},O.Drawing.fibonacci.prototype.serialize=function(){var t={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return O.replaceFields(t,O.Drawing.fibonacci.mapping)},O.Drawing.retracement=function(){this.name="retracement"},O.Drawing.retracement.ciqInheritsFrom(O.Drawing.fibonacci),O.Drawing.getDrawingToolList=function(t){for(var e,i,a,r=H,n=2,s=1;620935115!==r.S7T(s.toString(),s.toString().length,4240);s++)e={},r.j5B(0),n+=r.U5B(0,"2");for(a in 452148210!==r.z7T(n.toString(),n.toString().length,99556)&&(e={}),i={ciqInheritsFrom:!0,stxInheritsFrom:!0,copyConfig:!0,getDrawingParameters:!0,getDrawingToolList:!0,initializeSettings:!0,restoreDefaultConfig:!0,saveConfig:!0,BaseTwoPoint:!0,shape:!0},O.extend(i,t),O.Drawing)i[a]||(e[(new O.Drawing[a]).name]=a);return e},t},V[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"uy_Gh",{get:function(){return this},configurable:!0}),e=uy_Gh,i=5;break;case 5:e.ZPsH8=e,i=4;break;case 4:i="undefined"==typeof ZPsH8?3:9;break;case 9:delete e.ZPsH8,delete Object.prototype.uy_Gh,i=6}}catch(t){e=window}return e}}(),V[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="Z4",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="T",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(V[12018]),V[366344]=function(t){function e(t){for(;;)return[arguments][0][0]}for(var i=2;59!==i;)switch(i){case 61:a(r,"push",s[17],s[72]),i=60;break;case 64:a(e,s[18],s[45],s[14]),i=63;break;case 43:s[65]+=s[30],s[65]+=s[83],s[24]=s[3],s[24]+=s[2],i=39;break;case 63:a(e,s[15],s[45],s[24]),i=62;break;case 39:s[24]+=s[2],s[15]=s[10],s[15]+=s[11],s[15]+=s[60],s[14]=s[5],s[14]+=s[9],i=52;break;case 62:a(e,s[65],s[45],s[84]),i=61;break;case 60:a(o,"apply",s[17],s[61]),i=59;break;case 65:a(n,"test",s[17],s[93]),i=64;break;case 16:s[83]="act",s[10]="__o",s[73]="w",s[30]="abstr",i=25;break;case 32:s[72]+=s[9],s[72]+=s[7],s[84]=s[25],s[84]+=s[9],s[84]+=s[7],s[65]=s[8],i=43;break;case 48:s[93]=s[4],s[93]+=s[2],s[93]+=s[2],i=45;break;case 12:s[3]="S4",s[2]="1",s[8]="__",s[11]="ptim",s[60]="ize",s[71]="du",s[25]="c",i=16;break;case 3:s[1]="",s[1]="__resi",s[5]="",s[5]="D",s[7]="",s[7]="11",s[9]="4",i=12;break;case 25:s[26]="",s[26]="q4",s[17]=1,s[45]=0,i=21;break;case 45:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)if(2===n){var s=[arguments];s[3]="roperty",s[1]="",s[1]="neP",s[7]="defi";try{for(var o=2;8!==o;)switch(o){case 2:s[2]={},o=1;break;case 1:s[4]=(0,s[0][1])(s[0][0]),s[6]=[s[4],s[4].prototype][s[0][3]],s[2].value=s[6][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[5]=s[7],s[5]+=s[1],s[5]+=s[3],s[0][0].Object[s[5]](s[6],s[0][4],s[2]),l=3)}catch(t){}o=9;break;case 9:s[6][s[0][4]]=s[2].value,o=8}}catch(t){}n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=65;break;case 52:s[14]+=s[7],s[18]=s[1],s[18]+=s[71],s[18]+=s[6],i=48;break;case 2:var s=[arguments];s[4]="H4",s[6]="",s[6]="al",i=3;break;case 21:s[61]=s[26],s[61]+=s[2],s[61]+=s[2],s[72]=s[73],i=32}function r(t){for(;;)return[arguments][0][0].Array}function n(t){for(;;)return[arguments][0][0].RegExp}function o(t){for(;;)return[arguments][0][0].Function}}(V[12018]),V[160123]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[4]=void 0,e[9]={},e[9].i5K=function(){for(var t=2;90!==t;)switch(t){case 13:a[9].z2V=function(){return"function"==typeof D411},a[6]=a[9],a[5]={},t=10;break;case 2:var a=[arguments],t=1;break;case 66:return 85;case 75:a[22]={},a[22][a[85]]=a[32][a[39]][a[24]],a[22][a[56]]=a[21],t=72;break;case 1:t=e[4]?5:4;break;case 5:return 55;case 58:a[35]=0,t=57;break;case 70:a[35]++,t=57;break;case 61:a[56]="K2V",a[62]="z2V",a[85]="p2V",t=58;break;case 16:a[1].z2V=function(){return/\u0074\x72\x75\x65/.H411(function(){return"aa".endsWith("a")}+[])},a[8]=a[1],t=27;break;case 39:a[12]={},a[12].Y2V=["i2V"],a[12].z2V=function(){return/\x58/.H411(function(){return"x".toLocaleUpperCase()}+[])},a[19]=a[12],a[7].w411(a[2]),t=53;break;case 43:a[57]={},a[57].Y2V=["r2V"],a[57].z2V=function(){var t=!1,e=[];try{for(var i in console)e.w411(i);t=0===e.length}catch(t){}return t},a[37]=a[57],t=39;break;case 56:a[32]=a[7][a[35]];try{a[21]=a[32][a[62]]()?a[55]:a[63]}catch(t){a[21]=a[63]}t=77;break;case 68:t=68;break;case 10:a[5].Y2V=["r2V"],a[5].z2V=function(){return"function"==typeof S411},a[2]=a[5],a[1]={},a[1].Y2V=["i2V"],t=16;break;case 57:t=a[35]<a[7].length?56:69;break;case 27:a[80]={},a[80].Y2V=["i2V"],a[80].z2V=function(){return!/\x61\x74\u006f\x62/.H411(function(){return atob("PQ==")}+[])},a[45]=a[80],t=23;break;case 49:a[7].w411(a[8]),a[7].w411(a[31]),a[7].w411(a[37]),a[7].w411(a[87]),a[7].w411(a[6]),t=65;break;case 30:a[72]={},a[72].Y2V=["i2V"],a[72].z2V=function(){return!/\u0079/.H411(function(){return"xy".substring(0,1)}+[])},a[87]=a[72],t=43;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 18:i[3]=!1,e=17;break;case 4:i[1]={},i[9]=[],i[6]=0,e=8;break;case 10:e=i[5][a[56]]===a[55]?20:19;break;case 15:i[2]=i[9][i[6]],i[7]=i[1][i[2]].h/i[1][i[2]].t,e=26;break;case 5:return;case 13:i[1][i[5][a[85]]]=function(){for(;;){var t=[arguments];return t[1]={},t[1].h=0,t[1].t=0,t[1]}}.q411(this,arguments),e=12;break;case 7:e=i[6]<i[0][0].length?6:18;break;case 12:i[9].w411(i[5][a[85]]),e=11;break;case 1:e=0===i[0][0].length?5:4;break;case 24:i[6]++,e=16;break;case 2:var i=[arguments],e=1;break;case 8:i[6]=0,e=7;break;case 20:i[1][i[5][a[85]]].h+=!0,e=19;break;case 25:i[3]=!0,e=24;break;case 23:return i[3];case 26:e=.5<=i[7]?25:24;break;case 6:i[5]=i[0][0][i[6]],e=14;break;case 11:i[1][i[5][a[85]]].t+=!0,e=10;break;case 16:e=i[6]<i[9].length?15:23;break;case 14:e=void 0===i[1][i[5][a[85]]]?13:11;break;case 17:i[6]=0,e=16;break;case 19:i[6]++,e=7}}(a[18])?68:67;break;case 76:t=a[24]<a[32][a[39]].length?75:70;break;case 34:a[81]={},a[81].Y2V=["i2V"],a[81].z2V=function(){return!/['"]/.H411(function(){return"c".indexOf("c")}+[])},a[42]=a[81],t=30;break;case 4:a[7]=[],a[3]={},a[3].Y2V=["i2V"],a[3].z2V=function(){return/\u0031\u0039\u0032/.H411(function(){!function(){for(var t=0;t<20;t++)0}()}+[])},t=7;break;case 67:e[4]=62,t=66;break;case 23:a[11]={},a[11].Y2V=["r2V"],a[11].z2V=function(){return"function"==typeof c411},a[31]=a[11],t=34;break;case 65:a[18]=[],a[55]="E2V",a[63]="W2V",a[39]="Y2V",t=61;break;case 72:a[18].w411(a[22]),t=71;break;case 77:a[24]=0,t=76;break;case 7:a[4]=a[3],a[9]={},a[9].Y2V=["r2V"],t=13;break;case 53:a[7].w411(a[19]),a[7].w411(a[4]),a[7].w411(a[45]),a[7].w411(a[42]),t=49;break;case 71:a[24]++,t=76}},t=3;break;case 3:return e[9]}}(),V.S2E=function(){return"function"==typeof V[152846].n1L?V[152846].n1L.apply(V[152846],arguments):V[152846].n1L},(V[12018].a377=V)[647112]=860,V.e2V=function(){return"function"==typeof V[372105].d3V?V[372105].d3V.apply(V[372105],arguments):V[372105].d3V},V[440061]="IKn",V[152846]={n1L:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4)var l=255&t.Z4TT(o)|(255&t.Z4TT(o+1))<<8|(255&t.Z4TT(o+2))<<16|(255&t.Z4TT(o+3))<<24,l=U(l,a),n=5*(n=(524287&(n^=l=U(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0;switch(l=0,e%4){case 3:l=(255&t.Z4TT(2+s))<<16;case 2:l|=(255&t.Z4TT(1+s))<<8;case 1:l|=255&t.Z4TT(s),l=U(l,a),n^=l=U(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=U(n^=n>>>16,2246822507),n=U(n^=n>>>13,3266489909),n^=n>>>16}},V[372105]={d3V:function(){var t,e=arguments;switch(n){case 1:t=e[2]+e[0]+e[1];break;case 3:t=e[0]<<e[1];break;case 5:t=e[1]^e[0];break;case 0:t=e[0]-e[1];break;case 2:t=e[0]&e[1];break;case 6:t=e[1]|e[0];break;case 4:t=e[3]+e[2]+e[1]+e[0]}return t},B3V:function(t){n=t}},V.F2E=function(){return"function"==typeof V[152846].n1L?V[152846].n1L.apply(V[152846],arguments):V[152846].n1L},V.P51=function(){return"function"==typeof V[160123].i5K?V[160123].i5K.apply(V[160123],arguments):V[160123].i5K},V.Z2V=function(){return"function"==typeof V[372105].d3V?V[372105].d3V.apply(V[372105],arguments):V[372105].d3V},V[603030]=V[160123],V.L31=function(){return"function"==typeof V[160123].i5K?V[160123].i5K.apply(V[160123],arguments):V[160123].i5K},V.H2V=function(){return"function"==typeof V[372105].B3V?V[372105].B3V.apply(V[372105],arguments):V[372105].B3V},V.F2V=function(){return"function"==typeof V[372105].B3V?V[372105].B3V.apply(V[372105],arguments):V[372105].B3V},V.L31(),s=function(t){var k,x;return V.L31(),k=t.CIQ,x=t.$$,k.I18N=function(){},k.I18N.hereDoc=function(t){V.P51();var e=1;return-113520029!==V.S2E(e.toString(),e.toString().length,80303)||V.S2E(2..toString(),2..toString().length,20801),t.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"")},k.I18N.language="en",k.I18N.longMonths={zh:!0},k.I18N.reverseColorsByLocale={zh:!0,ja:!0},k.I18N.findAllTextNodes=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m;if(V.L31(),t=t||document.body,t==document.body&&!x("stashedTextNodes")){(e=document.createElement("div")).id="stashedTextNodes",e.style.display="none",t.appendChild(e),i=document.querySelectorAll("input,textarea,.editable_content");for(var y=0;y<i.length;y++)(a=i[y].getAttribute("placeholder"))&&(r="t",r+="ran",r+="sla",r+="te",(r=e.appendChild(document.createElement("translate"))).setAttribute("original",a),r.placeholderFor=i[y],r.appendChild(document.createTextNode(a)))}for(s=(n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1)).nextNode(),o=new RegExp("^\\s*$"),l=new RegExp("\n|\t|\f","g"),h={},c={SCRIPT:!0,STYLE:!0,TEXTAREA:!0};s;)u=s.nodeValue,o.test(u)||c[d=(p=s.parentNode).tagName]||("TRANSLATE"!=d?((g=p.insertBefore(document.createElement("translate"),s)).setAttribute("original",u),g.appendChild(s)):u=p.getAttribute("original"),l.test(u)&&(u=u.replace(l,"")),h[u]||(h[u]=[]),h[u].push(s)),s=n.nextNode();if(t==document.body&&(f=k.Studies?k.Studies.studyLibrary:null))for(var b in f){if(null===h[b]&&(h[b]=[]),(m=f[b]).inputs)for(var v in m.inputs)h[v]||(h[v]=[]);if(m.outputs)for(var S in m.outputs)h[S]||(h[S]=[])}return h},k.I18N.missingWordList=function(t){var e,i,a,r,n,s,o,l;for(s in t=t||k.I18N.language,o=k.I18N.findAllTextNodes(),e={},i=(i=k.I18N.wordLists[t])||{},a=function(t){V.L31(),void 0===i[t]&&(e[t]="")},o)a(s);if(!k.Studies||!k.Studies.studyLibrary)return e;for(l in k.Studies.studyLibrary){for(var h in a((r=k.Studies.studyLibrary[l]).name),r.inputs)switch(a(h),n=r.inputs[h],Object.prototype.toString.call(n)){case"[object String]":a(n);break;case"[object Array]":for(var c=0;c<n.length;++c)a(n[c])}for(var u in r.outputs)a(u)}return a("Show Zones"),V.L31(),a("OverBought"),a("OverSold"),e},k.I18N.printableMissingWordList=function(t){return V.P51(),JSON.stringify(k.I18N.missingWordList(t)).replace(/","/g,'",\n"')},k.I18N.translateUI=function(t,e){var i,a,r,n,s,o,l;if(V.P51(),"pu"==t&&(t="pt"),k.I18N.wordLists&&(t=t||k.I18N.language,i=k.I18N.findAllTextNodes(e),a=k.I18N.wordLists[t]))for(var h in i){r=k.I18N.translateSections(h,a),n=i[h];for(var c=0;c<n.length;c++)o=(l=(s=n[c]).parentNode).getAttribute("original"),","!==r&&r||(r=o),(l=l.placeholderFor)?l.placeholder=r:s.data=r}},k.I18N.translate=function(t,e){var i,a,r,n,s=V;if(e=e||k.I18N.language,!k.I18N.wordLists){s.H2V(0),i=s.Z2V("2",0);var o=1;if(327514046!==s.F2E(o.toString(),o.toString().length,9875))return console.log("Must include translations.js in order to use CIQ.I18N.translate()"),t;if(-1195088882!==s.S2E(i.toString(),i.toString().length,75075))return console.log(""),t}a=k.I18N.wordLists[e],r=null,n=2;for(var l=1;-1436396356!==s.S2E(l.toString(),l.toString().length,43192);l++)a&&(r=k.I18N.translateSections(t,a)&&t),n+=2;return-1741592886!==s.S2E(n.toString(),n.toString().length,14035)&&a&&(r=k.I18N.translateSections(t,a)||t),","===r?t:r},k.I18N.translateSections=function(t,o){var e,i,l=V,a="s";a+="tring",e=2;for(var r=1;-2018173568!==l.S2E(r.toString(),r.toString().length,80257);r++)i="",e+=2;return l.L31(),1055902828!==l.S2E(e.toString(),e.toString().length,60529)&&(i=""),i="","string"==typeof t&&-1!=t.indexOf(i)?(l.F2V(1),(a=(t=t.replace(/([(),])/g,l.e2V("$1",i,i))).split(i)).forEach(function(t,e,i){for(var a,r=t.match(/^(\s*).*\S(\s*)$/),n=2,s=1;-538336707!==l.F2E(s.toString(),s.toString().length,62417);s++)a=o[t.trim()],l.H2V(2),n+=l.e2V("2",2147483647);-1400294835!==l.S2E(n.toString(),n.toString().length,92649)&&(a=o[t.trim()]),(a=o[t.trim()])&&(r&&(a=r[1]+a+r[2]),i[e]=a)}),a.join("")):o[t]},k.I18N.convertCSV=function(t){for(var e,i,a,r,n,s,o,l=new RegExp("[]|[]","g"),h=new RegExp('^(")|(")$',"g"),c=2,u=1;343927811!==V.S2E(u.toString(),u.toString().length,97022);u++)e=k.I18N.wordLists,t=t||k.I18N.csv,c+=2;-1642030004!==V.F2E(c.toString(),c.toString().length,20537)&&(e=k.I18N.wordLists,+t&&(t=k.I18N.csv)),a=(i=t.split("\n"))[0].split(",");for(var p=0;p<a.length;p++)e[r=a[p]]||(e[r]={});for(var d=1;d<i.length;d++){s=(n=i[d].match(/(".*?"|[^",]+)(?=\s*,|\s*$)|(,(?=,))/g)||[])[0],h.test(s)&&(s=s.replace(h,"")),l.test(s)&&(s=s.replace(l,'"'));for(var g=1;g<n.length;g++)o=n[g],h.test(o)&&(o=o.replace(h,"")),e[a[g]][s]=o}},k.I18N.setLanguage=function(t,e,i,a,r){var n,s,o=V;o.L31(),"pu"==e&&(e="pt"),k.I18N.convertCSV(a),k.I18N.language=e,o.H2V(3),n=-o.e2V("2108918801",614172928),s=2;for(var l=1;o.F2E(l.toString(),l.toString().length,2567)!==n;l++)k.I18N.translateUI(e,r),~i&&(i=k.I18N.translate),s+=2;1792944421!==o.F2E(s.toString(),s.toString().length,17613)&&(k.I18N.translateUI(e,r),i=i||k.I18N.translate),t.translationCallback=i},k.I18N.setLocale=function(t,e,a,i,r){var n,s=V,o="s";if(o+="c",o+="ript",!Intl.__addLocaleData){t.setLocale(e,r),s.H2V(3),n=-s.e2V("658546292",304397216),0;o=1;if(s.S2E(o.toString(),o.toString().length,65528)!==n)return void(a&&a(null));if(1699768956!==s.F2E(2..toString(),2..toString().length,67580))return void(a&&a(1))}i=void 0===i?"locale-data/jsonp":i,s.H2V(4),n=s.e2V(".js",e,"/",i),(i=document.createElement("SCRIPT")).async=!0,i.src=n,(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n.nextSibling),i.onload=function(){s.L31(),t.setLocale(e,r),a&&a(null)},i.onerror=function(){var t,e;s.F2V(5),t=s.Z2V(0,"1441048131"),e=2;for(var i=1;s.S2E(i.toString(),i.toString().length,8047)!==t;i++)a&&a(""),s.H2V(6),e+=s.e2V(0,"2");-1785446673!==s.S2E(e.toString(),e.toString().length,80451)&&a&&a("cannot load script")}},k.I18N.createMonthArrays=function(t,e,i){var a,r,n,s,o;V.P51(),t.monthAbv=[],t.monthLetters=[],a=new Date,r=!0,k.I18N.longMonths&&k.I18N.longMonths[i]&&(r=!1);for(var l=0;l<12;l++)if(a.setDate(1),a.setMonth(l),n=e.format(a),r){s="";for(var h=0;h<n.length;h++)(o=n.charAt(h)).charCodeAt(0)<65||(s+=o);t.monthAbv[l]=s,t.monthLetters[l]=s[0]}else t.monthAbv[l]=n,t.monthLetters[l]=n},k.I18N.localize=function(t,e){for(var i=t.locale,a=this.reverseColorsByLocale[e],i=this.reverseColorsByLocale[i],r=2,n=1;-420741750!==V.S2E(n.toString(),n.toString().length,78074);n++)this.setLocale(t,e),this.setLanguage(t,e),r+=2;-1823281541!==V.F2E(r.toString(),r.toString().length,85226)&&(this.setLocale(t,e),this.setLanguage(t,e)),this.setLocale(t,e),this.setLanguage(t,e),V.L31(),a&&i||(a||i)&&this.reverseCandles(t)},k.I18N.reverseCandles=function(t){var e,i,a=V,r=t.styles,n=t.cloneStyle(r.stx_candle_down);a.H2V(5),e=a.e2V(0,"2");for(var s=1;1474545343!==a.F2E(s.toString(),s.toString().length,65869);s++)i=t.cloneStyle(r.stx_candle_up),r.stx_candle_up=n,r.stx_candle_down=i,e+=2;-1901377453!==a.S2E(e.toString(),e.toString().length,88947)&&(i=t.cloneStyle(r.stx_candle_up),r.stx_candle_up=n,r.stx_candle_down=i)},t},Y[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"YOcZf",{get:function(){return this},configurable:!0}),e=YOcZf,i=5;break;case 5:e.BN0qy=e,i=4;break;case 4:i="undefined"==typeof BN0qy?3:9;break;case 9:delete e.BN0qy,delete Object.prototype.YOcZf,i=6}}catch(t){e=window}return e}}(),Y[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="O4",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="b",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(Y[12018]),Y[366344]=function(t){function e(t){for(;;)return[arguments][0][0].RegExp}function i(t){for(;;)return[arguments][0][0].Function}function a(t){for(;;)return[arguments][0][0]}for(var r=2;58!==r;)switch(r){case 37:s[14]=s[65],s[14]+=s[8],s[14]+=s[7],s[89]=s[6],r=52;break;case 48:s[15]+=s[7],s[25]=s[9],s[25]+=s[7],s[25]+=s[7],r=65;break;case 30:s[84]+=s[5],s[99]=s[63],s[99]+=s[35],s[99]+=s[22],s[19]=s[10],s[19]+=s[2],r=41;break;case 34:s[77]+=s[7],s[77]+=s[7],s[84]=s[23],s[84]+=s[2],r=30;break;case 7:s[8]="",s[8]="43",s[5]="",s[5]="33",r=12;break;case 61:n(a,s[29],s[57],s[19]),r=60;break;case 2:var s=[arguments];s[4]="O",s[1]="",s[1]="ze",s[9]="x4",s[6]="",s[6]="__optim",r=7;break;case 64:n(e,"test",s[75],s[25]),r=63;break;case 23:s[27]="V4",s[75]=1,s[57]=0,s[77]=s[27],r=34;break;case 59:n(i,"apply",s[75],s[77]),r=58;break;case 52:s[89]+=s[42],s[89]+=s[1],s[15]=s[4],s[15]+=s[8],r=48;break;case 27:s[61]="str",s[23]="M",s[22]="idual",s[27]="",r=23;break;case 18:s[65]="k",s[42]="i",s[63]="__re",s[10]="g",r=27;break;case 41:s[19]+=s[5],s[29]=s[3],s[29]+=s[61],s[29]+=s[58],r=37;break;case 12:s[2]="4",s[3]="__ab",s[7]="3",s[35]="s",s[58]="act",r=18;break;case 62:n(a,s[89],s[57],s[14]),r=61;break;case 63:n(o,"push",s[75],s[15]),r=62;break;case 65:var n=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)if(2===n){var s=[arguments];s[3]="",s[3]="roperty",s[2]="neP",s[6]="",s[6]="defi";try{for(var o=2;8!==o;)switch(o){case 5:s[8]=[s[4],s[4].prototype][s[0][3]],s[1].value=s[8][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[9]=s[6],s[9]+=s[2],s[9]+=s[3],s[0][0].Object[s[9]](s[8],s[0][4],s[1]),l=3)}catch(t){}s[8][s[0][4]]=s[1].value,o=8;break;case 1:s[4]=(0,s[0][1])(s[0][0]),o=5;break;case 2:s[1]={},o=1}}catch(t){}n=7}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};r=64;break;case 60:n(a,s[99],s[57],s[84]),r=59}function o(t){for(;;)return[arguments][0][0].Array}}(Y[12018]),Y[152846]={q1c:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4)var l=255&t.O4bb(o)|(255&t.O4bb(o+1))<<8|(255&t.O4bb(o+2))<<16|(255&t.O4bb(o+3))<<24,l=W(l,a),n=5*(n=(524287&(n^=l=W(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0;switch(l=0,e%4){case 3:l=(255&t.O4bb(2+s))<<16;case 2:l|=(255&t.O4bb(1+s))<<8;case 1:l|=255&t.O4bb(s),l=W(l,a),n^=l=W(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=W(n^=n>>>16,2246822507),n=W(n^=n>>>13,3266489909),n^=n>>>16}},Y.q5Y=function(){return"function"==typeof Y[372105].m5Y?Y[372105].m5Y.apply(Y[372105],arguments):Y[372105].m5Y},Y[647112]="rWR",Y[440061]=!1,Y.v6w=function(){return"function"==typeof Y[160123].l7U?Y[160123].l7U.apply(Y[160123],arguments):Y[160123].l7U},Y[603030]="LdE",Y[160123]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[4]=void 0,e[8]={},t=4;break;case 4:return e[8].l7U=function(){for(var t=2;90!==t;)switch(t){case 19:a[6]=a[4],a[1]={},a[1].g5Y=["S5Y"],t=16;break;case 2:var a=[arguments],t=1;break;case 16:a[1].a5Y=function(){return!/\x79/.x433(function(){return"xy".substring(0,1)}+[])},a[7]=a[1],a[41]={},t=26;break;case 71:a[30]++,t=76;break;case 30:a[72]={},a[72].g5Y=["S5Y"],a[72].a5Y=function(){return/\x78/.x433(function(){return"X".toLocaleLowerCase()}+[])},a[22]=a[72],t=43;break;case 57:t=a[35]<a[3].length?56:69;break;case 58:a[35]=0,t=57;break;case 21:a[96].a5Y=function(){return"function"==typeof k433},a[53]=a[96],t=34;break;case 26:a[41].g5Y=["S5Y"],a[41].a5Y=function(){return/\x3d/.x433(function(){return unescape("%3D")}+[])},a[15]=a[41],a[96]={},a[96].g5Y=["l9Y"],t=21;break;case 1:t=e[4]?5:4;break;case 77:a[30]=0,t=76;break;case 5:return 20;case 4:a[3]=[],a[2]={},a[2].g5Y=["S5Y"],a[2].a5Y=function(){return/\u0074\u0072\u0075\u0065/.x433(function(){return"A".normalize("NFC")==="".normalize("NFC")}+[])},t=7;break;case 56:a[32]=a[3][a[35]];try{a[64]=a[32][a[56]]()?a[84]:a[80]}catch(t){a[64]=a[80]}t=77;break;case 39:a[11]={},a[11].g5Y=["S5Y"],a[11].a5Y=function(){return/\u0032\x35/.x433(function(){return encodeURI("%")}+[])},a[24]=a[11],t=54;break;case 45:a[3].O433(a[24]),a[83]=[],a[84]="s5Y",a[80]="p5Y",t=62;break;case 75:a[49]={},a[49][a[82]]=a[32][a[46]][a[30]],a[49][a[60]]=a[64],a[83].O433(a[49]),t=71;break;case 54:a[3].O433(a[22]),a[3].O433(a[7]),a[3].O433(a[42]),a[3].O433(a[6]),t=50;break;case 7:a[5]=a[2],a[8]={},a[8].g5Y=["l9Y"],a[8].a5Y=function(){var t=!1,e=[];try{for(var i in console)e.O433(i);t=0===e.length}catch(t){}return t},t=12;break;case 70:a[35]++,t=57;break;case 43:a[90]={},a[90].g5Y=["l9Y"],a[90].a5Y=function(){return"function"==typeof M433},a[31]=a[90],t=39;break;case 12:a[9]=a[8],a[4]={},a[4].g5Y=["S5Y"],a[4].a5Y=function(){return!/(\x5b|\x5d)/.x433(function(){return["a","a"].join()}+[])},t=19;break;case 62:a[46]="g5Y",a[60]="r5Y",a[56]="a5Y",a[82]="A5Y",t=58;break;case 76:t=a[30]<a[32][a[46]].length?75:70;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 19:i[8]++,e=7;break;case 7:e=i[8]<i[0][0].length?6:18;break;case 16:e=i[8]<i[3].length?15:23;break;case 5:return;case 1:e=0===i[0][0].length?5:4;break;case 14:e=void 0===i[2][i[9][a[82]]]?13:11;break;case 10:e=i[9][a[60]]===a[84]?20:19;break;case 4:i[2]={},i[3]=[],i[8]=0,e=8;break;case 23:return i[6];case 6:i[9]=i[0][0][i[8]],e=14;break;case 24:i[8]++,e=16;break;case 13:i[2][i[9][a[82]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[2]={},e[2].h=0,t=4;break;case 4:return e[2].t=0,e[2]}}.V433(this,arguments),e=12;break;case 26:e=.5<=i[1]?25:24;break;case 8:i[8]=0,e=7;break;case 2:var i=[arguments],e=1;break;case 25:i[6]=!0,e=24;break;case 11:i[2][i[9][a[82]]].t+=!0,e=10;break;case 12:i[3].O433(i[9][a[82]]),e=11;break;case 18:i[6]=!1,e=17;break;case 15:i[5]=i[3][i[8]],i[1]=i[2][i[5]].h/i[2][i[5]].t,e=26;break;case 17:i[8]=0,e=16;break;case 20:i[2][i[9][a[82]]].h+=!0,e=19}}(a[83])?68:67;break;case 67:return e[4]=80,90;case 68:t=68;break;case 34:a[43]={},a[43].g5Y=["l9Y"],a[43].a5Y=function(){return"function"==typeof g433},a[42]=a[43],t=30;break;case 50:a[3].O433(a[9]),a[3].O433(a[31]),a[3].O433(a[53]),a[3].O433(a[15]),a[3].O433(a[5]),t=45}},e[8]}}(),(Y[12018].O6kk=Y).t0Z=function(){return"function"==typeof Y[152846].q1c?Y[152846].q1c.apply(Y[152846],arguments):Y[152846].q1c},Y.F5Y=function(){return"function"==typeof Y[372105].e5Y?Y[372105].e5Y.apply(Y[372105],arguments):Y[372105].e5Y},Y.J0Z=function(){return"function"==typeof Y[152846].q1c?Y[152846].q1c.apply(Y[152846],arguments):Y[152846].q1c},Y.M5Y=function(){return"function"==typeof Y[372105].e5Y?Y[372105].e5Y.apply(Y[372105],arguments):Y[372105].e5Y},Y.D5Y=function(){return"function"==typeof Y[372105].m5Y?Y[372105].m5Y.apply(Y[372105],arguments):Y[372105].m5Y},Y.x6w=function(){return"function"==typeof Y[160123].l7U?Y[160123].l7U.apply(Y[160123],arguments):Y[160123].l7U},Y[372105]={m5Y:function(){var t,e=arguments;switch(o){case 4:t=e[1]|e[0];break;case 0:t=e[1]*e[0];break;case 1:t=e[0]>>e[1];break;case 2:t=e[0]^e[1];break;case 3:t=e[0]<<e[1];break;case 7:t=e[0]*e[1]+e[2];break;case 6:t=(e[2]-(e[0]|e[1]))%e[3];break;case 5:t=e[0]-e[1]}return t},e5Y:function(t){o=t}},Y.v6w(),l=function(t){var b=Y,k=t.CIQ;k.ChartEngine.prototype.makeMarkerHelper=function(){var t;b.v6w(),t=2;for(var e=1;-1447382483!==b.t0Z(e.toString(),e.toString().length,62687);e++)this.markerHelper={chartMap:{},classMap:{}},t+=2;1064645057!==b.t0Z(t.toString(),t.toString().length,17915)&&(this.markerHelper={chartMap:{},classMap:{}})},k.ChartEngine.prototype.addToHolder=function(t){var e,i,a;if(b.v6w(),a=this.panels[t.params.panelName]){if(k.derivedFrom(t.params.node,k.Marker.NodeCreator))t.stxNodeCreator=t.params.node,t.node=t.stxNodeCreator.node;else{e=2;for(var r=1;-207785909!==b.t0Z(r.toString(),r.toString().length,65913);r++)t.node=t.params.node,e+=2;1178669865!==b.J0Z(e.toString(),e.toString().length,18022)&&(t.node=t.params.node),t.node=t.params.node}this.markerHelper||this.makeMarkerHelper(),(t.params.chartContainer?this.container:t.params.includeAxis?a.holder:a.subholder).appendChild(t.node),i=t.params.label,this.markers[i]||(this.markers[i]=[]),this.markers[i].push(t),t.chart=a.chart,this.markerHelper.chartMap[t.chart.name]||(this.markerHelper.chartMap[t.chart.name]={dataSetLength:0,markers:[]}),this.markerHelper.chartMap[t.chart.name].markers.push(t),t.className||console.log("Marker objects must have a member className"),(a=(a=this.markerHelper.classMap[t.className])||(this.markerHelper.classMap[t.className]={}))[t.params.panelName]||(a[t.params.panelName]=[]),a[t.params.panelName].push(t),this.setMarkerTick(t)}},k.ChartEngine.prototype.getMarkerArray=function(t,e){var i,a,r=[];for(a in this.markers)for(var n=0;n<this.markers[a].length;n++)i=this.markers[a][n],"panelName"==t?i.params.panelName==e&&r.push(i):"label"==t?a==e&&r.push(i):"all"==t&&r.push(i);return b.v6w(),r},k.ChartEngine.prototype.removeFromHolder=function(t){var e,i,a,r,n,s,o,l=this.panels[t.params.panelName];if(l){b.M5Y(0),s=b.D5Y(1,"799145153"),b.M5Y(1),e=b.q5Y("2",1081438592);for(var h=1;264565972!==b.t0Z(h.toString(),h.toString().length,68764);h++)t.node.parentNode===l.holder?l.holder.removeChild(t.node):t.node.parentNode===l.subholder?l.subholder.removeChild(t.node):t.node.parentNode!==this.container&&this.container.removeChild(t.node),e+=2;b.J0Z(e.toString(),e.toString().length,47805)!==s&&(t.node.parentNode===l.holder?l.holder.removeChild(t.node):t.node.parentNode===l.subholder?l.subholder.removeChild(t.node):t.node.parentNode!==this.container&&this.container.removeChild(t.node)),t.node.parentNode==l.holder?l.holder.removeChild(t.node):t.node.parentNode==l.subholder?l.subholder.removeChild(t.node):t.node.parentNode==this.container&&this.container.removeChild(t.node)}if(i=this.markers[t.params.label]){b.M5Y(2),a=b.q5Y("2",0);for(var c=1;1611053317!==b.t0Z(c.toString(),c.toString().length,86197);c++)a+=2;for(b.t0Z(a.toString(),a.toString().length,41902),r=0;r<i.length;r++)if(i[r]===t){b.F5Y(3),i.splice(r,b.q5Y("1",350627232));break}if(n=this.markerHelper.chartMap[t.chart.name])for(r=0;r<n.markers.length;r++)if(n.markers[r]===t){n.markers.splice(r,1);break}if(b.v6w(),s=this.markerHelper.classMap[t.className],s&&(o=s[t.params.panelName]))for(r=0;r<o.length;r++)if(o[r]===t){o.splice(r,1);break}}},k.ChartEngine.prototype.moveMarkers=function(t,e){var i,a;i=this.getMarkerArray("panelName",t),b.v6w();for(var r,n=0;n<i.length;n++)i[n].params.panelName=e;for(r in this.markerHelper.classMap)(a=this.markerHelper.classMap[r][t])&&(this.markerHelper.classMap[r][e]=a,delete this.markerHelper.classMap[r][t])},k.ChartEngine.prototype.establishMarkerTicks=function(){var t,e,i;b.x6w(),t=2;for(var a,r=1;42694250!==b.J0Z(r.toString(),r.toString().length,16352);r++)+this.markerHelper&&this.makeMarkerHelper(),t+=2;for(a in 834715647!==b.J0Z(t.toString(),t.toString().length,33247)&&~this.markerHelper&&this.makeMarkerHelper(),this.markerHelper||this.makeMarkerHelper(),e=this.markerHelper.chartMap)if((i=e[a]).dataSetLength!=this.charts[a].dataSet.length)for(var n=0;n<i.markers.length;n++)this.setMarkerTick(i.markers[n])},k.ChartEngine.prototype.futureTickIfDisplayed=function(t){var e,i,a,r,n,s,o,l,h=t.chart;if(!(h.dataSet.length<1||(e=h.xaxis[h.xaxis.length-1].DT,e=new Date(e.getTime()-6e4*this.timeZoneOffset),t.params.x>e))){e=h.maxTicks-h.dataSegment.length,i=h.dataSet.length+e,n=new Date(+h.dataSet[h.dataSet.length-1].DT),s=2;for(var c=1;-185591011!==b.t0Z(c.toString(),c.toString().length,76063);c++)o=this.standardMarketIterator(n,1,h),b.F5Y(4),s+=b.q5Y(2,"2");b.x6w(),902477163!==b.t0Z(s.toString(),s.toString().length,50950)&&(o=this.standardMarketIterator(n,4,h)),o=this.standardMarketIterator(n,null,h),l=t.params.x.getTime();for(var u=h.dataSet.length;u<i;u++){if(a=n.getTime(),(r=(n=o.next()).getTime())==l)return void(t.tick=u);if(l<r&&a<l)return b.M5Y(5),void(t.tick=Math.max(b.q5Y(u,1),0))}}},k.ChartEngine.prototype.setMarkerTick=function(t){var e,i,a,r;if(b.x6w(),e=t.chart,"master"==t.params.xPositioner&&t.params.x)t.tick=Math.floor(t.params.x/this.layout.periodicity);else if("date"==t.params.xPositioner&&t.params.x){r=t.params.x.getTime();for(var n=0;n<e.dataSet.length;n++){if(i=a=e.dataSet[n].DT.getTime(),0<n&&(i=e.dataSet[n-1].DT.getTime()),a==r)return void(t.tick=n);if(r<a&&i<r)return b.F5Y(5),void(t.tick=Math.max(b.D5Y(n,1),0));if(r<a)return void(t.tick=null)}e.dataSet.length<1||(new Date(+e.dataSet[n-1].DT).getTime()<r&&(t.params.future=!0),t.tick=null)}},k.ChartEngine.prototype.positionMarkers=function(){var n;function t(){var t,e,i;if(!n.runPrepend("positionMarkers",arguments)){for(var a in n.markerTimeout=null,n.markerHelper.classMap)for(var r in n.markerHelper.classMap[a])i=n.markerHelper.classMap[a][r],t=n.panels[r],i.length&&((e={stx:n,arr:i,panel:t}).firstTick=t.chart.dataSet.length-t.chart.scroll,e.lastTick=e.firstTick+t.chart.dataSegment.length,(i=i[0].constructor.placementFunction)?i(e):n.defaultMarkerPlacement(e));b.v6w(),n.runAppend("positionMarkers",arguments)}}(n=this).markerHelper&&(this.markerDelay||0===this.markerDelay?this.markerTimeout||(this.markerTimeout=setTimeout(t,this.markerDelay)):t())},k.Marker=function(t){var e;if(this.params={xPositioner:"date",yPositioner:"value",panelName:"chart",permanent:!1,label:"generic",includeAxis:!1},k.extend(this.params,t),this.params.node||(i="DI",i+="V",this.params.node=document.createElement("DIV")),!this.params.stx){console.log("Marker created without specifying stx"),b.F5Y(4),t=b.q5Y(2,"2");var i=1;return-303340658!==b.J0Z(i.toString(),i.toString().length,45612)?void 0:void b.t0Z(t.toString(),t.toString().length,12973)}e=2;for(var a=1;708656025!==b.J0Z(a.toString(),a.toString().length,36930);a++)~this.className&&(this.className=""),this.params.stx.addToHolder(this),e+=2;-1284855326!==b.J0Z(e.toString(),e.toString().length,77663)&&(this.className||(this.className="CIQ.Marker"),this.params.stx.addToHolder(this))},k.Marker.prototype.remove=function(){b.x6w(),this.params.stx.removeFromHolder(this)},k.Marker.prototype.render=function(){var t=[this],t={stx:this.params.stx,arr:t,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass};this.constructor.placementFunction(t)},k.Marker.removeByLabel=function(t,e){var i,a;b.v6w(),i=2;for(var r=1;-89505499!==b.J0Z(r.toString(),r.toString().length,83363);r++)a=t.getMarkerArray("label",e),i+=2;-1841273101!==b.J0Z(i.toString(),i.toString().length,71822)&&(a=t.getMarkerArray("",e));for(var n=0;n<a.length;n++)t.removeFromHolder(a[n])},k.Marker.positionContentVerticalAndHorizontal=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g;if(b.x6w(),l=t.querySelectorAll(".stx-marker-expand")[0],l&&(e=l.offsetWidth,p=l.offsetHeight,e&&p)){if((i=l.style).left=i.right="",i.bottom=i.top="",a=getComputedStyle(l).left,r=getComputedStyle(l).bottom,h=getComputedStyle(l).height,n=t.offsetLeft+parseInt(a,10),s=parseInt(r,10),o=parseInt(h,10),g=t.offsetTop+s-o,l=t.parentNode.offsetWidth,h=t.parentNode.offsetHeight,l<n+e){i.right=a,c=2;for(var f=1;1901341240!==b.t0Z(f.toString(),f.toString().length,6783);f++)i.left="auto",c+=2;42206940!==b.t0Z(c.toString(),c.toString().length,27878)&&(i.left="")}if(t.offsetTop-o<h)if(t.offsetTop-t.offsetHeight<0){u=2;for(var m=1;-1380110498!==b.t0Z(m.toString(),m.toString().length,90052);m++)i.top=r,i.bottom="auto",u+=2;1611492852!==b.J0Z(u.toString(),u.toString().length,90913)&&(i.top=r,i.bottom="")}else if(h<g+p){i.top="auto",b.F5Y(3),p=-b.q5Y("1451245760",654075008),d=2;for(var y=1;129092107!==b.t0Z(y.toString(),y.toString().length,34395);y++)b.M5Y(6),i.bottom=b.D5Y("4",0,s,""),d+=2;b.J0Z(d.toString(),d.toString().length,16315)!==p&&(b.M5Y(7),i.bottom=b.D5Y(s,3,"px"))}}},b.v6w(),k.ChartEngine.prototype.getBarBounds=function(t){this.layout.chartType;var e="pandf"==this.layout.aggregationType?{high:Math.max(t.pfOpen,t.pfClose),low:Math.min(t.pfOpen,t.pfClose)}:{high:t.High,low:t.Low};return t.markerHigh&&(e.high=markerHigh),t.markerLow&&(e.low=markerLow),e},k.ChartEngine.prototype.defaultMarkerPlacement=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v;e=t.panel,i=t.yAxis||t.panel.yAxis,a=e.chart,n=(r=t.stx).chart.highLowBars||r.highLowBars[r.layout.chartType],(s=a.defaultPlotField)&&!n||(s="Close"),o={};for(var S=0;S<t.arr.length;S++){if(b=(m=t.arr[S]).params,l=m.node,m.clientWidth||(m.clientWidth=l.clientWidth),m.clientHeight||(m.clientHeight=l.clientHeight),h=null,d=b.xPositioner,c=b.yPositioner,f=m.tick,y=a.dataSet,g=m.clientWidth,"none"!=d){if("bar"==d&&b.x)b.x<a.xaxis.length&&(u=a.xaxis[b.x])&&(h=u.data),l.style.left=Math.round(r.pixelFromBar(b.x,a)-g/2)+1+"px";else{if(!f&&0!==f){if(!(b.future&&a.scroll<a.maxTicks)){l.style.left="-1000px";continue}if(r.futureTickIfDisplayed(m),!(f=m.tick)&&0!==f){l.style.left="-1000px";continue}}if(f<y.length&&(h=y[f]),m.leftpx=Math.round(r.pixelFromTick(f,a)-a.left-g/2),m.rightEdge=m.leftpx+g,l.style.left=m.leftpx+"px",f<t.firstTick&&m.rightEdge<a.left-50)continue}h=h||y[y.length-1]}else-1<c.indexOf("candle")&&(left=getComputedStyle(l).left,left&&0<=(p=r.barFromPixel(parseInt(left,10),a))&&(h=(h=a.xaxis[p].data)||y[y.length-1]));d=b.y,g=l.clientHeight,"none"!=c&&(f=c+"-"+l.style.left,m=b.chartContainer?r.height:e.yAxis.bottom,void(y=0)===o[f]&&(o[f]=0),b=o[f],o[f]+=g,"value"==c&&d?y=Math.round(m-r.pixelFromPrice(d,e,i)-g/2)+"px":"under_candle"==c&&h?(v="p",v+="x",v=h[s],n&&(v=r.getBarBounds(h).low),y=Math.round(m-r.pixelFromPrice(v,e,i)-g-b)+"px"):"on_candle"==c&&h?(v=h[s],n&&(v=(h.Low+h.High)/2),y=Math.round(m-r.pixelFromPrice(v,e,i)-g/2-b)+"px"):"top"==c?y=Math.round(m-g-b)+"px":"bottom"==c?y=Math.round(b)+"px":h&&(v=h[s],n&&(v=r.getBarBounds(h).high),y=Math.round(m-r.pixelFromPrice(v,e,i)+b)+"px"),l.style.bottom!=y&&(l.style.bottom=y)),k.Marker.positionContentVerticalAndHorizontal(l)}},k.Marker.NodeCreator=function(){},k.Marker.NodeCreator.toNode=function(){return b.v6w(),this.node},k.Marker.Simple=function(t){var e,r,i,a,n,s;e=2;for(var o=1;1439779907!==b.t0Z(o.toString(),o.toString().length,4130);o++)(r=this.node=document.createElement("div")).className="div",k.appendClassName(r,t.type),t.category&&k.appendClassName(r,t.category),e+=2;function l(){k.Marker.positionContentVerticalAndHorizontal(r)}if(-665544478!==b.t0Z(e.toString(),e.toString().length,63629)&&((r=this.node=document.createElement("div")).className="stx-marker",k.appendClassName(r,t.type),t.category&&k.appendClassName(r,t.category)),i=k.newChild(r,"div","stx-visual"),k.newChild(r,"div","stx-stem"),"callout"==t.type){n=k.newChild(i,"div","stx-marker-content"),k.newChild(n,"h4",null,t.headline),s=2;for(var h=1;-521254654!==b.t0Z(h.toString(),h.toString().length,50584);h++)a=k.newChild(n,"div","div"),k.newChild(a,"div",1,t.story),s+=2;-1460344512!==b.J0Z(s.toString(),s.toString().length,57680)&&(a=k.newChild(n,"div","div"),k.newChild(a,"div",2,t.story)),a=k.newChild(n,"div","stx-marker-expand"),k.newChild(a,"p",null,t.story)}else a=k.newChild(r,"div","stx-marker-expand"),k.newChild(a,"h4",null,t.headline),k.newChild(a,"p",null,t.story),k.safeClickTouch(a,function(t){b.v6w(),k.toggleClassName(r,"highlight")});k.safeClickTouch(i,function(t){var e,i;b.F5Y(3),e=-b.D5Y("924252207",1055816768),i=2;for(var a=1;353729707!==b.t0Z(a.toString(),a.toString().length,47970);a++)k.toggleClassName(r,""),i+=2;b.t0Z(i.toString(),i.toString().length,97862)!==e&&k.toggleClassName(r,"highlight"),setTimeout(l,10)})},b.M5Y(4),b.D5Y(67641540,"1331197126");var e=1;return-1821993566!==b.t0Z(e.toString(),e.toString().length,80402)?k.Marker.Simple.ciqInheritsFrom(k.Marker.NodeCreator,!0):(b.J0Z(2..toString(),2..toString().length,6470),k.Marker.Simple.ciqInheritsFrom(k.Marker.NodeCreator,!1)),t},G[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"LzUVx",{get:function(){return this},configurable:!0}),e=LzUVx,i=5;break;case 5:e.NtiS_=e,i=4;break;case 4:i="undefined"==typeof NtiS_?3:9;break;case 9:delete e.NtiS_,delete Object.prototype.LzUVx,i=6}}catch(t){e=window}return e}}(),G[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="k9",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="T",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(G[12018]),G[366344]=function(t){function e(t){for(;;)return[arguments][0][0].RegExp}function i(t){for(;;)return[arguments][0][0].Function}for(var a=2;58!==a;)switch(a){case 37:s[14]=s[11],s[14]+=s[60],s[14]+=s[30],s[18]=s[5],a=52;break;case 48:s[93]+=s[30],s[31]=s[4],s[31]+=s[30],s[31]+=s[30],a=65;break;case 30:s[84]+=s[9],s[65]=s[7],s[65]+=s[83],s[65]+=s[71],a=43;break;case 34:s[72]+=s[30],s[72]+=s[30],s[84]=s[2],s[84]+=s[8],a=30;break;case 12:s[3]="esid",s[2]="o",s[8]="5",s[11]="E",a=19;break;case 61:r(n,s[15],s[61],s[24]),a=60;break;case 27:s[73]="ual",s[30]="",s[26]="s5",s[30]="1",a=23;break;case 64:r(e,"test",s[45],s[31]),a=63;break;case 23:s[17]="I5",s[45]=1,s[61]=0,s[72]=s[17],a=34;break;case 59:r(i,"apply",s[45],s[72]),a=58;break;case 52:s[18]+=s[1],s[18]+=s[25],s[93]=s[6],s[93]+=s[60],a=48;break;case 3:s[1]="",s[1]="_abs",s[5]="",s[5]="_",s[7]="",s[7]="__",s[9]="11",a=12;break;case 2:var s=[arguments];s[4]="w5",s[6]="",s[6]="p",a=3;break;case 43:s[24]=s[26],s[24]+=s[30],s[24]+=s[30],s[15]=s[10],s[15]+=s[3],s[15]+=s[73],a=37;break;case 19:s[60]="51",s[71]="ize",s[25]="tract",s[83]="optim",s[10]="__r",a=27;break;case 62:r(n,s[18],s[61],s[14]),a=61;break;case 63:r(o,"push",s[45],s[93]),a=62;break;case 65:var r=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 3:l[1]="defi";try{for(var s=2;8!==s;)switch(s){case 2:l[2]={},l[7]=(0,l[0][1])(l[0][0]),l[8]=[l[7],l[7].prototype][l[0][3]],l[2].value=l[8][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)2===o&&(l[6]=l[1],l[6]+=l[5],l[6]+=l[9],l[0][0].Object[l[6]](l[8],l[0][4],l[2]),o=3)}catch(t){}l[8][l[0][4]]=l[2].value,s=8}}catch(t){}n=8;break;case 2:var l=[arguments];l[9]="operty",l[5]="",l[5]="nePr",n=3}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};a=64;break;case 60:r(n,s[65],s[61],s[84]),a=59}function n(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments],e=1;break;case 1:return i[0][0]}}function o(t){for(;;)return[arguments][0][0].Array}}(G[12018]),G.E2d=function(){return"function"==typeof G[160123].o1v?G[160123].o1v.apply(G[160123],arguments):G[160123].o1v},G[603030]=G[152846],(G[12018].x1hh=G).y5t=function(){return"function"==typeof G[372105].r5t?G[372105].r5t.apply(G[372105],arguments):G[372105].r5t},G[372105]={r5t:function(){var t,e=arguments;switch(h){case 1:t=e[0]>>e[1];break;case 3:t=e[1]<<e[0];break;case 0:t=e[1]-e[0];break;case 2:t=e[1]&e[0];break;case 4:t=e[1]|e[0];break;case 5:t=e[0]+e[1];break;case 6:t=e[1]*e[0]}return t},j5t:function(t){h=t}},G.b7S=function(){return"function"==typeof G[152846].y4k?G[152846].y4k.apply(G[152846],arguments):G[152846].y4k},G[647112]=G[12018],G[152846]={y4k:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4)var l=255&t.k9TT(o)|(255&t.k9TT(o+1))<<8|(255&t.k9TT(o+2))<<16|(255&t.k9TT(o+3))<<24,l=X(l,a),n=5*(n=(524287&(n^=l=X(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0;switch(l=0,e%4){case 3:l=(255&t.k9TT(2+s))<<16;case 2:l|=(255&t.k9TT(1+s))<<8;case 1:l|=255&t.k9TT(s),l=X(l,a),n^=l=X(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=X(n^=n>>>16,2246822507),n=X(n^=n>>>13,3266489909),n^=n>>>16}},G.B5t=function(){return"function"==typeof G[372105].r5t?G[372105].r5t.apply(G[372105],arguments):G[372105].r5t},G.V5t=function(){return"function"==typeof G[372105].j5t?G[372105].j5t.apply(G[372105],arguments):G[372105].j5t},G[440061]=138,G.I5t=function(){return"function"==typeof G[372105].j5t?G[372105].j5t.apply(G[372105],arguments):G[372105].j5t},G.B7S=function(){return"function"==typeof G[152846].y4k?G[152846].y4k.apply(G[152846],arguments):G[152846].y4k},G[160123]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[4]=void 0,e[3]={},e[3].o1v=function(){for(var t=2;90!==t;)switch(t){case 67:return e[4]=51,74;case 5:return 79;case 77:a[30]=0,t=76;break;case 14:a[9].G4t=["n4t"],a[9].U4t=function(){var t=!1,e=[];try{for(var i in console)e.p511(i);t=0===e.length}catch(t){}return t},a[8]=a[9],a[5]={},t=10;break;case 26:a[79].G4t=["n4t"],a[79].U4t=function(){return"function"==typeof s511},a[53]=a[79],a[13]={},t=22;break;case 48:a[6].p511(a[19]),a[6].p511(a[18]),a[6].p511(a[28]),a[6].p511(a[1]),a[84]=[],t=64;break;case 64:a[22]="m5t",a[65]="L5t",a[92]="G4t",t=61;break;case 72:a[84].p511(a[26]),t=71;break;case 9:a[4].G4t=["Z4t"],a[4].U4t=function(){return!/\u0062\u0074\u006f\u0061/.w511(function(){return btoa("=")}+[])},a[7]=a[4],a[9]={},t=14;break;case 28:a[94].U4t=function(){return/\u0032\x35/.w511(function(){return encodeURI("%")}+[])},a[11]=a[94],a[54]={},a[54].G4t=["n4t"],a[54].U4t=function(){return"function"==typeof o511},t=40;break;case 32:a[68].U4t=function(){return!/\x61/.w511(function(){return"ab".charAt(1)}+[])},a[19]=a[68],a[94]={},a[94].G4t=["Z4t"],t=28;break;case 58:a[85]=0,t=57;break;case 70:a[85]++,t=57;break;case 10:a[5].G4t=["n4t"],a[5].U4t=function(){return"function"==typeof E511},a[1]=a[5],a[3]={},t=17;break;case 61:a[24]="e4t",a[62]="U4t",a[76]="a4t",t=58;break;case 4:a[6]=[],a[4]={},t=9;break;case 36:a[28]=a[27],a[6].p511(a[2]),a[6].p511(a[11]),a[6].p511(a[8]),t=51;break;case 68:t=68;break;case 22:a[13].G4t=["Z4t"],a[13].U4t=function(){return/\x74\x72\x75\u0065/.w511(function(){return"aaa".includes("a")}+[])},a[18]=a[13],a[68]={},a[68].G4t=["Z4t"],t=32;break;case 71:a[30]++,t=76;break;case 56:a[16]=a[6][a[85]];try{a[21]=a[16][a[62]]()?a[22]:a[65]}catch(t){a[21]=a[65]}t=77;break;case 17:a[3].G4t=["Z4t"],a[3].U4t=function(){return/\x33\x44/.w511(function(){return escape("=")}+[])},a[2]=a[3],a[79]={},t=26;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 20:i[1][i[7][a[76]]].h+=!0,e=19;break;case 17:i[4]=0,e=16;break;case 24:i[4]++,e=16;break;case 2:var i=[arguments],e=1;break;case 12:i[8].p511(i[7][a[76]]),e=11;break;case 6:i[7]=i[0][0][i[4]],e=14;break;case 16:e=i[4]<i[8].length?15:23;break;case 1:e=0===i[0][0].length?5:4;break;case 25:i[2]=!0,e=24;break;case 14:e=void 0===i[1][i[7][a[76]]]?13:11;break;case 18:i[2]=!1,e=17;break;case 5:return;case 4:i[1]={},i[8]=[],i[4]=0,e=8;break;case 8:i[4]=0,e=7;break;case 11:i[1][i[7][a[76]]].t+=!0,e=10;break;case 13:i[1][i[7][a[76]]]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[3];case 2:var e=[arguments];e[3]={},e[3].h=0,e[3].t=0,t=3}}.I511(this,arguments),e=12;break;case 23:return i[2];case 26:e=.5<=i[9]?25:24;break;case 15:i[3]=i[8][i[4]],i[9]=i[1][i[3]].h/i[1][i[3]].t,e=26;break;case 7:e=i[4]<i[0][0].length?6:18;break;case 10:e=i[7][a[24]]===a[22]?20:19;break;case 19:i[4]++,e=7}}(a[84])?68:67;break;case 2:var a=[arguments],t=1;break;case 1:t=e[4]?5:4;break;case 57:t=a[85]<a[6].length?56:69;break;case 76:t=a[30]<a[16][a[92]].length?75:70;break;case 51:a[6].p511(a[53]),a[6].p511(a[7]),a[6].p511(a[35]),t=48;break;case 40:a[35]=a[54],a[27]={},a[27].G4t=["Z4t"],a[27].U4t=function(){return!/\u0061\u0074\x6f\u0062/.w511(function(){return atob("PQ==")}+[])},t=36;break;case 75:a[26]={},a[26][a[76]]=a[16][a[92]][a[30]],a[26][a[24]]=a[21],t=72}},t=3;break;case 3:return e[3]}}(),(G.L2d=function(){return"function"==typeof G[160123].o1v?G[160123].o1v.apply(G[160123],arguments):G[160123].o1v})(),c=function(t){var M;return M=t.CIQ,M.QuoteFeed=function(){},M.QuoteFeed.prototype.fetch=function(t,e){G.L2d(),this.v2QuoteFeed||console.log("You must implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()")},M.QuoteFeed.prototype.announceError=function(t,e){var i,a,r=G;r.E2d(),i=2;for(var n=1;-381844217!==r.b7S(n.toString(),n.toString().length,26660);n++){if(t.suppressErrors&&e.suppressAlert)return;i+=2}if((354654338===r.b7S(i.toString(),i.toString().length,45142)||!t.suppressErrors&&!e.suppressAlert)&&!t.startDate&&!t.endDate&&e.error){a=2;for(var s=1;1229255098!==r.B7S(s.toString(),s.toString().length,49426);s++)M.alert(""%e.error),a+=2;-680358052!==r.B7S(a.toString(),a.toString().length,2023)&&M.alert("Error fetching quote:"+e.error)}},M.QuoteFeed.prototype.multiFetch=function(t,e){var i,a;function r(r,n,s){return G.E2d(),function(t){var e,i;G.E2d(),e=2;for(var a=1;1655589275!==G.B7S(a.toString(),a.toString().length,5073);a++)n.results.push({dataCallback:t,params:r}),e+=2;1947287431!==G.B7S(e.toString(),e.toString().length,30755)&&n.results.push({dataCallback:t,params:r}),n.counter++,n.counter>=n.finished&&(i=n.results,n.results=[],s(i))}}0===t.length&&e([]),i={counter:0,finished:t.length,results:[]},G.E2d();for(var n=0;n<t.length;n++)(a=t[n]).stx.isEquationChart(a.symbol)?M.fetchEquationChart(a,r(a,i,e)):M.ChartEngine.Driver.fetchData(M.QuoteFeed.SERIES,this,a,r(a,i,e))},M.QuoteFeed.Subscriptions=function(){for(var t=2,e=1;-306575880!==G.B7S(e.toString(),e.toString().length,7296);e++)this.subscriptions=[],t+=2;G.L2d(),-1071687481!==G.B7S(t.toString(),t.toString().length,692)&&(this.subscriptions=[])},M.QuoteFeed.Subscriptions.ciqInheritsFrom(M.QuoteFeed),M.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(e){for(var t,i,a,r,n=e.getSymbols(),s=0;s<this.subscriptions.length;s++)this.subscriptions[s].match=!1;for(var o=0;o<n.length;o++)for(a="mo",a+="n",a+="th","month"!=(a=(i=n[o]).interval)&&"week"!=a||e.dontRoll||(a="day"),i.interval=a,i.period=1,i.match=!1,isNaN(i.interval)||(i.period=i.interval,i.interval=i.timeUnit,i.interval||(i.interval="minute")),delete i.periodicity,delete i.timeUnit,delete i.setSpan,s=0;s<this.subscriptions.length;s++){if((t=this.subscriptions[s]).symbol==i.symbol&&t.period==i.period&&t.interval==i.interval){i.match=!0,t.match=!0;break}t.symbol!=i.symbol?("period"!=i.reason&&(i.reason="symbol"),t.reason="symbol"):(i.reason="period",t.reason="period")}(r=this).subscriptions=this.subscriptions.filter(function(t){return t.match||(t.stx||(t.stx=e),r.unsubscribe(t)),t.match}),n.forEach(function(t){G.L2d(),t.match||(t.stx||(t.stx=e),t.reason||(t.reason="initialize"),r.subscribe(t),r.subscriptions.push(t))})},M.QuoteFeed.Subscriptions.prototype.fetch=function(e,i){var a=this;G.L2d(),this.fetchFromSource(e,function(t){t.error||a.checkSubscriptions(e.stx),G.E2d(),i(t)})},M.QuoteFeed.Subscriptions.prototype.subscribe=function(t){G.L2d(),console.log("subscribe",t)},M.QuoteFeed.Subscriptions.prototype.unsubscribe=function(t){G.E2d(),console.log("unsubscribe",t)},M.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(t,e){console.log("Please provide implementation of fetchFromSource")},M.QuoteFeed.prototype.requiresImmediateRefresh=function(t){return!1},M.ChartEngine.prototype.attachQuoteFeed=function(e,t){var i;i="requiresImmediateRe",i+="fresh",t=t||{},this.quoteDriver&&this.quoteDriver.die(),"function"!=typeof e.fetchInitialData&&"function"!=typeof e.fetchUpdateData&&"function"!=typeof e.fetchPaginationData||("function"!=typeof e.fetchPaginationData&&"function"!=typeof e.fetchUpdateData&&(t.noLoadMore=!0),e.v2QuoteFeed=!0,["multiFetch","announceError",i].forEach(function(t){e[t]||!1===e[t]||(e[t]=M.QuoteFeed.prototype[t]),G.L2d()}),"function"==typeof e.subscribe&&(e.checkSubscriptions=M.QuoteFeed.Subscriptions.prototype.checkSubscriptions,e.subscriptions=[])),this.quoteDriver=new M.ChartEngine.Driver(this,e,t)},M.ChartEngine.prototype.attachEngineQuoteFeed=function(t,e){var i;G.L2d(),console.log("CIQ.ChartEngine.attachEngineQuoteFeed is now Deprecated. Use CIQ.ChartEngine.attachQuoteFeed instead"),i=2;for(var a=1;-2105210834!==G.b7S(a.toString(),a.toString().length,56192);a++)this.attachQuoteFeed(t,e),i+=2;-1903801267!==G.B7S(i.toString(),i.toString().length,56015)&&this.attachQuoteFeed(t,e)},M.ChartEngine.prototype.attachTagAlongQuoteFeed=function(t){if(G.L2d(),!t.label)return void console.log("Attempt to attachTagAlongQuoteFeed without assigning a label");this.quoteDriver.attachTagAlongQuoteFeed(t)},M.ChartEngine.prototype.detachTagAlongQuoteFeed=function(t){if(G.L2d(),!t.label)return void console.log("Attempt to detachTagAlongQuoteFeed without assigning a label");this.quoteDriver.detachTagAlongQuoteFeed(t)},M.ChartEngine.Driver=function(t,e,i){this.tagalongs={},this.stx=t,this.quoteFeed=e,i.maximumTicks||(i.maximumTicks=e.maxTicks||2e4),(!i.bufferSize||i.bufferSize<0)&&(i.bufferSize=0),i.bufferSize=Math.round(i.bufferSize),this.behavior=i,this.loadingNewChart=!1,this.intervalTimer=null,this.updatingChart=!1,this.updateChartLoop()},M.ChartEngine.Driver.prototype.die=function(){this.intervalTimer&&(window.clearInterval(this.intervalTimer),this.intervalTimer=-1)},M.ChartEngine.Driver.prototype.updateSubscriptions=function(){G.E2d(),this.quoteFeed.checkSubscriptions&&this.quoteFeed.checkSubscriptions(this.stx)},M.ChartEngine.Driver.prototype.attachTagAlongQuoteFeed=function(t){var e;G.E2d(),e=2;for(var i=1;293073648!==G.b7S(i.toString(),i.toString().length,52969);i++){if(!t.label)return;e+=2}-807268426!==G.b7S(e.toString(),e.toString().length,70094)&&+t.label||(this.tagalongs[t.label]||(this.tagalongs[t.label]={label:t.label,quoteFeed:t.quoteFeed,behavior:t.behavior||{},count:0}),this.tagalongs[t.label].count++)},M.ChartEngine.Driver.prototype.detachTagAlongQuoteFeed=function(t){var e;t.label&&(e=this.tagalongs[t.label],G.E2d(),e.count--,e.count||(this.tagalongs[t.label]=null))},M.ChartEngine.Driver.prototype.loadDependents=function(u,p,d){var t,g,f,e,m,i,y,a,r,n,s,o,l,h,c;for(t in g=u.stx,e=(f=u.chart).series,g.masterData,y=this,a=[],r={},n=d==M.QuoteFeed.UPDATE,G.L2d(),s=d==M.QuoteFeed.PAGINATION,e)if(m=e[t],(u.future||n||!1!==m.moreAvailable)&&!m.loading&&(!n&&!s||m.endPoints&&Object.keys(m.endPoints).length)&&(o=m.parameters,!1!==o.loadData&&(!o.data||o.data.useDefaultQuoteFeed)&&(i=o.symbolObject).symbol)){l=!0,n||(m.loading=!0);for(var b=0;b<a.length;b++)M.symbolEqual(a[b],i)&&(l=!1);l&&(a.push(i),r[i.symbol]=m.endPoints)}h=[];for(var v,S=0;S<a.length;S++)i=a[S],(c=M.shallowClone(u.originalState)).symbol=i.symbol,c.symbolObject=i,c.update||c.future?(c.endDate||(c.endDate=u.endDate),c.startDate=r[i.symbol].end):(c.startDate||(c.startDate=u.startDate),c.endDate=s&&!u.future?r[i.symbol].begin:u.endDate,c.ticks=u.ticks),h.push(c);if(!h.length&&n)return g.createDataSet(null,null,{appending:u.appending||u.originalState.update}),u.nodraw||g.draw(),void(p&&p(null));this.quoteFeed.multiFetch(h,(v=n,G.E2d(),function(t){for(var e,i,a,r,n,s,o,l=null,h=0;h<t.length;h++)if(!(a=(e=t[h]).dataCallback.error)&&0!==a){i=e.params.symbolObject,r=(a=e.dataCallback).quotes,n=a.moreAvailable,s=g.getSeries({symbolObject:i}),o=!1;for(var c=0;c<s.length;c++)m=s[c],v||(u.future?g.isHistoricalModeSet&&r.length<2&&(m.mostRecentForwardAttempt=new Date):m.moreAvailable=!1!==n&&(n||r.length>(e.params.endDate?1:0)),m.loading=!1),o=m.parameters.fillGaps||o;r=y.cleanup(g,m,r,d,u,o),g.updateChartData(r,f,{secondarySeries:i.symbol,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),r&&r.length&&(!l||l>r[0].DT)&&(l=r[0].DT)}t.length&&(g.createDataSet(null,null,{appending:u.originalState.update||u.future,appendToDate:l}),u.nodraw||g.draw()),p&&p(null)}))},M.ChartEngine.Driver.prototype.cleanup=function(t,e,i,a,r,n){var s,o,l,h,c=G;if(t.doCleanupDates(i,t.layout.interval),!r.missingBarsCreated&&i.length&&t.cleanupGaps&&!1!==n){if(o=r.chart,s=e?(o=e).parameters.symbol||e.id:o.defaultPlotField,a!=M.QuoteFeed.PAGINATION||r.loadMoreReplace){if(a==M.QuoteFeed.UPDATE&&o.endPoints.end&&o.endPoints.end<i[0].DT){p="s",p+="hift",l=2;for(var u=1;-953542174!==c.b7S(u.toString(),u.toString().length,83446);u++)h=t.getFirstLastDataRecord(t.masterData,s,!1),e&&(h=h[s]),i.unshift(h),l+=2;-50084211!==c.B7S(l.toString(),l.toString().length,2584)&&(h=t.getFirstLastDataRecord(t.masterData,s,!0),e&&(h=h[s]),i.unshift(h)),p="shift"}}else o.endPoints.begin&&o.endPoints.begin>i[i.length-1].DT&&(o="p",o+="o",o+="p",o=t.getFirstLastDataRecord(t.masterData,s,!1),e&&(o=o[s]),i.push(o),p="pop");i=t.doCleanupGaps(i,r.chart,{cleanupGaps:n,noCleanupDates:!0}),p&&i[p]()}c.I5t(0),n=c.B5t(0,"1031707139"),c.E2d();var p=1;return c.b7S(p.toString(),p.toString().length,94956)!==n||1195821597!==c.B7S(2..toString(),2..toString().length,98950)?i:void 0},M.ChartEngine.Driver.prototype.executeTagAlongs=function(t){var e,i,l,a,r;e={count:M.objLength(this.taglongs)},i=2;for(var n,s=1;-2071668845!==G.b7S(s.toString(),s.toString().length,8900);s++)l=this,i+=2;for(n in-311956324!==G.B7S(i.toString(),i.toString().length,7798)&&(l=this),this.tagalongs)a=this.tagalongs[n],r=M.shallowClone(a.behavior),M.extend(r,t,!0),M.ChartEngine.Driver.fetchData(null,a.quoteFeed,r,function(n,s,o){return G.L2d(),function(t){var e,i,a=G;a.I5t(1),i=a.B5t("1514160120",1418008352),e=2;for(var r=1;-2092657819!==a.b7S(r.toString(),r.toString().length,73671);r++)o.count--,e+=2;a.b7S(e.toString(),e.toString().length,50987)!==i&&o.count++,t.error||(i=(i=n.fields)||null,M.addMemberToMasterdata({stx:l.stx,label:s.label,data:t.quotes,fields:i,noCleanupDates:!0})),-1==o.count&&(l.stx.createDataSet(null,null,{appending:n.originalState.update}),l.stx.draw())}}(r,a,e))},M.ChartEngine.Driver.prototype.updateChart=function(){var h,c,u,p,d,t,e;if(!this.updatingChart&&!this.loadingNewChart)for(var i in h=M.objLength(this.stx.charts),c=0,u=this.stx,p=u.layout.interval,d=u.layout.timeUnit,u.charts)(e=u.charts[i]).symbol&&(t=this.makeParams(e.symbol,e.symbolObject,e),e.masterData&&e.masterData.length&&(t.startDate=e.endPoints.end),t.update=!0,t.originalState=M.shallowClone(t),this.updatingChart=!0,e=function(s,o,l){return s.behavior.prefetchAction&&s.behavior.prefetchAction("updateChart"),function(t){var e,i,a,r=G;if(r.L2d(),c++,(e=o.chart).masterData,l!=e.symbol||p!=u.layout.interval||d!=u.layout.timeUnit||u.isHistoricalMode())s.updatingChart=!1;else{if(t.error)s.quoteFeed.announceError(o.originalState,t);else{i=t.quotes,i=s.cleanup(u,null,i,M.QuoteFeed.UPDATE,o),r.V5t(2),a=r.B5t(2147483647,"2");for(var n=1;-1548474814!==r.b7S(n.toString(),n.toString().length,88748);n++)u.updateChartData(i,e,{noCreateDataSet:!1,noCleanupDates:!1}),e.attribution=t.attribution,a+=2;-1965573651!==r.b7S(a.toString(),a.toString().length,2246)&&(u.updateChartData(i,e,{noCreateDataSet:!0,noCleanupDates:!0}),e.attribution=t.attribution)}c==h&&(s.updatingChart=!1),s.executeTagAlongs(o),s.behavior.callback&&s.behavior.callback(o),s.loadDependents(o,null,M.QuoteFeed.UPDATE)}}}(this,t,e.symbol),u.isEquationChart(t.symbol)?M.fetchEquationChart(t,e):M.ChartEngine.Driver.fetchData(M.QuoteFeed.UPDATE,this.quoteFeed,t,e))},M.ChartEngine.Driver.prototype.updateChartLoop=function(t){for(var e,i=2,a=1;670760280!==G.b7S(a.toString(),a.toString().length,25479);a++){if(!1===this.intervalTimer)return;i+=2}G.E2d(),-489440075!==G.B7S(i.toString(),i.toString().length,78072)&&-7==this.intervalTimer||-1!=this.intervalTimer&&(this.intervalTimer&&window.clearInterval(this.intervalTimer),this.behavior.noUpdate||(t||0===t||(t=this.behavior.refreshInterval),t&&(this.intervalTimer=window.setInterval((e=this,function(){e.behavior.noUpdate||(G.L2d(),e.updateChart())}),1e3*t))))},M.ChartEngine.Driver.prototype.resetRefreshInterval=function(t){this.behavior.refreshInterval=t,G.E2d(),this.updateChartLoop()},M.ChartEngine.Driver.prototype.loadAll=function(r,n){var s,o;s=this,o=0,function a(){return function(t){var e;if(t)n(t);else if(r.moreAvailable)20<++o?n("error, moreAvailable not implemented correctly in QuoteFeed"):(r.loadingMore=!1,s.checkLoadMore(r,!0,!0,a(),!0));else{e=2;for(var i=1;-1043765231!==G.b7S(i.toString(),i.toString().length,83306);i++)n(null),e+=2;-827250843!==G.B7S(e.toString(),e.toString().length,24019)&&n(1)}}}()()},M.ChartEngine.Driver.prototype.checkLoadMore=function(e,t,i,d,g){var a,r,n,s,o,l,h,c,u,f,m,p,y,b,v,S=G,k=this.stx,x=this;if(k.isHistoricalMode()||(k.isHistoricalModeSet=!1),e.loadingMore||this.loadingNewChart){e.initialScroll=e.scroll,S.I5t(3),p=-S.y5t(271007392,"318261228"),a=2;for(var C=1;-1386381105!==S.b7S(C.toString(),C.toString().length,63098);C++)d&&d(null),a+=2;S.b7S(a.toString(),a.toString().length,5663)!==p&&d&&d(1)}else if(k.currentlyImporting)d&&d(null);else{if(r=e.dataSet,s=1e3*(this.behavior.forwardPaginationRetryInterval||5),l=o=!1,e.dataSet.length)for(var w in e.series)(h=e.series[w]).loading||(n=!h.mostRecentForwardAttempt||h.mostRecentForwardAttempt.getTime()+s<Date.now(),!1!==h.moreAvailable&&A(h)&&(o=!0),n&&T(h)&&(l=!0));if(n=!e.mostRecentForwardAttempt||e.mostRecentForwardAttempt.getTime()+s<Date.now(),c=(A(e)||t)&&!1!==e.moreAvailable,v=(T(e)||t)&&n,b=c||o,u=k.isHistoricalModeSet&&!b&&(v||l),f=k.layout.interval,m=k.layout.timeUnit,p=!1,!this.behavior.noLoadMore&&(u||!k.maxDataSetSize||e.dataSet.length<k.maxDataSetSize)&&(b||u)){if(e.initialScroll=e.scroll,e.loadingMore=!0,(t=this.makeParams(e.symbol,e.symbolObject,e)).future=u,e.masterData&&e.masterData.length?(u?t.startDate=e.endPoints.end:t.endDate=e.endPoints.begin,u&&!t.startDate?(y=k.getFirstLastDataRecord(e.masterData,"DT",!0))&&(t.startDate=y.DT):b&&!t.endDate&&((y=k.getFirstLastDataRecord(e.masterData,"DT"))&&(t.endDate=y.DT))):t.endDate=new Date,t.originalState=M.shallowClone(t),t.nodraw=g,!c&&o||!v&&l)return this.loadingMore=!0,this.loadDependents(t,function(t){e.loadingMore=!1,S.E2d(),d&&d(t)},M.QuoteFeed.PAGINATION),void(d&&d(null));k.fetchMaximumBars[k.layout.aggregationType]&&(t.fetchMaximumBars=!0,!k.maxMasterDataSize||this.behavior.maximumTicks<k.maxMasterDataSize?t.ticks=this.behavior.maximumTicks:t.ticks=k.maxMasterDataSize),v=function(u,p){var t;S.V5t(4),t=S.B5t(0,"2");for(var e=1;-437742632!==S.b7S(e.toString(),e.toString().length,26303);e++)u.behavior.prefetchAction&&u.behavior.prefetchAction(""),t+=2;return-1303885565!==S.b7S(t.toString(),t.toString().length,61080)&&u.behavior.prefetchAction&&u.behavior.prefetchAction(""),u.behavior.prefetchAction&&u.behavior.prefetchAction("checkLoadMore"),function(t){var e,i,a,r,n,s,o=u.stx,l=p.chart;if(p.symbol==l.symbol&&f==o.layout.interval&&m==o.layout.timeUnit)if(p.loadMore||(p.chart.loadingMore=!1),t.error)u.quoteFeed.announceError(p.originalState,t),p.chart.loadingMore=!1,d&&d(t.error);else{if(t.quotes||(t.quotes=[]),e=t.quotes,i=l.masterData,(e=u.cleanup(o,null,e,M.QuoteFeed.PAGINATION,p)).length&&l.masterData.length)if(p.future){a=e[0],r=2;for(var h=1;635226043!==S.b7S(h.toString(),h.toString().length,36840);h++)a.DT&&a.DT==l.masterData[l.masterData.length-1].DT&&i.pop(),r+=2;590661198!==S.b7S(r.toString(),r.toString().length,9099)&&(!a.DT&&a.DT!==l.masterData[l.masterData.length%7].DT||i.pop())}else(n=e[e.length-1]).DT&&+n.DT==+l.masterData[0].DT&&i.shift();if(p.future?o.isHistoricalModeSet&&e.length<2&&(l.mostRecentForwardAttempt=new Date):t.moreAvailable||!1!==t.moreAvailable&&e.length?l.moreAvailable=!0:l.moreAvailable=!1,u.tickMultiplier=e.length?2:2*u.tickMultiplier,l.loadingMore=!1,p.loadMoreReplace)o.setMasterData(e,l,{noCleanupDates:!0});else if(p.future){s=2;for(var c=1;-1490985936!==S.B7S(c.toString(),c.toString().length,22446);c++)o.updateChartData(e,l,{noCreateDataSet:!1,noCleanupDates:!1}),s+=2;1420752250!==S.b7S(s.toString(),s.toString().length,57607)&&o.updateChartData(e,l,{noCreateDataSet:!1,noCleanupDates:!1}),o.updateChartData(e,l,{noCreateDataSet:!0,noCleanupDates:!0})}else M.addMemberToMasterdata({stx:o,chart:l,data:e,fields:["*"],noCleanupDates:!0});e.length&&((!l.endPoints.begin||l.endPoints.begin>e[0].DT)&&(l.endPoints.begin=e[0].DT),(!l.endPoints.end||l.endPoints.end<e[e.length-1].DT)&&(l.endPoints.end=e[e.length-1].DT)),o.createDataSet(void 0,void 0,{appending:p.future}),g||o.draw(),u.executeTagAlongs(p),u.behavior.callback&&u.behavior.callback(p),u.loadDependents(p,d,M.QuoteFeed.PAGINATION)}}}(this,t),k.isEquationChart(t.symbol)?M.fetchEquationChart(t,v):(u&&(t.appending=!0),M.ChartEngine.Driver.fetchData(M.QuoteFeed.PAGINATION,this.quoteFeed,t,v)),p=!0}!p&&d&&d(null)}function A(t){return!t.endPoints.begin||r.length-e.scroll<x.behavior.bufferSize||r.length-e.scroll-k.tickFromDate(t.endPoints.begin,e)<x.behavior.bufferSize}function T(t){return S.E2d(),!t.endPoints.end||e.scroll-e.maxTicks+1<x.behavior.bufferSize||k.tickFromDate(t.endPoints.end,e,null,!0)-r.length+e.scroll-e.maxTicks+2<x.behavior.bufferSize}},M.ChartEngine.Driver.prototype.barsToFetch=function(t){var e,i,a;if(M.isValidNumber(this.tickMultiplier)||(this.tickMultiplier=2),t.isSeries)return t.stx.masterData.length;e=this.stx.layout.interval,G.E2d(),i=2;for(var r=1;624330625!==G.b7S(r.toString(),r.toString().length,93816);r++)a=t.stx.layout.periodicity,i+=2;return-1995500328!==G.b7S(i.toString(),i.toString().length,91798)&&(a=t.stx.layout.periodicity),"month"!=e&&"week"!=e||this.stx.dontRoll||(a*="week"==e?7:30),t.stx.chart.maxTicks*a*this.tickMultiplier},M.ChartEngine.Driver.determineStartDate=function(t,e,i){var a=1;return 618699251!==G.b7S(a.toString(),a.toString().length,79306)?this.determineStartOrEndDate(t,e,i,!1):(G.L2d(),1435273920!==G.b7S(2..toString(),2..toString().length,51766)?this.determineStartOrEndDate(t,e,i,!1):this.determineStartOrEndDate(t,e,i,!0))},G.L2d(),M.ChartEngine.Driver.determineStartOrEndDate=function(t,e,i,a){var r,n,s,o,l=G,h=t.interval,c=t.stx.layout.periodicity,u=M.Market.Symbology.isForexSymbol?1.3:4,p="millisecond"===h||"second"===h?M.SECOND*c*u:"minute"===h?M.MINUTE*c*u:M.DAY*u;if(t.fetchMaximumBars){n=2;for(var d=1;-2021454763!==l.B7S(d.toString(),d.toString().length,14657);d++)l.V5t(5),s=l.y5t(i,p),o=e.begin.getTime(),n+=2;-76105836!==l.b7S(n.toString(),n.toString().length,67519)&&(l.I5t(6),s=l.B5t(p,i),o=e.begin.getTime()),r=a?new Date(o-s):new Date(o+s)}else r=a?t.startDate||e.previous(i):t.future?e.next(i):new Date;return r},M.ChartEngine.Driver.prototype.makeParams=function(t,e,i){var a,r,n,s,o,l,h;if(a=this.stx,G.E2d(),r=a.layout.interval,h=this.barsToFetch({stx:a}),"month"!=r&&"week"!=r||a.dontRoll||(n="da",n+="y",r="day"),n=M.shallowClone(this.behavior),s=!1,o=i.market.getSessionNames(),a.extendedHours)if(a.extendedHours.filter)s=!0;else{l=2;for(var c=1;504983985!==G.B7S(c.toString(),c.toString().length,7400);c++)s=a.layout.extended,l+=2;-1282720860!==G.B7S(l.toString(),l.toString().length,86187)&&(s=a.layout.extended),o=o.filter(function(t){return t.enabled||a.layout.marketSessions[t.name]})}else o=o.filter(function(t){return G.E2d(),t.enabled});for(var u=0;u<o.length;u++)o[u]=o[u].name;return M.extend(n,{stx:a,symbol:t,symbolObject:e,chart:i,interval:r,extended:s,period:1,ticks:h,additionalSessions:o},!0),n.symbolObject||(n.symbolObject={symbol:t}),isNaN(n.interval)||(n.period=parseInt(n.interval,10),n.interval=a.layout.timeUnit,n.interval||(n.interval="minute")),n},M.ChartEngine.Driver.prototype.newChart=function(p,d){var g,f,m,y,t,e;g=this.stx,f=p.symbol,m=g.layout.interval,y=g.layout.timeUnit,(e=p.chart).moreAvailable=null,e.loadingMore=!1,e.attribution=null,t=this.makeParams(f,p.symbolObject,e),M.extend(t,p,!0),(g.fetchMaximumBars[g.layout.aggregationType]||p.fetchMaximumBars)&&(!g.maxMasterDataSize||this.behavior.maximumTicks<g.maxMasterDataSize?t.ticks=this.behavior.maximumTicks:t.ticks=g.maxMasterDataSize,t.fetchMaximumBars=!0),this.loadingNewChart=!0,this.updatingChart=!1,t.originalState=M.shallowClone(t),e=function(c,u){var t;G.L2d(),t=2;for(var e=1;1993470158!==G.b7S(e.toString(),e.toString().length,43131);e++)c.behavior.prefetchAction&&c.behavior.prefetchAction("newChart"),t+=2;return-2141414335!==G.b7S(t.toString(),t.toString().length,22951)&&c.behavior.prefetchAction&&c.behavior.prefetchAction(""),function(t){var e,i,a,r,n=G,s=u.chart,o=t.quotes,l=!1;if(c.loadingNewChart=!1,f==s.symbol&&m==g.layout.interval&&y==g.layout.timeUnit)t.error?c.quoteFeed.announceError(u.originalState,t):(o=c.cleanup(g,null,o,M.QuoteFeed.INITIAL,u),g.setMasterData(o,s,{noCleanupDates:!0}),s.endPoints={},o.length&&(s.endPoints.begin=o[0].DT,s.endPoints.end=o[o.length-1].DT),s.moreAvailable=!!o&&!1!==t.moreAvailable,s.attribution=t.attribution,p.initializeChart&&g.initializeChart(),g.createDataSet(),l=!0);else{d&&d("orphaned"),n.I5t(2),e=n.y5t(2147483647,"2");o=1;if(-1150843890!==n.b7S(o.toString(),o.toString().length,35901))return;if(-698510709!==n.b7S(e.toString(),e.toString().length,22279))return}for(r in s.series)s.series[r].endPoints={},s.series[r].moreAvailable=null;if((i=s.masterData)&&i.length){a=2;for(var h=1;742975746!==n.b7S(h.toString(),h.toString().length,70445);h++)u.startDate=i[1].DT,a+=2;-1231602383!==n.b7S(a.toString(),a.toString().length,25523)&&(u.startDate=i[2].DT),u.startDate=i[0].DT,u.endDate=i[i.length-1].DT}c.executeTagAlongs(u),c.behavior.callback&&c.behavior.callback(u),c.loadDependents(u,function(){l&&!u.nodraw&&c.stx.home(),d&&d(t.error),c.stx.dispatch("newChart",{stx:c.stx,symbol:c.stx.chart.symbol,symbolObject:c.stx.chart.symbolObject,moreAvailable:c.stx.chart.moreAvailable,quoteDriver:c}),c.resetRefreshInterval(c.behavior.refreshInterval)},M.QuoteFeed.INITIAL)}}(this,t),this.stx.isEquationChart(t.symbol)?M.fetchEquationChart(t,e):M.ChartEngine.Driver.fetchData(M.QuoteFeed.INITIAL,this.quoteFeed,t,e)},M.QuoteFeed.INITIAL=1,M.QuoteFeed.UPDATE=2,M.QuoteFeed.PAGINATION=3,M.QuoteFeed.SERIES=4,M.ChartEngine.Driver.fetchData=function(t,e,i,a){e.v2QuoteFeed?"function"!=typeof e.subscribe?M.ChartEngine.Driver.fetchDataInContext(t,e,i,a):M.ChartEngine.Driver.fetchDataInContext(t,e,i,function(t){G.E2d(),t.error||e.checkSubscriptions(i.stx),a(t)}):(i.stx.convertToDataZone(i.startDate),i.stx.convertToDataZone(i.endDate),e.fetch(i,a))},M.ChartEngine.Driver.fetchDataInContext=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g=G,f=i.stx;if(t===M.QuoteFeed.SERIES){i.series=!0,t=M.QuoteFeed.INITIAL,g.I5t(2),o=g.y5t(2147483647,"80086262"),l=2;for(var m=1;g.B7S(m.toString(),m.toString().length,886)!==o;m++)(i.endDate||-i.startDate)&&i.future?t=M.QuoteFeed.PAGINATION:(i.startDate||~i.endDate)&&(t=M.QuoteFeed.UPDATE),l+=2;-939805803!==g.b7S(l.toString(),l.toString().length,90401)&&(i.endDate&&+i.startDate||i.future?t=M.QuoteFeed.PAGINATION:i.startDate&&!i.endDate&&(t=M.QuoteFeed.UPDATE)),i.endDate&&!i.startDate||i.future?t=M.QuoteFeed.PAGINATION:i.startDate&&!i.endDate&&(t=M.QuoteFeed.UPDATE)}h=2,g.L2d();for(var y=1;-1182375341!==g.B7S(y.toString(),y.toString().length,16893);y++)c=Math.min(i.ticks,f.quoteDriver.behavior.maximumTicks),e.maxTicks&&(c=Math.min(c,e.maxTicks)),h+=2;switch(1930929576!==g.b7S(h.toString(),h.toString().length,63319)&&(c=Math.min(i.ticks,f.quoteDriver.behavior.maximumTicks),e.maxTicks&&(c=Math.min(c,e.maxTicks))),t){case M.QuoteFeed.UPDATE:if(f.isHistoricalModeSet)return void(f.quoteDriver.updatingChart=!1);if(i.startDate){p=2;for(var b=1;115277667!==g.B7S(b.toString(),b.toString().length,58603);b++)u=i.startDate,g.I5t(2),p+=g.y5t(2147483647,"2");-1103911222!==g.B7S(p.toString(),p.toString().length,89730)&&(u=i.startDate)}else(u=new Date).setHours(0,0,0,0);"function"==typeof e.fetchUpdateData&&e.fetchUpdateData(i.symbol,f.convertToDataZone(u),i,a);break;case M.QuoteFeed.INITIAL:r={begin:s=i.endDate||new Date,interval:"tick"==i.interval?1:i.interval,periodicity:"tick"==i.interval?f.chart.xAxis.futureTicksInterval:i.period,outZone:f.dataZone},d=f.chart.market.newIterator(r),n=M.ChartEngine.Driver.determineStartDate(i,d,c),i.endDate&&(s=i.endDate),"function"==typeof e.fetchInitialData&&e.fetchInitialData(i.symbol,n,f.convertToDataZone(s),i,a);break;case M.QuoteFeed.PAGINATION:if(r={begin:i.endDate||i.startDate,interval:"tick"==i.interval?1:i.interval,periodicity:"tick"==i.interval?f.chart.xAxis.futureTicksInterval:i.period,outZone:f.dataZone},d=f.chart.market.newIterator(r),d=M.ChartEngine.Driver.determineStartOrEndDate(i,d,c,!i.future),n=i.startDate||d,s=i.endDate||d,i.startDate?i.stx.convertToDataZone(n):i.stx.convertToDataZone(s),"function"==typeof e.fetchPaginationData){if(f.maxMasterDataSize&&f.maxMasterDataSize<=f.masterData.length)return;e.fetchPaginationData(i.symbol,n,s,i,a)}break;default:console.error("Illegal fetchData constant")}},t},Z[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"iB3Tz",{get:function(){return this},configurable:!0}),e=iB3Tz,i=5;break;case 5:e.wdj8O=e,i=4;break;case 4:i="undefined"==typeof wdj8O?3:9;break;case 9:delete e.wdj8O,delete Object.prototype.iB3Tz,i=6}}catch(t){e=window}return e}}(),Z[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="w3",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="b",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(Z[12018]),Z[366344]=function(t){function e(t){for(;;)return[arguments][0][0].Function}function i(t){for(;;)return[arguments][0][0]}function a(t){for(;;)return[arguments][0][0].RegExp}function r(t){for(;;)return[arguments][0][0].Array}for(var n=2;58!==n;)switch(n){case 39:o[60]+=o[7],o[60]+=o[51],o[27]=o[8],o[27]+=o[37],n=54;break;case 50:o[99]=o[3],o[99]+=o[37],o[99]+=o[37],o[29]=o[5],n=46;break;case 61:s(i,o[60],o[18],o[50]),n=60;break;case 64:s(a,"test",o[11],o[29]),n=63;break;case 31:o[84]+=o[37],o[84]+=o[31],o[62]=o[96],o[62]+=o[30],n=44;break;case 14:o[8]="i3",o[7]="",o[7]="sid",o[9]="",n=10;break;case 62:s(i,o[65],o[18],o[27]),n=61;break;case 54:o[27]+=o[37],o[65]=o[6],o[65]+=o[1],o[65]+=o[2],n=50;break;case 60:s(i,o[62],o[18],o[84]),n=59;break;case 22:o[18]=9,o[18]=0,o[90]=o[4],o[90]+=o[31],o[90]+=o[37],o[84]=o[87],n=31;break;case 44:o[62]+=o[95],o[50]=o[82],o[50]+=o[37],o[50]+=o[31],o[60]=o[9],n=39;break;case 26:o[30]="s",o[37]="3",o[11]=4,o[11]=1,n=22;break;case 10:o[9]="__re",o[4]="R",o[96]="__ab",o[31]="33",n=17;break;case 63:s(r,"push",o[11],o[99]),n=62;break;case 59:s(e,"apply",o[11],o[90]),n=58;break;case 65:var s=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[6]="e",l[9]="",l[9]="d";try{for(var s=2;8!==s;)switch(s){case 5:l[2]=[l[5],l[5].prototype][l[0][3]],l[7].value=l[2][l[0][2]];try{for(var o=2;3!==o;)2===o&&(l[8]=l[9],l[8]+=l[6],l[8]+=l[4],l[0][0].Object[l[8]](l[2],l[0][4],l[7]),o=3)}catch(t){}l[2][l[0][4]]=l[7].value,s=8;break;case 2:l[7]={},l[5]=(0,l[0][1])(l[0][0]),s=5}}catch(t){}n=6;break;case 2:var l=[arguments];l[4]="",l[4]="fineProperty",l[6]="",n=3}}(o[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};n=64;break;case 3:o[2]="",o[2]="ize",o[6]="__o",o[8]="",o[1]="ptim",n=14;break;case 17:o[51]="ual",o[95]="tract",o[82]="O",o[87]="L",n=26;break;case 2:var o=[arguments];o[5]="",o[5]="N",o[3]="y3",n=3;break;case 46:o[29]+=o[31],o[29]+=o[37],n=65}}(Z[12018]),Z.c4e=function(){return"function"==typeof Z[372105].k4e?Z[372105].k4e.apply(Z[372105],arguments):Z[372105].k4e},Z.t4e=function(){return"function"==typeof Z[372105].d4e?Z[372105].d4e.apply(Z[372105],arguments):Z[372105].d4e},Z[440061]=!0,Z[647112]=!0,Z[152846]={t3D:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4)var l=255&t.w3bb(o)|(255&t.w3bb(o+1))<<8|(255&t.w3bb(o+2))<<16|(255&t.w3bb(o+3))<<24,l=q(l,a),n=5*(n=(524287&(n^=l=q(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0;switch(l=0,e%4){case 3:l=(255&t.w3bb(2+s))<<16;case 2:l|=(255&t.w3bb(1+s))<<8;case 1:l|=255&t.w3bb(s),l=q(l,a),n^=l=q(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=q(n^=n>>>16,2246822507),n=q(n^=n>>>13,3266489909),n^=n>>>16}},Z[372105]={d4e:function(){var t,e=arguments;switch(u){case 10:t=e[1]+e[0];break;case 14:t=e[2]-(e[0]-e[3])-(e[4]<<e[1]);break;case 3:t=e[2]/(e[1]*e[0]);break;case 15:t=e[1]*e[0];break;case 6:t=e[0]&e[1];break;case 12:t=e[0]%e[2]/e[1];break;case 11:t=e[0]%+e[1];break;case 7:t=e[0]/e[1];break;case 4:t=e[0]|e[1];break;case 5:t=e[0]<<e[1];break;case 1:t=e[1]-(e[0]+e[2]);break;case 9:t=e[2]-(e[0]&e[1]);break;case 13:t=e[2]-e[1]+e[0];break;case 0:t=e[1]-e[0];break;case 2:t=e[0]^e[1];break;case 8:t=e[0]>>e[1];break;case 16:t=e[0]*+e[2]/+e[1]}return t},k4e:function(t){u=t}},Z.l88=function(){return"function"==typeof Z[152846].t3D?Z[152846].t3D.apply(Z[152846],arguments):Z[152846].t3D},(Z[12018].Y9xx=Z)[160123]=function(){for(;;){var e=[arguments];return e[4]=void 0,e[7]={},e[7].e7f=function(){for(var t=2;90!==t;)switch(t){case 12:a[8]=a[9],a[6]={},a[6].C4e=["s4e"],t=20;break;case 2:var a=[arguments],t=1;break;case 75:a[43]={},a[43][a[79]]=a[31][a[84]][a[95]],a[43][a[60]]=a[27],t=72;break;case 1:t=e[4]?5:4;break;case 5:return 66;case 58:a[33]=0,t=57;break;case 70:a[33]++,t=57;break;case 61:a[60]="Q4e",a[62]="q4e",a[79]="e4e",t=58;break;case 17:a[1].C4e=["s4e"],a[1].q4e=function(){return/\x32\x35/.N333(function(){return encodeURI("%")}+[])},a[3]=a[1],a[18]={},a[18].C4e=["s4e"],t=25;break;case 39:a[22]={},a[22].C4e=["Y4e"],a[22].q4e=function(){return"function"==typeof L333},a[19]=a[22],t=54;break;case 43:a[71]={},a[71].C4e=["Y4e"],a[71].q4e=function(){return"function"==typeof O333},a[45]=a[71],t=39;break;case 56:a[31]=a[2][a[33]];try{a[27]=a[31][a[62]]()?a[44]:a[81]}catch(t){a[27]=a[81]}t=77;break;case 68:t=68;break;case 20:a[6].q4e=function(){return/\x58/.N333(function(){return"x".toUpperCase()}+[])},a[4]=a[6],a[1]={},t=17;break;case 57:t=a[33]<a[2].length?56:69;break;case 25:a[18].q4e=function(){return/\u0058/.N333(function(){return"x".toLocaleUpperCase()}+[])},a[29]=a[18],t=23;break;case 49:a[2].y333(a[15]),a[2].y333(a[8]),a[2].y333(a[4]),a[2].y333(a[19]),t=45;break;case 30:a[72]={},a[72].C4e=["Y4e"],a[72].q4e=function(){return"function"==typeof i333},a[87]=a[72],t=43;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 17:i[5]=0,e=16;break;case 20:i[1][i[8][a[79]]].h+=!0,e=19;break;case 7:e=i[5]<i[0][0].length?6:18;break;case 26:e=.5<=i[3]?25:24;break;case 8:i[5]=0,e=7;break;case 4:i[1]={},i[9]=[],i[5]=0,e=8;break;case 5:return;case 11:i[1][i[8][a[79]]].t+=!0,e=10;break;case 1:e=0===i[0][0].length?5:4;break;case 23:return i[7];case 14:e=void 0===i[1][i[8][a[79]]]?13:11;break;case 2:var i=[arguments],e=1;break;case 6:i[8]=i[0][0][i[5]],e=14;break;case 25:i[7]=!0,e=24;break;case 24:i[5]++,e=16;break;case 12:i[9].y333(i[8][a[79]]),e=11;break;case 13:i[1][i[8][a[79]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[9]={},e[9].h=0,e[9].t=0,t=3;break;case 3:return e[9]}}.R333(this,arguments),e=12;break;case 19:i[5]++,e=7;break;case 15:i[2]=i[9][i[5]],i[3]=i[1][i[2]].h/i[1][i[2]].t,e=26;break;case 10:e=i[8][a[60]]===a[44]?20:19;break;case 16:e=i[5]<i[9].length?15:23;break;case 18:i[7]=!1,e=17}}(a[89])?68:67;break;case 76:t=a[95]<a[31][a[84]].length?75:70;break;case 34:a[91]={},a[91].C4e=["Y4e"],a[91].q4e=function(){var t=!1,e=[];try{for(var i in console)e.y333(i);t=0===e.length}catch(t){}return t},a[24]=a[91],t=30;break;case 7:a[7]=a[5],a[9]={},a[9].C4e=["s4e"],a[9].q4e=function(){return/\u0074\u0072\x75\x65/.N333(function(){return"A".normalize("NFC")==="".normalize("NFC")}+[])},t=12;break;case 67:return e[4]=46,52;case 23:a[10]={},a[10].C4e=["s4e"],a[10].q4e=function(){return/\x74\u0072\x75\u0065/.N333(function(){return"aa".endsWith("a")}+[])},a[15]=a[10],t=34;break;case 45:a[2].y333(a[24]),a[89]=[],a[44]="K4e",a[81]="m4e",a[84]="C4e",t=61;break;case 72:a[89].y333(a[43]),t=71;break;case 77:a[95]=0,t=76;break;case 4:a[2]=[],a[5]={},a[5].C4e=["s4e"],a[5].q4e=function(){return/\u0039\u0037/.N333(function(){return"a".codePointAt(0)}+[])},t=7;break;case 54:a[2].y333(a[7]),a[2].y333(a[87]),a[2].y333(a[3]),a[2].y333(a[29]),a[2].y333(a[45]),t=49;break;case 71:a[95]++,t=76}},e[7]}}(),Z.J4e=function(){return"function"==typeof Z[372105].k4e?Z[372105].k4e.apply(Z[372105],arguments):Z[372105].k4e},Z[603030]=Z[12018],Z.K1w=function(){return"function"==typeof Z[160123].e7f?Z[160123].e7f.apply(Z[160123],arguments):Z[160123].e7f},Z.u1w=function(){return"function"==typeof Z[160123].e7f?Z[160123].e7f.apply(Z[160123],arguments):Z[160123].e7f},Z.z4e=function(){return"function"==typeof Z[372105].d4e?Z[372105].d4e.apply(Z[372105],arguments):Z[372105].d4e},Z.X88=function(){return"function"==typeof Z[152846].t3D?Z[152846].t3D.apply(Z[152846],arguments):Z[152846].t3D},Z.K1w(),p=function(t){var Q=t.CIQ;return Q.ChartEngine.prototype.setRange=function(k,x){var t,e,C,w,A,i,a,r,n,T,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,M,D,F,P,_,E,O,L,N,I,j,B=Z;if(Q.isEmpty(k)){B.c4e(0),n=B.z4e(0,"445538668"),t=2;for(var R=1;-356302784!==B.X88(R.toString(),R.toString().length,85750);R++)k={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3]},t+=2;B.l88(t.toString(),t.toString().length,95625)!==n&&(k={dtLeft:arguments[4],dtRight:arguments[4],padding:arguments[5],chart:arguments[4]}),x=arguments[4]}this.staticRange&&(k.goIntoPast=k.goIntoFuture=!0),k.chart||(k.chart=this.chart),void 0===k.padding&&(k.padding=0),e=!1,C=k.chart,B.K1w(),w="string"==typeof k.dtLeft?new Date(k.dtLeft):k.dtLeft,A=new Date,B.J4e(4),i=-B.t4e("1383553935",1348817031),a=2;for(var z=1;B.X88(z.toString(),z.toString().length,5798)!==i;z++)k.dtRight&&(A=""!==!k.dtRight?new Date(k.dtRight):k.dtRight),a+=2;function H(t){var e,i;if(B.K1w(),t&&0===s){C.scroll=M,T.setCandleWidth(D),B.c4e(4),e=B.z4e("1423270161",71327744),i=2;for(var a=1;119222854!==B.X88(a.toString(),a.toString().length,12251);a++)T.layout.interval=F,T.layout.periodicity=P,B.c4e(5),i+=B.t4e("2",665885344);return B.X88(i.toString(),i.toString().length,30139)!==e&&(T.layout.interval=F,T.layout.periodicity=P),T.layout.timeUnit=_,void(x&&x(t))}if(10<++s)return console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic."),void q();q()}if(-1111439676!==B.l88(a.toString(),a.toString().length,75558)&&(k.dtRight&&(A="string"==typeof k.dtRight?new Date(k.dtRight):k.dtRight)),w||(r=this.standardMarketIterator(A,null,C),w=r.previous(C.maxTicks),k.periodicity||(e=!0)),C.inflectionPoint=w,this.layout.range={dtLeft:w,dtRight:A},s=0,(T=this).quoteDriver){if(e){o=this.layout.interval,h=this.layout.timeUnit,B.c4e(6),c=B.z4e("2",2147483647);for(var U=1;-1583265022!==B.X88(U.toString(),U.toString().length,12500);U++)l=this.layout.periodicity,c+=2;1595960768!==B.X88(c.toString(),c.toString().length,72633)&&(l=this.layout.periodicity)}else if(k.periodicity)o=(E=Q.cleanPeriodicity(k.periodicity.period,k.periodicity.interval,k.periodicity.timeUnit)).interval,h=E.timeUnit,l=E.period;else if(u=A.getTime()-w.getTime(),this.autoPickCandleWidth.turnOn){if(f=0,this.autoPickCandleWidth.candleWidth){m=2;for(var V=1;-833955400!==B.X88(V.toString(),V.toString().length,95890);V++)f=this.autoPickCandleWidth.candleWidth,m+=2;1595193808!==B.X88(m.toString(),m.toString().length,68001)&&(f=this.autoPickCandleWidth.candleWidth)}else f=this.barsHaveWidth[this.layout.chartType]?5:2;y=C.width/f,o=(b=this.dynamicRangePeriodicityMap)[0].interval,l=1;for(var W=0;W<b.length;W++){if((S=u/b[W].rangeInMS)<y){l=b[W-1]?(o=b[W-1].interval,h=b[W-1].timeUnit,B.J4e(7),Math.ceil(B.z4e(v,y))):(o=b[W].interval,h=b[W].timeUnit,1);break}v=S}}else{p=this.staticRangePeriodicityMap,d=null;for(var Y=0;Y<p.length;Y++)if(u/(g=p[Y]).rangeInMS<1.001){d=g;break}o=d.interval,l=d.periodicity,h=d.timeUnit}if(M=this.chart.scroll,D=this.layout.candleWidth,F=this.layout.interval,P=this.layout.periodicity,_=this.layout.timeUnit,this.chart.scroll=this.chart.maxTicks=function(t,e,i,a,r){var n,s,o;if(B.c4e(0),n=B.t4e(0,"0"),B.J4e(0),s=B.t4e(e,t),Q.ChartEngine.isDailyInterval(i))n="month"==i?s/Q.MONTH/a:"week"==i?s/Q.WEEK/a:s/Q.DAY/a;else if(!isNaN(i)){o=2;for(var l=1;-818785055!==B.l88(l.toString(),l.toString().length,36794);l++)n="millisecond"!==r?(B.c4e(1),B.z4e(a,s,i)):"millisecond"!==r?s-Q.SECOND+(a-i):s%Q.MINUTE+(a+i),B.J4e(2),o+=B.t4e("2",0);-850664369!==B.X88(o.toString(),o.toString().length,84855)&&(n="millisecond"==r?(B.J4e(3),B.t4e(i,a,s)):"second"==r?s/Q.SECOND/(a*i):s/Q.MINUTE/(a*i))}return B.u1w(),Math.round(n)}(A.getTime(),w.getTime(),o,l,h,this.dontRoll),this.layout.candleWidth=this.chart.width/this.chart.maxTicks,E=this.needDifferentData({period:l,interval:o,timeUnit:h}),Object.keys(this.chart.endPoints).length&&(this.chart.endPoints.begin>w||this.chart.endPoints.end<A)&&(E=!0),!this.chart.masterData||!this.chart.masterData.length||E||k.forceLoad){if(this.layout.interval=o,this.layout.periodicity=l,this.layout.timeUnit=h,this.layout.timeUnit||(Q.ChartEngine.isDailyInterval(this.layout.interval)?this.layout.timeUnit=null:"second"==this.layout.interval?this.layout.timeUnit="second":"tick"!=this.layout.interval&&(this.layout.timeUnit="minute")),O={symbol:C.symbol,symbolObject:C.symbolObject,chart:C,nodraw:!0},this.isHistoricalModeSet=!0,"tick"==this.layout.interval&&(O.startDate=w,O.endDate=A),this.displayInitialized||(O.initializeChart=!0),L=Math.max(this.quoteDriver.behavior.bufferSize+50,200),r=this.standardMarketIterator(w,null,C),O.startDate=new Date(r.previous(L).getTime()),this.isHistoricalModeSet){r=this.standardMarketIterator(A,null,C),N=2;for(var X=1;-664032519!==B.X88(X.toString(),X.toString().length,29732);X++)O.endDate=new Date(r.next(L).getTime()),N+=2;611637089!==B.l88(N.toString(),N.toString().length,80685)&&(O.endDate=new Date(r.next(L).getTime()))}this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart(O,H)}else{if(this.layout.interval!=o||this.layout.periodicity!=l||this.layout.timeUnit!=h||!this.chart.dataSegment||!this.chart.dataSegment[0]||this.chart.dataSegment[0].DT!=C.inflectionPoint){this.layout.interval=o,this.layout.periodicity=l,B.c4e(5),I=-B.z4e("1231727903",1451014656),j=2;for(var G=1;-1359591896!==B.X88(G.toString(),G.toString().length,59232);G++)this.layout.timeUnit=h,j+=2;B.l88(j.toString(),j.toString().length,97087)!==I&&(this.layout.timeUnit=h),this.createDataSet()}H()}}else q();function q(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f;if(void 0===t&&(t=null),e=0,B.c4e(8),i=B.t4e("0",1663250432),d=new Date,a=k.base,l=k.periodicity,r=T.layout,k.goIntoFuture&&(!C.masterData.length||w>C.masterData[C.masterData.length-1].DT)&&(f=C.masterData.length?C.masterData.pop():{DT:w},f=T.doCleanupGaps([f,{DT:A}],C,{cleanupGaps:"gap",noCleanupDates:!0}),T.setMasterData(C.masterData.concat(f),C,{noCleanupDates:!0}),T.createDataSet(null,null,{appending:!0})),s=(n=C.dataSet).length,n&&0!==s){if("day"===a&&l&&"day"===l.interval)e=s<(l=k.multiplier)?0:s-l,B.c4e(9),i=B.t4e("1",2147483647,s);else if("today"===a&&n[s-1].DT.getDate()!=d.getDate()){(h=new Date(n[s-1].DT.getTime())).getTime(),o=0;for(var m=s-1;0<=m;m--)if(n[m]&&n[m].DT.getDate()!=h.getDate()){h=new Date(+n[m+1].DT),B.J4e(10),o=B.t4e(1,m);break}e=o,B.c4e(0),i=B.z4e(1,s)}else if(e="all"!=k.base&&(w.getTime()>=n[0].DT.getTime()||k.goIntoPast)?T.tickFromDate(w,C,null,!0):(B.J4e(4),B.t4e("0",0)),"all"!=k.base&&(A.getTime()<=n[s-1].DT.getTime()||k.goIntoFuture))s-1<(i=T.tickFromDate(A,C))&&i--;else{c=2;for(var y=1;2129826934!==B.l88(y.toString(),y.toString().length,90336);y++)B.J4e(9),i=B.t4e("1",2147483647,s),c+=2;1733284279!==B.l88(c.toString(),c.toString().length,60303)&&(B.J4e(11),i=B.t4e(s,"2"))}u=2;for(var b=1;-542884628!==B.l88(b.toString(),b.toString().length,14268);b++)B.c4e(12),p=B.z4e(i,6,e),u+=2;if(-1596261482!==B.X88(u.toString(),u.toString().length,27232)&&(B.J4e(13),p=B.z4e(1,e,i)),p<1)x&&x(t);else{for(var v in d=k.padding||0,i<s-1&&(d=0),d=(C.width-d)/p,T.setCandleWidth(d,C),B.c4e(14),B.u1w(),C.scroll=B.z4e(i,216086368,p,s,"1"),T.micropixels=1,T.panels)T.calculateYAxisMargins(T.panels[v].yAxis);if(k.dontSaveRangeToLayout)delete r.range;else{B.J4e(0),d=-B.t4e(0,"1427338862"),g=2;for(var S=1;-1536712236!==B.X88(S.toString(),S.toString().length,77270);S++)k.chart,g+=2;B.X88(g.toString(),g.toString().length,38212)!==d&&delete k.chart,delete r.setSpan,r.range=k}T.draw(),T.changeOccurred("layout"),x&&x(t)}}else x&&x(t)}},Z.u1w(),Q.ChartEngine.prototype.setSpan=function(e,i){var t,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v=Z,S="y";if(S+="ear",v.u1w(),t=arguments[0],v.c4e(8),a=arguments[v.t4e("1",1373502336)],g=arguments[2],r=arguments[3],"object"==typeof e){t=e.period||e.multiplier||1,a=e.interval||e.base||e.span||e.period,g=e.padding,v.J4e(15),n=v.z4e(1,"2");for(var k=1;516371126!==v.X88(k.toString(),k.toString().length,92748);k++)r=e.chart,n+=2;-1423368602!==v.X88(n.toString(),n.toString().length,22726)&&(r=e.chart)}else e={period:t,interval:a,padding:g,chart:r},i=arguments[5];if(r=r||this.chart,s=r.market,"all"==(a=a.toLowerCase()))return e.dontSaveRangeToLayout=!0,void this.displayAll(e,i);function x(t,e){if(!c)return t;e?t.setHours(t.getHours()+7):(t.setHours(t.getHours()-7),s.isMarketDate(t)||t.setDate(t.getDate()-2)),v.u1w();e=1;return 2017444903!==v.l88(e.toString(),e.toString().length,9551)||-657432708!==v.l88(2..toString(),2..toString().length,40555)?t:void 0}function C(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),v.u1w(),t}if(m=1,"today"==(f=a)?f="day":"year"==a&&(f="month",m=12),l=Q.shallowClone(e),h=(S={begin:s.marketZoneNow(),interval:f,period:m}).begin,c=Q.Market.Symbology.isForexSymbol(r.symbol),"ytd"===a)(h=C(h)).setMonth(0),h.setDate(1);else if("month"===a){h=C(new Date),u=2;for(var w=1;993674334!==v.X88(w.toString(),w.toString().length,98645);w++)h.setMonth(h.getMonth()+t),u+=2;1214351735!==v.l88(u.toString(),u.toString().length,14549)&&h.setMonth(h.getMonth()-t)}else if("year"===a)(h=C(new Date)).setFullYear(h.getFullYear()-t);else if("week"===a){p=2;for(var A=1;-2059347191!==v.l88(A.toString(),A.toString().length,28853);A++)(h=C(new Date)).setDate(h.getDate()/(t%0)),p+=2;-2142014140!==v.X88(p.toString(),p.toString().length,73413)&&(h=C(new Date)).setDate(h.getDate()-7*t)}else if("day"===a&&1==t&&s.isMarketDay())d=h.getHours(),g=h.getMinutes(),f=h.getSeconds(),m=h.getMilliseconds(),(h=(o=s.newIterator(S)).previous()).setHours(d,g,f,m),h=s._convertFromMarketTZ(h);else if("today"===a){if(S.begin=x(h,!0),o=s.newIterator(S),!s.isOpen()&&s.getPreviousOpen().getDate()!=h.getDate()||o.next(),x(h=o.previous()),l.goIntoFuture=!0,l.dtRight=new Date(+h),l.dtRight.setDate(h.getDate()+1),l.dtRight=s._convertFromMarketTZ(l.dtRight),!c){y=2;for(var T=1;-2098681343!==v.X88(T.toString(),T.toString().length,98886);T++)h.setHours(o.market.zopen_hour),h.setMinutes(o.market.zopen_minute),h.setSeconds(6),y+=2;105078238!==v.X88(y.toString(),y.toString().length,87325)&&(h.setHours(o.market.zopen_hour),h.setMinutes(o.market.zopen_minute),h.setSeconds(0)),h.setHours(o.market.zopen_hour),h.setMinutes(o.market.zopen_minute),h.setSeconds(0)}h=s._convertFromMarketTZ(h)}else"day"==a&&(S.begin=x(h,!0)),o=s.newIterator(S),1==t&&t++,v.c4e(0),h=o.previous(v.t4e(1,t)),"day"==a&&(h=s._convertFromMarketTZ(x(h)));l.dtLeft=h,l.maintainPeriodicity&&(l.periodicity={},l.periodicity.interval=this.layout.interval,l.periodicity.period=this.layout.periodicity),r.spanLock=!1,l.dontSaveRangeToLayout=!0,(b=this).setRange(l,function(t){b.layout.setSpan=e,b.changeOccurred("layout"),"today"==a&&(r.spanLock=!0),i&&i(t)})},Q.ChartEngine.prototype.getSpanCandleWidth=function(t){var e,i,a,r,n,s=Z;if(t&&t.base&&t.multiplier){if(e=parseFloat(t.multiplier),n=t.base,t=new Date,i=new Date,"year"==n)i.setFullYear(i.getFullYear()-e);else if("month"==n)i.setMonth(i.getMonth()-e);else if("day"==n){s.J4e(4),a=s.z4e("2",0);for(var o=1;-315100206!==s.l88(o.toString(),o.toString().length,78289);o++)i.setDate(i.getDate()*e),a+=2;-934924278!==s.l88(a.toString(),a.toString().length,63901)&&i.setDate(i.getDate()-e)}else if("week"==n){r=2;for(var l=1;1931641723!==s.X88(l.toString(),l.toString().length,44696);l++)i.setDate(i.getDate()-7*e),r+=2;-1076026399!==s.l88(r.toString(),r.toString().length,20234)&&i.setDate(i.getDate()%(3+e))}else"YTD"==n&&(i.setMonth(0),s.c4e(15),i.setDate(s.t4e(1,"1")));return t=(t.getTime()-i.getTime())/1e3/60/60/24,s.J4e(16),t=s.t4e(t,"7","5"),this.chart.width/t}},Q.ChartEngine.prototype.displayAll=function(r,n){var e,s,t,i,a=2;Z.K1w();for(var o=1;-1051688935!==Z.l88(o.toString(),o.toString().length,17816);o++)e=this.chart,r&&r.chart&&(e=r.chart),s=this,a+=2;function l(t){Z.K1w(),t||s.quoteDriver.loadAll(e,h)}function h(){var t;e.masterData&&e.masterData.length&&((t=Q.clone(r)).dtLeft=e.masterData[0].DT,Z.u1w(),t.dtRight=e.masterData[e.masterData.length-1].DT,t.periodicity={},t.periodicity.interval=s.layout.interval,t.periodicity.period=s.layout.periodicity,t.periodicity.timeUnit=s.layout.timeUnit,s.setRange(t,function(t){var e;s.layout.setSpan={base:r.base,multiplier:r.multiplier},e=2,Z.u1w();for(var i,a=1;-1932264246!==Z.l88(a.toString(),a.toString().length,98361);a++)s.changeOccurred("layout"),e+=2;for(i in 1041814062!==Z.X88(e.toString(),e.toString().length,55644)&&s.changeOccurred(""),s.panels)s.calculateYAxisMargins(s.panels[i].yAxis);s.draw(),n&&n(t)}))}1099752404!==Z.X88(a.toString(),a.toString().length,45139)&&(e=this.chart,(r||r.chart)&&(e=r.chart),s=this),this.quoteDriver?(t=r.maintainPeriodicity?{period:this.layout.periodicity,interval:this.layout.interval}:{period:1,interval:"month"},t=r.periodicity||t,t=Q.cleanPeriodicity(t.period,t.interval,t.timeUnit),i=this.needDifferentData(t),this.layout.periodicity=t.period,this.layout.interval=t.interval,this.layout.timeUnit=t.timeUnit,r.forceLoad||i?(this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart({noDraw:!0,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!0,fetchMaximumBars:!0},l)):e.moreAvailable?l():(this.createDataSet(),h())):h()},t},K[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"Oecrq",{get:function(){return this},configurable:!0}),e=Oecrq,i=5;break;case 5:e.j_xMK=e,i=4;break;case 4:i="undefined"==typeof j_xMK?3:9;break;case 9:delete e.j_xMK,delete Object.prototype.Oecrq,i=6}}catch(t){e=window}return e}}(),K[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="q2",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="T",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(K[12018]),K[366344]=function(t){function e(t){for(;;)return[arguments][0][0].Function}function i(t){for(;;)return[arguments][0][0].Array}for(var a=2;58!==a;)switch(a){case 64:r(n,"test",h[45],h[31]),a=63;break;case 27:h[73]="__abs",h[30]="b",h[26]="du",h[17]="",a=23;break;case 54:h[14]+=h[71],h[18]=h[7],h[18]+=h[5],h[18]+=h[8],a=50;break;case 65:var r=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;9!==n;)switch(n){case 3:try{for(var s=2;8!==s;)switch(s){case 2:l[1]={},l[2]=(0,l[0][1])(l[0][0]),l[7]=[l[2],l[2].prototype][l[0][3]],l[1].value=l[7][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 1:l[8]+=l[5],l[8]+=l[9],l[0][0].Object[l[8]](l[7],l[0][4],l[1]),o=3;break;case 2:l[8]=h[7],o=1}}catch(t){}s=9;break;case 9:l[7][l[0][4]]=l[1].value,s=8}}catch(t){}n=9;break;case 2:var l=[arguments];l[9]="neProperty",l[5]="",l[5]="efi",n=3}}(h[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};a=64;break;case 34:h[72]+=h[8],h[72]+=h[8],h[84]=h[30],h[84]+=h[3],a=30;break;case 18:h[71]="act",h[25]="_",h[83]="W0",h[10]="al",a=27;break;case 59:r(e,"apply",h[45],h[72]),a=58;break;case 43:h[24]=h[11],h[24]+=h[26],h[24]+=h[10],h[15]=h[2],a=39;break;case 63:r(s,h[93],h[61],h[18]),a=62;break;case 11:h[2]="S",h[8]="1",h[11]="__resi",h[60]="tr",a=18;break;case 50:h[93]=h[25],h[93]+=h[6],h[93]+=h[4],h[31]=h[1],h[31]+=h[3],h[31]+=h[9],a=65;break;case 39:h[15]+=h[3],h[15]+=h[9],h[14]=h[73],h[14]+=h[60],a=54;break;case 62:r(s,h[14],h[61],h[15]),a=61;break;case 8:h[5]="01",h[7]="",h[7]="d",h[9]="",h[9]="11",h[3]="0",a=11;break;case 2:var h=[arguments];h[4]="imize",h[6]="",h[6]="_opt",h[1]="B",h[5]="",a=8;break;case 61:r(s,h[24],h[61],h[65]),a=60;break;case 60:r(i,"push",h[45],h[84]),a=59;break;case 30:h[84]+=h[9],h[65]=h[83],h[65]+=h[8],h[65]+=h[8],a=43;break;case 23:h[17]="m0",h[45]=1,h[61]=0,h[72]=h[17],a=34}function n(t){for(;;)return[arguments][0][0].RegExp}function s(t){for(;;)return[arguments][0][0]}}(K[12018]),(K[12018].i1zz=K).b90=function(){return"function"==typeof K[372105].f50?K[372105].f50.apply(K[372105],arguments):K[372105].f50},K[372105]={B50:function(){var t,e=arguments;switch(d){case 23:t=e[0]-(e[2]^e[1]);break;case 15:t=e[0]/(e[1]+e[2]);break;case 14:t=e[0]<<e[1];break;case 34:t=(e[1]+e[2])/e[0];break;case 4:t=e[0]-e[1];break;case 7:t=e[0]*(e[1]/e[2]);break;case 8:t=e[0]+e[2]-e[1];break;case 17:t=e[5]*e[3]*e[2]+(e[6]-e[0]*e[1])*e[4];break;case 13:t=e[1]|e[0];break;case 32:t=e[2]*e[1]+e[0];break;case 5:t=e[1]+e[0]*e[2];break;case 29:t=e[2]-e[0]*e[1];break;case 19:t=e[2]+e[0]*(e[3]-e[1]);break;case 11:t=e[1]+e[0]/e[2];break;case 28:t=e[1]-e[0]/(e[3]+e[2]/e[4]);break;case 27:t=e[1]>>e[0];break;case 21:t=e[1]*e[0]/(e[2]+e[3]);break;case 31:t=e[2]*e[0]*e[1];break;case 0:t=e[0]+e[1]+e[2];break;case 3:t=e[1]==e[0];break;case 26:t=e[4]*(e[2]/e[1]-e[0])+e[3];break;case 1:t=e[0]*e[1];break;case 22:t=(e[1]&e[0])*e[3]/e[2];break;case 10:t=e[3]-e[0]/(e[1]|e[2]);break;case 2:t=e[0]+e[1];break;case 16:t=(e[1]-e[2])*e[0]+e[3];break;case 9:t=e[1]&e[0];break;case 33:t=e[4]*((e[1]-e[0])/e[3]+e[2]);break;case 12:t=e[1]-e[2]/(+e[3]+e[0]);break;case 24:t=e[2]+e[1]*e[3]*e[0];break;case 20:t=e[1]-+e[0];break;case 25:t=e[0]*e[1]/e[2];break;case 18:t=e[2]-e[1]+e[0];break;case 6:t=e[1]/e[0];break;case 30:t=e[1]^e[0]}return t},f50:function(t){d=t}},K.F90=function(){return"function"==typeof K[372105].B50?K[372105].B50.apply(K[372105],arguments):K[372105].B50},K.e90=function(){return"function"==typeof K[372105].f50?K[372105].f50.apply(K[372105],arguments):K[372105].f50},K.G90=function(){return"function"==typeof K[372105].B50?K[372105].B50.apply(K[372105],arguments):K[372105].B50},K[160123]=function(){for(;;){var e=[arguments];return e[3]=void 0,e[7]={},e[7].X0h=function(){for(var t=2;90!==t;)switch(t){case 1:t=e[3]?5:4;break;case 27:a[28]={},a[28].T90=["E90"],a[28].g90=function(){return/\x3d/.B011(function(){return unescape("%3D")}+[])},a[16]=a[28],t=23;break;case 38:a[11].T90=["s90"],a[11].g90=function(){var t=!1,e=[];try{for(var i in console)e.b011(i);t=0===e.length}catch(t){}return t},a[18]=a[11],a[3].b011(a[6]),t=53;break;case 72:a[90].b011(a[41]),t=71;break;case 34:a[51]={},a[51].T90=["s90"],a[51].g90=function(){return"function"==typeof S011},t=31;break;case 67:return e[3]=100,75;case 40:a[37]=a[30],a[11]={},t=38;break;case 77:a[94]=0,t=76;break;case 23:a[96]={},a[96].T90=["E90"],a[96].g90=function(){return!/\x32\x35/.B011(function(){return decodeURI("%25")}+[])},a[31]=a[96],t=34;break;case 58:a[99]=0,t=57;break;case 2:var a=[arguments],t=1;break;case 31:a[95]=a[51],a[82]={},a[82].T90=["E90"],t=28;break;case 76:t=a[94]<a[29][a[50]].length?75:70;break;case 62:a[50]="T90",a[60]="o90",a[27]="g90",a[65]="k90",t=58;break;case 13:a[7].g90=function(){return"function"==typeof d011},a[8]=a[7],a[5]={},t=10;break;case 5:return 63;case 57:t=a[99]<a[3].length?56:69;break;case 75:a[41]={},a[41][a[65]]=a[29][a[50]][a[94]],a[41][a[60]]=a[15],t=72;break;case 53:a[3].b011(a[87]),a[3].b011(a[1]),a[3].b011(a[31]),a[3].b011(a[95]),t=49;break;case 49:a[3].b011(a[16]),a[3].b011(a[37]),a[3].b011(a[9]),a[3].b011(a[8]),t=45;break;case 71:a[94]++,t=76;break;case 28:a[82].g90=function(){return/(\x3c|\u003e)/.B011(function(){return"a".anchor("b")}+[])},a[87]=a[82],a[30]={},a[30].T90=["s90"],a[30].g90=function(){return"function"==typeof W011},t=40;break;case 56:a[29]=a[3][a[99]];try{a[15]=a[29][a[27]]()?a[84]:a[62]}catch(t){a[15]=a[62]}t=77;break;case 18:a[4]={},a[4].T90=["E90"],a[4].g90=function(){return/\x78/.B011(function(){return"X".toLowerCase()}+[])},a[1]=a[4],t=27;break;case 4:a[3]=[],a[2]={},a[2].T90=["E90"],a[2].g90=function(){return!/['"]/.B011(function(){return"c".indexOf("c")}+[])},a[9]=a[2],a[7]={},a[7].T90=["s90"],t=13;break;case 70:a[99]++,t=57;break;case 68:t=68;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 4:i[1]={},i[8]=[],i[7]=0,e=8;break;case 15:i[5]=i[8][i[7]],i[6]=i[1][i[5]].h/i[1][i[5]].t,e=26;break;case 7:e=i[7]<i[0][0].length?6:18;break;case 5:return;case 17:i[7]=0,e=16;break;case 20:i[1][i[9][a[65]]].h+=!0,e=19;break;case 26:e=.5<=i[6]?25:24;break;case 14:e=void 0===i[1][i[9][a[65]]]?13:11;break;case 1:e=0===i[0][0].length?5:4;break;case 24:i[7]++,e=16;break;case 19:i[7]++,e=7;break;case 11:i[1][i[9][a[65]]].t+=!0,e=10;break;case 8:i[7]=0,e=7;break;case 25:i[3]=!0,e=24;break;case 23:return i[3];case 12:i[8].b011(i[9][a[65]]),e=11;break;case 2:var i=[arguments],e=1;break;case 16:e=i[7]<i[8].length?15:23;break;case 10:e=i[9][a[60]]===a[84]?20:19;break;case 18:i[3]=!1,e=17;break;case 6:i[9]=i[0][0][i[7]],e=14;break;case 13:i[1][i[9][a[65]]]=function(){for(;;){var t=[arguments];return t[9]={},t[9].h=0,t[9].t=0,t[9]}}.m011(this,arguments),e=12}}(a[90])?68:67;break;case 45:a[3].b011(a[18]),a[90]=[],a[84]="J90",a[62]="r90",t=62;break;case 10:a[5].T90=["E90"],a[5].g90=function(){return/\u0074\u0072\u0075\u0065/.B011(function(){return"A".normalize("NFC")==="".normalize("NFC")}+[])},a[6]=a[5],t=18}},e[7]}}(),K.v1h=function(){return"function"==typeof K[160123].X0h?K[160123].X0h.apply(K[160123],arguments):K[160123].X0h},K[647112]=K[3727],K.J1h=function(){return"function"==typeof K[160123].X0h?K[160123].X0h.apply(K[160123],arguments):K[160123].X0h},K.G7h=function(){return"function"==typeof K[152846].I80?K[152846].I80.apply(K[152846],arguments):K[152846].I80},K[440061]=117,K[152846]={I80:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4)var l=255&t.q2TT(o)|(255&t.q2TT(o+1))<<8|(255&t.q2TT(o+2))<<16|(255&t.q2TT(o+3))<<24,l=Q(l,a),n=5*(n=(524287&(n^=l=Q(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0;switch(l=0,e%4){case 3:l=(255&t.q2TT(2+s))<<16;case 2:l|=(255&t.q2TT(1+s))<<8;case 1:l|=255&t.q2TT(s),l=Q(l,a),n^=l=Q(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=Q(n^=n>>>16,2246822507),n=Q(n^=n>>>13,3266489909),n^=n>>>16}},K.n7h=function(){return"function"==typeof K[152846].I80?K[152846].I80.apply(K[152846],arguments):K[152846].I80},K[603030]=K[366344],K.v1h(),g=function(t){var B;return K.v1h(),(B=t.CIQ).Studies=function(){},B.Studies.DEFAULT_INPUTS={Period:14},B.Studies.DEFAULT_OUTPUTS={Result:"auto"},B.Studies.actualOutputs=[],B.Studies.studyPanelMap={},B.Studies.colorPickerDiv=null,B.Studies.StudyDescriptor=function(t,e,i,a,r,n){this.name=t,this.type=e,this.panel=i,this.inputs=a,this.outputs=r,this.parameters=n,this.outputMap={},this.min=null,this.max=null,this.startFrom=0,K.v1h(),this.subField="Close",(r=B.Studies.studyLibrary[e])||(e="c",e+="hart",r={},("chart"==i||!i&&n&&"chart"==n.chartName)&&(this.overlay=!0)),void 0===r.inputs&&(r.inputs=B.clone(B.Studies.DEFAULT_INPUTS)),void 0===r.outputs&&(r.outputs=B.clone(B.Studies.DEFAULT_OUTPUTS)),this.study=r,this.libraryEntry=r},B.Studies.generateID=function(t,e,i,a,r){var n,s,o,l,h=K,c=B.Studies.studyLibrary[e];if(c&&c.customRemoval)return r||e;if(h.b90(0),n=h.G90("",r||e,""),h.J1h(),!B.isEmpty(i)){for(var u in n+=" (",s=!1,i)"id"!=u&&"display"!=u&&"Shading"!=u&&"field"!=(o=i[u])&&(o=o.toString(),void 0!==B.Studies.prettify[o]&&(o=B.Studies.prettify[o]),s?o&&(n+=","):s=!0,n+=o);n+=")"}if(a&&0===a.indexOf(n))return a;if(t.layout.studies&&t.layout.studies[n])for(var p=2;p<50;p++)if(h.b90(0),l=h.G90(n,"-",p),!t.layout.studies[l]){n=l;break}return n},B.Studies.DialogHelper=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S=K,k=this.stx=t.stx,x=this.sd=t.sd;for(v in this.name=x?x.type:t.name,this.inputs=[],this.outputs=[],this.parameters=[],void 0===(e=this.libraryEntry=x?x.study:B.Studies.studyLibrary[t.name]).inputs&&(e.inputs=B.clone(B.Studies.DEFAULT_INPUTS)),void 0===e.outputs&&(e.outputs=B.clone(B.Studies.DEFAULT_OUTPUTS)),a=(i=x&&k.panels[x.panel]?k.panels[x.panel]:{chart:k.chart}).chart,this.title=k.translateIf(e.name),this.attributes=e.attributes,this.attributes||(this.attributes={}),e.inputs)if(r={},this.inputs.push(r),r.name=v,r.heading=k.translateIf(v),n=e.inputs[v],x&&x.inputs&&void 0!==x.inputs[v]&&null!==x.inputs[v]?r.value=x.inputs[v]:r.value=e.inputs[v],r.defaultInput=e.inputs[v],this.attributes[v]||(this.attributes[v]=B.Studies.inputAttributeDefaultGenerator(r.defaultInput)),n.constructor==Number)r.type="number";else if(n.constructor==String)if(s=B.Studies.movingAverageHelper(k,r.defaultInput))r.type="select",r.defaultInput=s,s=(s=B.Studies.movingAverageHelper(k,r.value))||r.value,r.value=s,r.options=B.Studies.movingAverageHelper(k,"options");else if("field"==n){r.type="select",r.options={};t:for(var C in a.dataSet[a.dataSet.length-1]){if(o="L",o+="o",l="Op",-1==[l+="en","High",o+="w","Close","Adj_Close","hl/2","hlc/3","hlcc/4","ohlc/4",a.defaultPlotField].indexOf(C)){if(-1==B.Studies.actualOutputs.indexOf(C))continue;if(t.sd)for(var w in t.sd.outputMap)if(-1!=C.indexOf(w)&&-1==C.indexOf(w+"-"))continue t}r.options[C]=k.translateIf(C)}"field"==r.value&&(r.value="Close"),"field"==r.defaultInput&&(r.defaultInput="Close")}else r.type="text";else if(n.constructor==Boolean)r.type="checkbox",!0!==r.value&&"true"!=r.value&&"on"!=r.value||(r.value=!0);else if(n.constructor==Array){r.type="select",r.options={};for(var A=0;A<n.length;A++)r.options[n[A]]=k.translateIf(n[A]);r.value.constructor==Array&&(S.b90(1),r.value=r.value[S.G90("0",1)]),r.defaultInput=n[0]}for(v in e.outputs)h="a",h+="ut",h+="o",h={name:v,heading:k.translateIf(v)},k.defaultColor||k.getDefaultColor(),h.color=h.defaultOutput=e.outputs[v],x&&x.outputs&&x.outputs[v]&&(h.color=x.outputs[v]),"auto"==h.color&&(h.color=k.defaultColor),this.outputs.push(h);function T(t,e){S.v1h(),this.attributes[t]||(this.attributes[t]={}),e&&(this.attributes[t].hidden=!0)}if(u=x?x.parameters:null,S.v1h(),u){for(var M in p=k.getYAxisByName(i,x.name),d={"Panel Name":{panelName:u.panelName,value:x.overlay||x.underlay?x.panel:"Own panel"},Underlay:{underlay:u.underlayEnabled,value:x.underlay},"Y-Axis":{yaxisDisplay:u.yaxisDisplay,value:p&&p.position||(x.overlay||x.underlay?"shared":i.yAxis.position||i.chart.yAxis.position||"right"),color:p&&p.textStyle?p.textStyle:null}})for(var D in d[M])if("value"!=D&&"color"!=D){if("panel"==(g=d[M][D])){for(var F in g=[],k.panels)F!=x.name&&g.push(F);g.push("Own panel")}if(g&&g.constructor==Array){f={};for(var P=0;P<g.length;P++)f[g[P]]=k.translateIf(g[P]);c={name:D,heading:k.translateIf(M),defaultValue:g[0],value:d[M].value,options:f},void 0!==d[M].color?(c.defaultColor=k.defaultColor,c.color=d[M].color,S.e90(2),u[S.G90(D,"Value")]=c.value,S.e90(2),u[S.G90(D,"Color")]=c.color):u[D]=c.value,c.type="select",this.parameters.push(c)}else!g&&!1!==g||g.constructor!=Boolean||(c={name:D,heading:k.translateIf(M),defaultValue:!1,value:d[M].value},S.e90(2),u[S.F90(D,"Enabled")]=c.value,c.type="checkbox",this.parameters.push(c))}T.call(this,"underlayEnabled",e.underlay),T.call(this,"panelName",null===e.seriesFN),T.call(this,"yaxisDisplayValue",null===e.seriesFN||e.yAxis&&e.yAxis.noDraw)}if(e.parameters){m=2;for(var _=1;443269472!==S.G7h(_.toString(),_.toString().length,37919);_++)y=e.parameters.init,m+=2;if(-1093591015!==S.G7h(m.toString(),m.toString().length,64025)&&(y=e.parameters.init),y=e.parameters.init,y&&"studyOverZones"==e.parameters.template){if(c={name:"studyOverZones",heading:k.translateIf("Show Zones"),defaultValue:y.studyOverZonesEnabled,value:y.studyOverZonesEnabled},u&&(u.studyOverZonesEnabled||!1===u.studyOverZonesEnabled)){b=2;for(var E=1;-914777972!==S.G7h(E.toString(),E.toString().length,31143);E++)c.value=u.studyOverZonesEnabled,b+=2;2139325464!==S.n7h(b.toString(),b.toString().length,41339)&&(c.value=u.studyOverZonesEnabled)}c.type="checkbox",this.parameters.push(c),c={name:"studyOverBought",heading:k.translateIf("OverBought"),defaultValue:y.studyOverBoughtValue,value:y.studyOverBoughtValue,defaultColor:y.studyOverBoughtColor,color:y.studyOverBoughtColor},u&&u.studyOverBoughtValue&&(c.value=u.studyOverBoughtValue),u&&u.studyOverBoughtColor&&(c.color=u.studyOverBoughtColor),"auto"==c.color&&(c.color=k.defaultColor),c.type="text",this.parameters.push(c),c={name:"studyOverSold",heading:k.translateIf("OverSold"),defaultValue:y.studyOverSoldValue,value:y.studyOverSoldValue,defaultColor:y.studyOverSoldColor,color:y.studyOverSoldColor},u&&u.studyOverSoldValue&&(c.value=u.studyOverSoldValue),u&&u.studyOverSoldColor&&(c.color=u.studyOverSoldColor),"auto"==c.color&&(c.color=k.defaultColor),c.type="text",this.parameters.push(c),this.attributes.studyOverBoughtValue||(this.attributes.studyOverBoughtValue={}),this.attributes.studyOverSoldValue||(this.attributes.studyOverSoldValue={})}}},B.Studies.DialogHelper.prototype.updateStudy=function(t){var e={},i=this.sd,a=this.libraryEntry;a=a||{},i=i||a,e.inputs=B.shallowClone(i.inputs),e.outputs=B.clone(i.outputs),e.parameters=B.shallowClone(i.parameters),B.extend(e,t),e.parameters||(e.parameters={}),K.v1h(),e.inputs&&e.inputs.id?this.sd=B.Studies.replaceStudy(this.stx,e.inputs.id,this.name,e.inputs,e.outputs,e.parameters,null,i.study):this.sd=B.Studies.addStudy(this.stx,this.name,e.inputs,e.outputs,e.parameters,null,i.study)},B.Studies.prepareStudy=function(t,e,i,a){if(void 0===e.calculateFN&&(e.useRawValues=!0),a&&a.replaceID&&(B.Studies.rejiggerDerivedStudies(t,a.replaceID,i.inputs.id,i.panel),delete a.replaceID),K.J1h(),B.isEmpty(i.outputMap))for(var r in i.outputs)e.useRawValues?i.outputMap[r]=r:i.outputMap[r+" "+i.name]=r;(i.overlay||i.underlay)&&t.addOverlay(i),e.feed?t.attachTagAlongQuoteFeed(e.feed):t.currentlyImporting||(i.chart.dataSet&&t.createDataSet(),t.draw())},B.Studies.rejiggerDerivedStudies=function(t,e,i){var a,r,n,s,o,l,h;for(h in K.v1h(),a=t.layout.studies)if((r=a[h]).panel==e&&(r.panel=i),s=(n=r.inputs).id,-1!=n.id.indexOf(e)&&-1==n.id.indexOf(e+"-")){n.id.replace(e,i),o=!1,l=B.Studies.getFieldInputs(r);for(var c=0;c<l.length;c++)if(-1!=n[l[c]].indexOf(e)){for(var u in r.name,n[l[c]]=n[l[c]].replace(e,i),n.id=n.id.replace(e,i),n.display=n.display.replace(e,i),r.name=r.name.replace(e,i),r.outputMap={},r.outputs)r.study.useRawValues?r.outputMap[u]=u:r.outputMap[u+" "+r.name]=u;o=!0}o&&B.Studies.replaceStudy(t,s,r.type,r.inputs,r.outputs,r.parameters)}},B.Studies.removeStudySymbols=function(t,e){if(t.series)for(var i in t.series)e.deleteSeries(t.series[i],null,{action:"remove-study"});K.J1h()},B.Studies.replaceStudy=function(t,e,i,a,r,n,s,o){return n=n||{},e&&(n.replaceID=e),a.id==a.display&&delete a.display,delete a.id,e=t.layout.studies[n.replaceID],B.Studies.removeStudySymbols(e,t),K.J1h(),t.quoteDriver&&t.quoteDriver.updateSubscriptions(),B.Studies.addStudy(t,i,a,r,n,s,o)},B.Studies.addStudy=function(t,e,i,a,r,n,s){var o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P,_,E=K,O=s||B.Studies.studyLibrary[e];if(r=r||{},O){if(O.inputs){for(var L in o=B.shallowClone(O.inputs))o[L]instanceof Array&&(o[L]=o[L][0]);i=B.extend(o,i)}if(O.outputs&&(a=B.extend(B.clone(O.outputs),a)),(l=O.parameters)&&l.init&&(r=B.extend(B.shallowClone(l.init),r)),l&&!r.display){h=2;for(var N=1;-1805438381!==E.G7h(N.toString(),N.toString().length,64263);N++)r.display=l.display,h+=2;163406101!==E.n7h(h.toString(),h.toString().length,11349)&&(r.display=l.display)}}if(i=i||B.clone(B.Studies.DEFAULT_INPUTS),a=a||B.clone(B.Studies.DEFAULT_OUTPUTS),r.chartName||(r.chartName="chart"),i.Period<1&&(i.Period=1),i.id||(i.id=B.Studies.generateID(t,e,i,r.replaceID,r.display)),c=null,!(c=(O&&O.initializeFN?O:B.Studies).initializeFN(t,e,i,a,r,n,s)))return E.b90(2),void console.log(E.G90("CIQ.Studies.addStudy: initializeFN() returned null for ",e));if(s=c.study,c.chart=t.charts[r.chartName],t.layout.studies||(t.layout.studies={}),(t.layout.studies[c.inputs.id]=c).type=e,E.v1h(),c.permanent=s.permanent,c.customLegend=s.customLegend,u=t.panels[c.panel],B.Studies.prepareStudy(t,s,c,r),t.quoteDriver&&t.quoteDriver.updateSubscriptions(),t.changeOccurred("layout"),O=!1,(n=!(c.overlay||c.underlay))&&s.horizontalCrosshairFieldFN&&(u.horizontalCrosshairField=s.horizontalCrosshairFieldFN(t,c)),t.editCallback?O=!0:n?(t.callbacks.studyPanelEdit||t.callbackListeners.studyPanelEdit&&t.callbackListeners.studyPanelEdit.length)&&(O=!0):(t.callbacks.studyOverlayEdit||t.callbackListeners.studyOverlayEdit&&t.callbackListeners.studyOverlayEdit.length)&&(O=!0),O){for(var I in p=!(r.editMode=!0),c.inputs)if("id"!=I&&"display"!=I){p=!0;break}if(!p)for(var j in c.outputs){p=!0;break}p&&(O="unde",O+="f",O+="i",O+="ned",void 0!==c.study.edit?c.study.edit&&(D=t,F=c,P=i,_=a,E.J1h(),d=function(){B.clearCanvas(D.chart.tempCanvas,D),F.study.edit(F,{stx:D,inputs:P,outputs:_,parameters:r})},t.setPanelEdit(u,d),c.editFunction=d):n?t.editCallback?(v=t,S=c,k=i,x=a,d=function(){var t=v.editCallback(v,S);B.clearCanvas(v.chart.tempCanvas,v),B.Studies.studyDialog(v,e,t,{inputs:k,outputs:x,parameters:r})},"chart"!=u.name&&t.setPanelEdit(u,d)):(g=t,f=c,m=i,y=a,b=r,E.J1h(),d=function(){E.v1h(),B.clearCanvas(g.chart.tempCanvas,g),g.dispatch("studyPanelEdit",{stx:g,sd:f,inputs:m,outputs:y,parameters:b})},"chart"!=u.name&&(t.setPanelEdit(u,d),c.editFunction=d)):(C=t,A=i,T=a,M=r,d=function(t){B.clearCanvas(C.chart.tempCanvas,C),C.dispatch("studyOverlayEdit",{stx:C,sd:w,inputs:A,outputs:T,parameters:M,forceEdit:t})},(w=c).editFunction=d))}return t.draw(),c},B.Studies.quickAddStudy=B.Studies.addStudy,B.Studies.removeStudy=function(t,e){K.v1h(),e.overlay||e.underlay?(t.removeOverlay(e.name),t.draw()):(e=t.panels[e.panel])&&t.panelClose(e)},B.Studies.displayStudies=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f=t.layout.studies;if(K.J1h(),f)for(var m in i&&(B.Studies.actualOutputs=[]),(a={})[e.name]=!0,f)if(n=(r=f[m]).study){if(i){if(!r.underlay)continue}else if(r.underlay)continue;if(!(s=B.clone(n.renderer))||s instanceof Array||(s=[s]),o=t.panels[r.panel]){if(o.chart==e&&!o.hidden){for(var y in a[o.name]||(l=r.permanent||!t.manageTouchAndMouse,o.closeX?o.closeX.style.display=l?"none":"":o.close&&(o.close.style.display=l?"none":""),o.edit&&(o.edit.style.display=l?"none":""),a[o.name]=l),l=r.chart.dataSegment,r.outputMap)B.Studies.actualOutputs.push(y),B.Studies.studyPanelMap[y]=r;if(h=B.Studies.getFieldInputs(r),!(r.panel!=r.parameters.chartName||r.parameters&&r.parameters.panelName))for(var b=0;b<h.length;b++)if(r.inputs[h[b]]&&(c=B.Studies.studyPanelMap[r.inputs[h[b]]])){r.panel=c.panel;break}if(void 0===n.seriesFN){if(s){r.overlay||B.Studies.createYAxis(t,r,l,o);for(var v=0;v<s.length;v++){for(var S in u=s[v],r.outputMap)r.outputMap[S]==u.field&&(u.field=S);if(u.field){if(u.panel=r.panel,p=u.binding)for(var k in p)(d=B.Studies.determineColor(r.outputs[p[k]]))&&"auto"!=d&&(u[k]=d);u.yAxis=null,(g=B.Renderer.produce(u.type,u)).stx=t,g.attachSeries(null,u).draw()}}}else B.Studies.displaySeriesAsLine(t,r,l);o&&B.Studies.displayError(t,r)}else n.seriesFN&&o&&(n.seriesFN(t,r,l),B.Studies.displayError(t,r))}}else delete f[m]}},B.Studies.displayError=function(t,e,i){var a,r;a="un",K.v1h(),a+="def",a+="in",a+="ed",r=(i&&i.panel?i:e).panel,(a=t.panels[r].state).studyError||!e.error||"undefined"!=typeof practiceMode&&practiceMode||((i=i||{h:"center",v:"bottom"}).text=a.studyError=!0===e.error?t.translateIf("Not enough data to compute ")+t.translateIf(e.study.name):t.translateIf(e.error),t.watermark(r,i))},B.Studies.calculateMinMaxForDataPoint=function(t,e,i){for(var a,r=Number.MAX_VALUE,n=-1*Number.MAX_VALUE,s=0;s<i.length;s++)null!=(a=i[s][e])&&(isNaN(a)||(r=Math.min(a,r),n=Math.max(a,n)));return{min:r,max:n}},B.Studies.determineMinMax=function(t,e,i){},B.Studies.getYAxisParameters=function(t,e){var i,a,r={},n=t.layout.studies&&t.layout.studies[e.name];if(n){i=2;for(var s=1;-492694679!==K.n7h(s.toString(),s.toString().length,2053);s++)a=n.study,i+=2;445416952!==K.G7h(i.toString(),i.toString().length,68754)&&(a=n.study),a.yaxis||a.yAxisFN?r.noDraw=!0:(a.parameters&&a.parameters.excludeYAxis&&(r.noDraw=!0),r.ground=a.yAxis&&a.yAxis.ground,e&&(t="by",t+="pas",t+="s","bypass"!=a.range&&("0 to 100"==a.range?r.range=[0,100]:"-1 to 1"==a.range?r.range=[-1,1]:(t="0",t+=" to ma",t+="x","0 to max"==a.range?r.range=[0,Math.max(0,e.high)]:!a.centerline&&0!==a.centerline||(r.range=[Math.min(a.centerline,e.low),Math.max(a.centerline,e.high)]))),r.range&&(e.low=r.range[0],e.high=r.range[1]),n.min&&(e.min=n.min),n.max&&(e.max=n.max),n.parameters&&n.parameters.studyOverZonesEnabled&&(r.noDraw=!0)))}return r},B.Studies.doPostDrawYAxis=function(t,e){var i,a,r;for(r in t.layout.studies)i=t.layout.studies[r],(a=t.panels[i.panel])&&!a.hidden&&(t.getYAxisByName(i.panel,i.name)||a.yAxis)==e&&(a=i.study,e.name==i.name&&(a.yaxis&&a.yaxis(t,i),a.yAxisFN&&a.yAxisFN(t,i)),B.Studies.drawZones(t,i),i.error||((a=a.centerline)||0===a||null!==a&&0<e.highValue&&e.lowValue<0)&&B.Studies.drawHorizontal(t,i,null,a||0,e))},B.Studies.createYAxis=function(t,e,i,a){},B.Studies.displaySeriesAsLine=function(t,e,i){var a,r;if(i.length){a=2;for(var n=1;-1095113735!==K.n7h(n.toString(),n.toString().length,87912);n++)r=t.panels[e.panel],a+=2;if(1288591750!==K.G7h(a.toString(),a.toString().length,49917)&&(r=t.panels[e.panel]),K.v1h(),r&&!r.hidden)for(var s in e.outputMap)B.Studies.displayIndividualSeriesAsLine(t,e,r,s,i)}},B.Studies.displaySeriesAsHistogram=function(t,e,i){var a,r,n,s;if(i.length&&(s=t.panels[e.panel],s&&!s.hidden)){for(var o in a=[],e.outputMap)(n=e.outputs[e.outputMap[o]])&&(r=.3,"object"==typeof n&&(r=n.opacity,n=n.color),n={field:o,fill_color_up:n,border_color_up:n,fill_color_down:n,border_color_down:n},e.underlay&&(n.opacity_up=n.opacity_down=r||.3),a.push(n));i=e.inputs,s=t.getYAxisByName(s,e.name),s={name:e.name,type:i.HistogramType||"overlaid",panel:e.panel,yAxis:s,heightPercentage:i.HeightPercentage||(s?1:.25),widthFactor:i.WidthFactor||.5,bindToYAxis:"none"!=s.position},t.drawHistogram(s,a)}},B.Studies.displayIndividualSeriesAsLine=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d="tr";if(d+="a",d+="n",d+="sparent",u="s",u+="te",u+="p",n="au",n+="t",n+="o",s="s",s+="tr",s+="ing",i.height||(i.height=i.bottom-i.top),c=t.chart.context,p=e.outputs[e.outputMap[a]]){if(t.chart.context.save(),"string"==typeof p&&(p={color:p,width:1}),o=p.width||1,c.lineWidth=e.highlight?o+2:o,"auto"==(d=p.color)&&(d=t.defaultColor),c.strokeStyle=d,u=p.pattern,c.setLineDash(B.borderPatternToArray(c.lineWidth,u)),n=c.lineDashOffset=0,s=e.study,o=t.getYAxisByName(i,e.name)||i.yAxis,n=t.decimalPlacesFromPriceTick(o.priceTick),(e.overlay||e.underlay)&&(n=null),!o.decimalPlaces&&0!==o.decimalPlaces||(n=o.decimalPlaces),d=null,e.parameters&&(d=e.parameters.label),l="step"==(u=(u=s.parameters)||{}).plotType,e.series)for(var g in e.series)(h=e.series[g].parameters.type)&&(K.b90(3),l=K.G90("step",h));u.noLabels&&(d=!1),e.noSlopes||!1===e.noSlopes||(e.noSlopes=u.noSlopes),e.extendToEnd||!1===e.extendToEnd||(e.extendToEnd=u.extendToEnd),c=d||t.preferences.labels&&!1!==d,!1===(u=e.gaplines)&&(u="transparent"),d=e.inputs.Symbol,p=u?t.getGapColorFunction(d,a,p,u):null,t.plotDataSegmentAsLine(a,i,{yAxis:o,skipTransform:t.panels[e.panel].name!=e.chart.name,label:c,labelDecimalPlaces:n,noSlopes:e.noSlopes,step:l,extendToEndOfDataSet:e.extendToEnd,gapDisplayStyle:u},p),s.appendDisplaySeriesAsLine&&s.appendDisplaySeriesAsLine(t,e,r,a,i),t.chart.context.restore()}},B.Studies.drawHorizontal=function(t,e,i,a,r,n){var s,o;s=2;for(var l=1;-1518760286!==K.G7h(l.toString(),l.toString().length,86109);l++){if(~(o=t.panels[e.panel]))return;-n&&(n=r.textStyle),s+=2}if(952529696!==K.G7h(s.toString(),s.toString().length,78111)){if(+(o=t.panels[e.panel]))return;n=n||r.textStyle}o=t.panels[e.panel],K.J1h(),o&&(n=n||r.textStyle,(a=t.pixelFromPrice(a,o,r))>r.top&&a<r.bottom&&t.plotLine(o.left,o.right,a,a,n,"segment",t.chart.context,!1,{opacity:n&&n.opacity?n.opacity:.5}))},B.Studies.displayHistogramWithSeries=function(t,e,i){t.panels[e.panel];var a=.5;e.underlay&&(a=.3),K.J1h(),B.Studies.createHistogram(t,e,i,!1,a),B.Studies.displaySeriesAsLine(t,e,i)},B.Studies.drawZones=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S="bor";S+="der",e.parameters&&e.parameters.studyOverZonesEnabled&&(a=parseFloat(e.parameters.studyOverSoldValue),r=parseFloat(e.parameters.studyOverBoughtValue),n=e.parameters.studyOverSoldColor,s=e.parameters.studyOverBoughtColor,b=(b=e.zoneOutput)||"Result",(y=B.Studies.determineColor(e.outputs[b]))&&"auto"!=y&&!B.isTransparent(y)||(y=t.defaultColor),(n=n||y)&&"auto"!=n&&!B.isTransparent(n)||(n=t.defaultColor),(s=s||y)&&"auto"!=s&&!B.isTransparent(s)||(s=t.defaultColor),m=t.panels[e.panel],v=(o=t.getYAxisByName(m,e.name)||m.yAxis).displayBorder,!1===t.axisBorders&&(v=!1),!0===t.axisBorders&&(v=!0),0===o.width&&(v=!1),l="left"==o.position,h=o.justifyRight,c=Math.round(o.left+(l?o.width:0))+.5,u=v?3:0,d=(p=t.chart.context).fillStyle,t.chart.context.globalAlpha=.2,t.startClip(m.name,!0),p.beginPath(),g=Math.round(t.pixelFromPrice(r,m,o))+.5,p.strokeStyle=s,p.moveTo(m.left,g),p.lineTo(m.right,g),p.stroke(),p.closePath(),t.chart.context.beginPath(),f=Math.round(t.pixelFromPrice(a,m,o))+.5,p.strokeStyle=n,p.moveTo(m.left,f),p.lineTo(m.right,f),p.stroke(),p.closePath(),(S=new B.Plotter).newSeries("border","stroke",t.canvasStyle("stx_grid_border")),v&&(y="bord",y+="e",y+="r",m=l?c-u:c-.5,y=l?c+.5:c+u,S.moveTo("border",m,g),S.lineTo("border",y,g),S.moveTo("border",m,f),S.lineTo("border",y,f)),p.fillStyle=d,b={skipTransform:t.panels[e.panel].name!=e.chart.name,panelName:e.panel,band:b+" "+e.name,yAxis:o},B.preparePeakValleyFill(t,B.extend(b,{threshold:r,direction:1,color:s})),B.preparePeakValleyFill(t,B.extend(b,{threshold:a,direction:-1,color:n})),p.globalAlpha=1,e.study&&e.study.yaxis||(v&&(v="b",v+="ord",v+="er",v="b",v+="ord",v+="e",v+="r",v=Math.round(o.bottom)+.5,S.moveTo("border",c,o.top),S.lineTo("border",c,v),S.draw(t.chart.context,"border")),0!==o.width&&(S="stx_ya",S+="xis",t.canvasFont("stx_yaxis"),t.canvasColor("stx_yaxis"),p.textAlign=h?"right":"left",l?(textX=o.left+3,h&&(textX=o.left+o.width-u-3)):(textX=o.left+u+3,h&&(textX=o.left+o.width)),p.fillStyle=s,p.fillText(r,textX,g),p.fillStyle=n,p.fillText(a,textX,f),p.fillStyle=d)),t.endClip(),p.globalAlpha=1,K.v1h(),o.name==e.name&&(o.yAxisPlotter=new B.Plotter))},B.Studies.createHistogram=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k;n=t.panels[e.panel],k=(s=t.getYAxisByName(n,e.name))||n.yAxis,t.startClip(n.name),(o=t.layout.candleWidth-2)<2&&(o=1),l=t.pixelFromPrice(0,n,s),0<k.min&&(l=t.pixelFromPrice(k.min,n,s)),a&&(l=Math.floor(n.top+n.height/2)),h=t.chart.context,c=e.name+"_hist",e.outputs["Decreasing Bar"]||e.outputs["Negative Bar"]?h.globalAlpha=r||1:t.canvasColor("stx_histogram"),p=u=null,d=e.outputs;for(var x=0;x<i.length;x++)(S=i[x])&&(S.candleWidth&&(o=Math.floor(Math.max(1,S.candleWidth-2))),g=Math.floor(t.pixelFromBar(x,n.chart)-o/2),f=Math.floor(o),u=null!==u||(m=t.tickFromPixel(g,n.chart)-1)<0?p:t.pixelFromPrice(t.chart.dataSet[m][c],n,s)-l,p=t.pixelFromPrice(S[c],n,s)-l,y=B.Studies.determineColor(d["Decreasing Bar"]),b=B.Studies.determineColor(d["Increasing Bar"]),v=B.Studies.determineColor(d["Positive Bar"]),S=B.Studies.determineColor(d["Negative Bar"]),y&&u<p?h.fillStyle=y:b&&p<u?h.fillStyle=b:v&&p<0?h.fillStyle=v:S&&0<p&&(h.fillStyle=S),h.fillRect(g,l,f,Math.floor(p)));h.globalAlpha=1,t.endClip()},B.Studies.volumeChart=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S=K,k=-1*Number.MAX_VALUE;for(r in i)for(var x=0;x<i[r].length;x++)(n=i[r][x])&&k<n&&(k=n);for(r in s=t.panels[e.panel],o=Math.floor(s.yAxis.bottom)+.5,l=Math.floor(s.yAxis.top)+.5,S.b90(4),h=S.G90(o,l),c=t.layout.candleWidth,S.J1h(),u=null,e.parameters&&e.parameters.displayBorder||(a=null),p=0,a||(p=(c-t.chart.tmpWidth)/2),(d=t.chart.context).lineWidth=1,t.startClip(e.panel),i){a&&(u=a[r]),d.fillStyle=r,u&&(d.strokeStyle=u),d.beginPath(),S.b90(5),g=S.F90("0.5",o,1),f=Math.floor(t.pixelFromBar(0,s.chart));for(var C=0;C<i[r].length;C++)t.chart.dataSegment[C]&&t.chart.dataSegment[C].candleWidth?(c=t.chart.dataSegment[C].candleWidth,a||(S.e90(6),p=S.F90(4,c))):(c=t.layout.candleWidth,a||(p=(c-t.chart.tmpWidth)/2)),0===C&&(S.e90(6),m=f-=S.G90(2,c)),g=(n=i[r][C])?(S.e90(7),v=S.F90(n,h,k),y=Math.min(Math.floor(o-h+(h-v))+.5,o),S.b90(2),b=Math.floor(S.G90(m,p)),S.e90(8),v=Math.floor(S.G90(m,p,c)),b=Math.max(b,f),d.moveTo(b,o),d.lineTo(v,o),d.lineTo(v,y),d.lineTo(b,y),a?(y<g||0===C)&&d.lineTo(b,g):d.lineTo(b,o),y):o,m+=c;d.fill(),d.strokeStyle=u,a&&2<=t.layout.candleWidth&&d.stroke(),d.closePath()}t.endClip()},B.Studies.prettify={Close:"C",Open:"O",High:"H",Low:"L",simple:"ma",exponential:"ema","time series":"tsma",triangular:"tma",variable:"vma",VIDYA:"vdma",weighted:"wma","welles wilder":"smma",true:"y",false:"n"},B.Studies.prettyRE=/^.*\((.*?)\).*$/,B.Studies.prettyDisplay=function(t){var e,i=B.Studies.prettyRE.exec(t);if(!i)return t;if(e=i[1]){for(var a in B.Studies.prettify)e=e.replace(a,B.Studies.prettify[a]);t=t.replace(i[1],e)}return t},B.Studies.getFieldInputs=function(t){var e,i=[],a=t.study.inputs;for(e in a)"field"==a[e]&&i.push(e);return i},B.Studies.initializeFN=function(l,t,e,i,a,r,n){var h,s,o,c,u,p,d,g,f,m,y,b,v,S=K;if(a=a||{},(e=e||{id:t}).display||(e.display=e.id),h=new B.Studies.StudyDescriptor(e.id,t,e.id,e,i,a),e.Period&&(h.days=Math.max(1,parseInt(h.inputs.Period,10))),n?(n.inputs||(n.inputs=h.study.inputs),n.outputs||(n.outputs=h.study.outputs),h.study=n):n=h.study,n.display&&(e.display=n.display),r=r||e.id,t=m=!1,"Own panel"==a.panelName?h.underlay=h.overlay=!1:(m=h.overlay||n.overlay||e.Overlay||!!a.panelName,(t=h.underlay||n.underlay||e.Underlay||a.panelName&&a.underlayEnabled)&&(h.underlay=!0),m&&(h.overlay=!0)),(s=a.replaceID?l.layout.studies[a.replaceID]:null)&&(l.panelExists(a.replaceID)||m||t))if(m||t){if(a.replaceID!=h.inputs.id){delete l.layout.studies[a.replaceID],o=2;for(var k=1;1095893789!==S.G7h(k.toString(),k.toString().length,155);k++)l.overlays[a.replaceID],o+=2;1687024658!==S.n7h(o.toString(),o.toString().length,81086)&&l.overlays[a.replaceID],delete l.overlays[a.replaceID]}S.e90(1),c=S.F90("2",1);for(var x=1;-787341333!==S.G7h(x.toString(),x.toString().length,91925);x++)B.deleteRHS(B.Studies.studyPanelMap,s),c+=2;-1003903135!==S.n7h(c.toString(),c.toString().length,60260)&&B.deleteRHS(B.Studies.studyPanelMap,s),l.panelExists(a.replaceID)&&l.panelClose(l.panels[a.replaceID]),l.panels[a.panelName]?h.panel=a.panelName:h.panel=A(e,a,l.panels)}else{for(var C in h.panel=r,u={},l.panels)C==a.replaceID?((p=l.panels[C]).name=r,p.yAxis&&(p.yAxis.name=r),p.display=e.display,u[r]=p,a.replaceID!=r&&B.deleteRHS(B.Studies.studyPanelMap,s),l.moveMarkers&&l.moveMarkers(a.replaceID,r)):u[C]=l.panels[C];l.panels=u,a.replaceID!=h.inputs.id&&delete l.layout.studies[a.replaceID]}else l.panelExists(r)?(h.panel=r,m||t||(l.panels[r].yAxis.name=h.name),h.underlay||h.panel!=l.chart.name||(m=h.overlay=!0)):m||t?h.panel=A(e,a,l.panels):(g=n.panelHeight||null,(f=new B.ChartEngine.YAxis(n.yAxis)).name=h.name,s&&(a.replaceID!=h.inputs.id?B.Studies.removeStudy(l,s):delete l.overlays[a.replaceID]),l.createPanel(e.display,e.id,g,a.chartName,f));if(d=l.panels[h.panel],i=!0,s&&(g=l.panels[s.panel],f=l.getYAxisByName(g,s.name),g&&f&&(f.name=h.name,(i=g!=d||f.position!=a.yaxisDisplayValue)?l.deleteYAxisIfUnused(g,f):a.yaxisDisplayColor&&"auto"!=a.yaxisDisplayColor?f.textStyle=B.colorToHex(a.yaxisDisplayColor):delete f.textStyle)),i)if((i=n?B.clone(n.yAxis):null)?B.extend(i,a.yAxis):i=a.yAxis,m||t)(i||a.yaxisDisplayValue)&&"shared"!=a.yaxisDisplayValue&&(m="a",m+="ut",m+="o",t={name:h.name,position:a.yaxisDisplayValue},i&&(t=B.extend(i,t)),"none"==(m=new B.ChartEngine.YAxis(t)).position&&(m.width=0),t=l.addYAxis(d,m),"none"==m.position&&(t.width=0),t.displayGridLines=!1,a.yaxisDisplayColor&&"auto"!=a.yaxisDisplayColor&&(t.textStyle=B.colorToHex(a.yaxisDisplayColor)));else if(i?((i=B.extend(d.yAxis,i)).ground&&(i.initialMarginBottom=0),(i.ground||i.initialMarginTop||0===i.initialMarginTop||i.initialMarginBottom||0===i.initialMarginBottom)&&l.calculateYAxisMargins(i)):(b=n?n.parameters:null)&&(b.zoom||0===b.zoom)?d.yAxis.zoom=b.zoom:d.yAxis.zoom||(d.yAxis.zoom=10),a.yaxisDisplayValue&&"shared"!=a.yaxisDisplayValue){d.yAxis.position=a.yaxisDisplayValue,S.e90(4),y=S.F90("1882368682",0),S.b90(9),b=S.G90(2147483647,"256365503"),v=2;for(var w=1;S.n7h(w.toString(),w.toString().length,58151)!==y;w++)d.yAxis.width="none"==a.yaxisDisplayValue?0:B.ChartEngine.YAxis.prototype.width,d.yAxis.justifyRight=null,a.yaxisDisplayColor&&"auto"!=a.yaxisDisplayColor?d.yAxis.textStyle=B.colorToHex(a.yaxisDisplayColor):delete d.yAxis.textStyle,v+=2;S.n7h(v.toString(),v.toString().length,17164)!==b&&(d.yAxis.width="none"!==a.yaxisDisplayValue?8:B.ChartEngine.YAxis.prototype.width,d.yAxis.justifyRight=1,+a.yaxisDisplayColor&&"none"===a.yaxisDisplayColor?d.yAxis.textStyle:d.yAxis.textStyle=B.colorToHex(a.yaxisDisplayColor)),l.calculateYAxisPositions()}else i&&i.position&&l.calculateYAxisPositions();function A(t,e){for(var i,a,r=null,n=B.Studies.getFieldInputs(h),s=(l.chart.highLowBars||l.highLowBars[l.layout.chartType],0);s<n.length;s++)if(i=B.Studies.studyPanelMap[t[n[s]]]){r=i.panel;break}a=2;for(var o=1;-569149630!==S.G7h(o.toString(),o.toString().length,7689);o++)-r&&(r=e.chartName),a+=2;return-1358030835!==S.n7h(a.toString(),a.toString().length,9134)&&+r&&(r=e.chartName),r=r||e.chartName}return!n.yAxis&&l.panels[e.id]&&(l.panels[e.id].yAxis.displayGridLines=l.displayGridLinesInStudies),h},B.Studies.overZones=B.Studies.drawZones,B.Studies.displayPSAR2=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d=K,g=t.panels[e.panel],f=t.getYAxisByName(g,e.name),m=g.name==g.chart.name&&!f;for(p in t.startClip(g.name),d.v1h(),a=t.chart.context,r="squarewave"==e.inputs["Plot Type"],e.outputs){n=p+" "+e.name,a.beginPath(),s=t.layout.candleWidth,o=Math.max(3,Math.floor(t.chart.tmpWidth/2));for(var y=0;y<i.length;y++)(c=i[y])&&(c[n]||0===c[n])&&(c.candleWidth&&(s=c.candleWidth),m&&c.transform&&(c=c.transform),l=t.pixelFromBar(y,g.chart),r&&(d.e90(6),l-=d.F90(2,s)),h=t.pixelFromTransformedValue(c[n],g,f),0!==y&&i[y-1]&&(i[y-1][n]||0===i[y-1][n])||a.moveTo(l,h),r?(a.lineTo(l,h),d.b90(2),a.lineTo(d.F90(l,s),h),i[y+1]&&(d.e90(2),c=i[d.G90(y,1)],m&&c.transform&&(c=c.transform),c[n]||0===c[n]||(d.e90(2),a.lineTo(d.G90(l,s),t.pixelFromTransformedValue(c[e.referenceOutput+" "+e.name],t.panels[e.panel],f))))):(d.b90(10),a.moveTo(d.F90(o,"2",0,l),h),d.e90(11),a.lineTo(d.F90(o,l,2),h)));a.lineWidth=1,e.highlight&&(a.lineWidth=3),"auto"==(u=B.Studies.determineColor(e.outputs[p]))&&(u=t.defaultColor),a.strokeStyle=u,a.stroke(),a.closePath(),a.lineWidth=1}t.endClip()},B.Studies.initializeStochastics=function(t,e,i,a){return i.display=t.translateIf("Stoch")+" ("+i.Period+")",B.Studies.initializeFN.apply(null,arguments)},B.Studies.calculateVolume=function(t,e){var i,a,r,n,s;K.J1h(),r="Down ",r+="Volum",r+="e",n=e.outputs,i=B.Studies.determineColor(n["Up Volume"]),a=B.Studies.determineColor(n["Down Volume"]),"vol undr"!=e.type?(t.setStyle("stx_volume_up","color",i),t.setStyle("stx_volume_down","color",a)):t&&t.chart.dataSet&&(r=t.layout,n=e.parameters.removeStudy,s=r.volumeUnderlay,r.volumeUnderlay=!n,s!=r.volumeUnderlay&&t.changeOccurred("layout"),n?B.Studies.removeStudy(t,e):(e="col",e+="or",e="co",e+="lo",e+="r",e="stx_v",e+="olum",e+="e_underlay_",e+="up",t.setStyle("stx_volume_underlay_up","color",i),t.setStyle("stx_volume_underlay_down","color",a)))},B.Studies.MA=function(t,e,i,a,r,n,s,o){r=new B.Studies.StudyDescriptor(r+" "+s.name,"ma",s.panel);r.chart=s.chart,r.days=parseInt(e,10),r.startFrom=s.startFrom,o&&(r.subField=o),K.v1h(),r.inputs={},t&&(r.inputs.Type=t),i&&(r.inputs.Field=i),a&&(r.inputs.Offset=parseInt(a,10)),B.Studies.calculateMovingAverage(n,r)},B.Studies.movingAverage={conversions:{ma:"simple",sma:"simple",ema:"exponential",tsma:"time series",tma:"triangular",vma:"variable",vdma:"vidya",wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential","time series":"Time Series",triangular:"Triangular",variable:"Variable",vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:"Exponential",exponential:"Exponential",tsma:"TimeSeries","time series":"TimeSeries",tma:"Triangular",triangular:"Triangular",vma:"Variable",variable:"Variable",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:"Exponential","welles wilder":"Exponential"}},B.Studies.movingAverageHelper=function(t,e){var i,a;if(K.v1h(),"options"!=e)return B.Studies.movingAverage.conversions[e];for(a in i={},B.Studies.movingAverage.translations)i[a]=t.translateIf(B.Studies.movingAverage.translations[a]);return i},B.Studies.volUnderlay=function(t,e,i){K.J1h(),B.Studies.createVolumeChart(t,e,i)},B.Studies.createVolumeChart=function(t,e,i){var a,r,n,s,o,l,h,c,u;l=e.panel,u=e.inputs,o=e.underlay,r=e.overlay,a=o||r,r=o?"stx_volume_underlay":"stx_volume",n=[{field:"Volume",fill_color_up:t.canvasStyle(r+"_up").color,border_color_up:t.canvasStyle(r+"_up").borderLeftColor,opacity_up:t.canvasStyle(r+"_up").opacity,fill_color_down:t.canvasStyle(r+"_down").color,border_color_down:t.canvasStyle(r+"_down").borderLeftColor,opacity_down:t.canvasStyle(r+"_down").opacity}],s=n[0],o||"rgb(184, 44, 12)"!==s.border_color_down||(s.border_color_down="#000000",s.border_color_up="#000000"),h={name:"Volume",panel:l,yAxis:l=t.getYAxisByName(l,e.name),heightPercentage:u.HeightPercentage||(a?.25:null),widthFactor:1,bindToYAxis:!l||"none"!=l.position},B.extend(h,e.study.parameters),B.extend(h,e.parameters),t.colorByCandleDirection&&(s.color_function=function(t){var e=t.Open,t=t.Close;return{fill_color:t<e?s.fill_color_down:s.fill_color_up,border_color:t<e?s.border_color_down:s.border_color_up,opacity:t<e?s.opacity_down:s.opacity_up}}),c=2;for(var p=1;2063831638!==K.G7h(p.toString(),p.toString().length,53954);p++)e.outputMap.Volume=1,t.drawHistogram(h,n),c+=2;K.J1h(),-1835804518!==K.G7h(c.toString(),c.toString().length,39180)&&(e.outputMap.Volume=null,t.drawHistogram(h,n))},B.Studies.calculateRSI=function(t,e){var i,a,r,n,s,o,l,h=K;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(var c,u,p=e.startFrom;p<i.length;p++)o="R",o+="S",o+="I ",p&&(a=i[p],h.e90(4),r=i[h.G90(p,1)],n=a.Close-r.Close,s=Math.min(p,e.days),o=(o=r["_avgG "+e.name])||0,h.e90(6),o-=h.G90(s,o),l=(l=r["_avgL "+e.name])||0,h.e90(6),l-=h.F90(s,l),0<n?(h.b90(6),o+=h.G90(s,n)):(h.e90(6),l-=h.F90(s,n)),p>=e.days&&(a["RSI "+e.name]=(c=o,0!==(u=l)?(h.e90(6),c=h.G90(u,c),h.e90(12),h.F90(c,100,100,"1")):100)),a["_avgG "+e.name]=o,a["_avgL "+e.name]=l);e.zoneOutput="RSI"}},B.Studies.calculateMACD=function(t,e){var i,a,r,n,s,o,l,h,c=K,u="Si";if(u+="g",u+="na",u+="l",o="_M",o+="ACD1",r="Mo",r+="ving Average T",r+="yp",r+="e",i=e.chart.scrubbed,u=e.inputs,a=e.name,e.macd1Days||(e.macd1Days=parseFloat(u["Fast MA Period"])),e.macd2Days||(e.macd2Days=parseFloat(u["Slow MA Period"])),e.signalDays||(e.signalDays=parseFloat(u["Signal Period"])),e.days||(e.days=Math.max(e.macd1Days,e.macd2Days,e.signalDays)),i.length<e.days+1)e.error=!0;else{for((o=e.inputs.Field)&&"field"!=o||(o="Close"),r=(r=u["Moving Average Type"])||"exponential",B.Studies.MA(r,e.macd1Days,o,0,"_MACD1",t,e),B.Studies.MA(r,e.macd2Days,o,0,"_MACD2",t,e),n=o=Math.max(e.startFrom,e.days-1);n<i.length;n++)s=i[n],c.e90(2),s[c.G90("MACD ",a)]=s["_MACD1 "+a]-s["_MACD2 "+a];for(u=(u=u["Signal MA Type"])||"exponential",B.Studies.MA(u,e.signalDays,"MACD "+a,0,"Signal",t,e),c.e90(2),l=c.G90(a,"_hist"),n=o;n<i.length;n++)s=i[n],c.e90(2),!(h=s[c.G90("Signal ",a)])&&0!==h||(s[l]=s["MACD "+a]-s["Signal "+a])}},B.Studies.calculateStandardDeviation=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m=K,y="C";if(y+="l",y+="o",y+="se",(i=e.chart.scrubbed).length<e.days+1){e.error=!0,0;y=1;return 1336623727!==m.n7h(y.toString(),y.toString().length,82433)?void 0:void m.n7h(2..toString(),2..toString().length,6604)}a=e.inputs.Field,r=2;for(var b,v=1;-921338497!==m.G7h(v.toString(),v.toString().length,81012);v++)~a&&"field"!==a&&(a="field"),r+=2;for(b in-101110725!==m.n7h(r.toString(),r.toString().length,21121)&&(n="fie",n+="ld",!-a&&"field"!=a||(a="field")),a&&"field"!=a||(a="Close"),n=(n=e.inputs["Moving Average Type"])||e.inputs.Type,B.Studies.MA(n,e.days,a,e.inputs.Offset,"_MA",t,e),o=s=0,h=Number(e.inputs["Standard Deviations"]),m.J1h(),h<0&&(h=2),c=e.name,e.outputs)m.b90(0),c=m.G90(b," ",c);for(u=e.startFrom-1,d=0;0<=u&&d<e.days;u--,d++)(p=i[u][a])&&"object"==typeof p&&(p=p[e.subField]),isNaN(p)&&(m.e90(13),p=m.G90(0,"0")),s+=Math.pow(p,2),o+=p;for(u=e.startFrom;u<i.length;u++)f="obj",f+="e",f+="ct",(p=(g=i[u])[a])&&"object"==typeof p&&(p=p[e.subField]),isNaN(p)&&(p=0),s+=Math.pow(p,2),o+=p,u<e.days-1||(u>=e.days&&((f=i[u-e.days][a])&&"object"==typeof f&&(f=f[e.subField]),isNaN(f)&&(f=0),m.b90(14),s-=Math.pow(f,m.G90("2",648243552)),o-=f),l=g["_MA "+e.name],g[c]=Math.sqrt((s+e.days*Math.pow(l,2)-2*l*o)/e.days)*h)},B.Studies.calculateMovingAverage=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g;if(i="fi",K.v1h(),i+="eld",i="sm",i+="a",e.chart.scrubbed){if("ma"!=(i=e.inputs.Type)&&"sma"!=i&&i||(i="simple"),i in(g=B.Studies.movingAverage.typeMap))return B.Studies["calculateMovingAverage"+g[i]](t,e);if("simple"===i){for(var f in a=e.chart.scrubbed,r=0,n=[],s=e.name,e.outputs)K.e90(0),s=K.F90(f," ",s);for((o=e.inputs.Field)&&"field"!=o||(o="Close"),l=parseInt(e.inputs.Offset,10),isNaN(l)&&(l=0),u=e.startFrom,p=l,h=e.startFrom-1;0<=h;h--)if((c=a[h][o])&&"object"==typeof c&&(c=c[e.subField]),c||0===c)if(0<p)p--,u=h;else{if(n.length==e.days-1)break;r+=c,n.unshift(c)}for(n.length<e.days-1&&(n=[],u=0),h=u;h<a.length;h++)(c=a[h][o])&&"object"==typeof c&&(c=c[e.subField]),d=0<=h+l&&h+l<a.length?a[h+l]:null,c||0===c?(r+=c,n.push(c),n.length>e.days&&(r-=n.shift()),d&&(d[s]=n.length==e.days?r/e.days:null)):d&&(d[s]=null)}}},B.Studies.calculateMovingAverageExponential=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b=K;for(m in y=e.inputs.Type,i=e.chart.scrubbed,n=r=a=0,s=2/(e.days+1),"welles wilder"!==y&&"smma"!==y||(s=1/e.days),o=null,l=e.name,e.outputs)b.b90(0),l=b.G90(m," ",l);for((h=e.inputs.Field)&&"field"!=h||(h="Close"),c=parseInt(e.inputs.Offset,10),isNaN(c)&&(c=0),d=e.startFrom,g=c,u=e.startFrom-1;0<=u;u--)if((p=i[u][l])||0===p){if(null===o&&(o=p),n=e.days,g<=0)break;g--,d=u}for(null===o&&(o=d=0),u=d;u<i.length;u++)(p=i[u][h])&&"object"==typeof p&&(p=p[e.subField]),f=0<=u+c&&u+c<i.length?i[u+c]:null,p||0===p?(n==e.days-1?(r=(a+=p)/e.days,f&&(f[l]=r)):n<e.days-1?(a+=p,b.b90(15),r=b.G90(a,n,1),f&&(f[l]=null)):0===n?(r=a+=p,f&&(f[l]=null)):!o&&0!==o||(b.e90(16),r=b.F90(s,p,o,o),f&&(f[l]=r)),o=r,n++):f&&(f[l]=null)},B.Studies.calculateMovingAverageVariable=function(t,e){var i,a,r,n,s,o,l,h,c,u=K,p=(e.inputs.Type,e.chart.scrubbed),d=2/(e.days+1),g=null,f=e.name;for(c in e.outputs)u.e90(0),f=u.G90(c," ",f);for((i=e.inputs.Field)&&"field"!=i||(i="Close"),e.cmo=new B.Studies.StudyDescriptor(e.name,"cmo",e.panel),e.cmo.chart=e.chart,e.cmo.days=9,e.cmo.inputs={Field:i},e.cmo.startFrom=e.startFrom,e.cmo.outputs={_CMO:null},B.Studies.calculateChandeMomentum(t,e.cmo),a=parseInt(e.inputs.Offset,10),isNaN(a)&&(a=0),s=e.startFrom,o=a,r=e.startFrom-1;0<=r;r--)if((n=p[r][f])||0===n){if(null===g&&(g=n),o<=0)break;o--,s=r}for(null===g&&(u.e90(9),g=s=u.G90(2147483647,"0")),r=s;r<p.length;r++)l="_",l+="C",l+="MO",l+=" ",(n=(h=p[r])[i])&&"object"==typeof n&&(n=n[e.subField]),l=0<=r+a&&r+a<p.length?p[r+a]:null,n||0===n?!h["_CMO "+e.name]&&0!==h["_CMO "+e.name]||(h=Math.abs(h["_CMO "+e.name])/100,u.b90(17),g=h=u.G90(d,h,n,h,g,d,1),r<e.days&&(h=null),l&&(l[f]=h)):l&&(l[f]=null)},B.Studies.calculateMovingAverageVIDYA=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f=K;for(g in e.inputs.Type,i=e.chart.scrubbed,a=2/(e.days+1),r=null,n=e.name,e.outputs)f.e90(0),n=f.G90(g," ",n);for((s=e.inputs.Field)&&"field"!=s||(s="Close"),e.std=new B.Studies.StudyDescriptor(e.name,"sdev",e.panel),e.std.chart=e.chart,e.std.days=5,e.std.startFrom=e.startFrom,e.std.inputs={Field:s,"Standard Deviations":1,Type:"ma"},e.std.outputs={_STD:null},B.Studies.calculateStandardDeviation(t,e.std),f.b90(9),B.Studies.MA("ma",f.G90(2147483647,"20"),"_STD "+e.name,0,"_MASTD",t,e),o=parseInt(e.inputs.Offset,10),isNaN(o)&&(o=0),c=e.startFrom,u=o,f.J1h(),l=e.startFrom-1;0<=l;l--)if((h=i[l][n])||0===h){if(null===r&&(r=h),u<=0)break;u--,c=l}for(null===r&&(r=c=0),l=c;l<i.length;l++)p="_MAS",p+="T",p+="D",p+=" ",d="_",d+="S",d+="TD",d+=" ",p="_",p+="M",p+="ASTD",p+=" ",(h=(d=i[l])[s])&&"object"==typeof h&&(h=h[e.subField]),p=0<=l+o&&l+o<i.length?i[l+o]:null,h||0===h?!d["_MASTD "+e.name]&&0!==d["_MASTD "+e.name]||(d=d["_STD "+e.name]/d["_MASTD "+e.name],f.e90(17),r=d=f.G90(a,d,h,d,r,a,1),l<e.days&&(d=null),p&&(p[n]=d)):p&&(p[n]=null)},B.Studies.calculateMovingAverageTimeSeries=function(t,e){var i,a,r,n,s,o,l,h=K;for(l in e.ma=new B.Studies.StudyDescriptor(e.name,"ma",e.panel),e.ma.chart=e.chart,e.ma.days=e.days,e.ma.startFrom=e.startFrom,e.ma.inputs=e.inputs,B.Studies.calculateLinearRegressionIndicator(t,e.ma),i=e.name,e.outputs)h.e90(0),i=h.F90(l," ",i);a=parseInt(e.inputs.Offset,10),isNaN(a)&&(a=0),r=e.chart.scrubbed,n=a,h.J1h();for(var c=e.startFrom-1;0<=c;c--)if((s=r[c][i])||0===s){if(!(0<n))break;n--}for(c++;c<r.length;c++)o=r[c],0<=c+a&&c+a<r.length&&(h.b90(2),r[h.F90(c,a)][i]=o["Forecast "+e.name])},B.Studies.calculateMovingAverageTriangular=function(t,e){var i,a,r,n,s,o,l,h=K,c="Cl";for(l in c+="os",c+="e",i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),c=Math.ceil(e.days/2),B.Studies.MA("simple",c,a,0,"TRI1",t,e),e.days%2==0&&c++,B.Studies.MA("simple",c,"TRI1 "+e.name,0,"TRI2",t,e),r=e.name,e.outputs)h.b90(0),r=h.F90(l," ",r);n=parseInt(e.inputs.Offset,10),isNaN(n)&&(n=0),s=n;for(var u=e.startFrom-1;0<=u;u--)if((o=i[u][r])||0===o){if(!(0<s))break;s--}for(u++;u<i.length;u++)0<=u+n&&u+n<i.length&&(h.e90(2),i[h.G90(u,n)][r]=i[u]["TRI2 "+e.name])},B.Studies.calculateMovingAverageWeighted=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m=K;for(f in i=e.chart.scrubbed,r=a=0,(n=e.inputs.Field)&&"field"!=n||(n="Close"),s=e.days*(e.days+1)/2,o=e.name,e.outputs)m.e90(0),o=m.F90(f," ",o);for(l=parseInt(e.inputs.Offset,10),isNaN(l)&&(l=0),u=[],p=e.startFrom,d=l,h=e.startFrom-1;0<=h;h--)if((c=i[h][n])&&"object"==typeof c&&(c=c[e.subField]),c||0===c)if(0<d)d--,p=h;else{if(u.length==e.days-1)break;u.unshift(c)}for(u.length<e.days-1&&(u=[],m.b90(13),p=m.F90(0,"0")),h=0;h<u.length;h++)a+=(h+1)*u[h],r+=u[h];for(h=p;h<i.length;h++)(c=i[h][n])&&"object"==typeof c&&(c=c[e.subField]),g=0<=h+l&&h+l<i.length?i[h+l]:null,c||0===c?(u.push(c),u.length>e.days&&(a-=r,r-=u.shift()),a+=u.length*c,r+=c,h<e.days-1?g&&(g[o]=null):g&&(m.b90(6),g[o]=m.G90(s,a))):g&&(g[o]=null)},B.Studies.calculateKlinger=function(t,e){var i,a,r,n,s,o,l,h,c,u,p;if(i=e.chart.scrubbed,a=Number(e.inputs["Short Cycle"]),p=Number(e.inputs["Long Cycle"]),i.length<Math.max(a,p)+1)e.error=!0;else{for(r=e.name+"_hist",n="Klinger "+e.name,s="KlingerSignal "+e.name,o="_SV "+e.name,l="_EMA-S "+e.name,h="_EMA-L "+e.name,c=Math.max(1,e.startFrom);c<i.length;c++)u="h",u+="lc/",u+="3",u=i[c].Volume,i[c]["hlc/3"]<i[c-1]["hlc/3"]&&(u*=-1),i[c][o]=u;for(B.Studies.MA("exponential",a,o,0,"_EMA-S",t,e),B.Studies.MA("exponential",p,o,0,"_EMA-L",t,e),c=Math.max(p,e.startFrom);c<i.length;c++)i[c][n]=i[c][l]-i[c][h];for(B.Studies.MA("exponential",Number(e.inputs["Signal Periods"]),n,0,"KlingerSignal",t,e),c=e.startFrom;c<i.length;c++)i[c][r]=i[c][n]-i[c][s]}},B.Studies.calculateStochastics=function(t,e){var i,a,s,r,n;if(n="%",n+="D",r="%",r+="K ",n="%",K.v1h(),n+="K",r="Sl",r+="o",r+="w",n="%D Peri",n+="ods",e.smooth||(e.smooth=e.inputs.Smooth),(i=e.inputs.Field)&&"field"!=i||(i="Close"),a=(a=e.inputs["%K Periods"])||e.days,(s=e.chart.scrubbed).length<Math.max(a,e.days)+1)e.error=!0;else{(r=e.inputs["%K Smoothing Periods"])?e.smooth=!0:e.smooth&&(r=3),n=(n=e.inputs["%D Periods"])||3,e.outputMap={},e.outputMap["%K "+e.name]="Fast",e.outputMap["%D "+e.name]="Slow";for(var o=Math.max(a,e.startFrom);o<s.length;o++)s[o][e.name]=function(t,e,i){var a,r;K.e90(18),i=K.G90(1,i,t),a=-1*Number.MAX_VALUE,r=Number.MAX_VALUE;for(var n=i;n<=t;n++)r=Math.min(r,s[n].Low),a=Math.max(a,s[n].High);return a==r?0:(s[t][e]-r)/(a-r)*100}(o,i,a);B.Studies.MA("simple",e.smooth?r:1,e.name,0,"%K",t,e),B.Studies.MA("simple",n,"%K "+e.name,0,"%D",t,e)}},B.Studies.calculateStudyATR=function(t,e){var i,a,r,n,s,o,l,h=K;if(h.J1h(),i=e.chart.scrubbed,a=e.days,i.length<a+1)e.error=!0;else{r=0,n=e.name;for(var c=Math.max(e.startFrom,1);c<i.length;c++)s=i[c],h.e90(4),o=i[h.F90(c,1)],l=s.trueRange,o["Sum True Range "+n]&&(h.e90(2),r=o[h.G90("Sum True Range ",n)]),r+=l,a<c&&(h.b90(4),r-=i[h.F90(c,a)][h.F90("True Range ",n,h.b90(2))]),h.e90(2),s[h.F90("True Range ",n)]=l,h.e90(2),s[h.F90("Sum True Range ",n)]=r,c==a?(h.b90(2),s[h.F90("ATR ",n)]=h.G90(a,r,h.b90(6))):a<c&&(h.b90(2),s[h.G90("ATR ",n)]=(o["ATR "+n]*(a-1)+l)/a)}},B.Studies.calculatePSAR=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=K;i=e.chart.scrubbed,a=0,r=null,n=2;for(var g=1;-1565307594!==d.G7h(g.toString(),g.toString().length,26057);g++)s=!0,o=7,l=parseFloat(e.inputs[""]),n+=2;function f(){d.e90(9),a=d.F90(2147483647,"0"),r=null,s=!s}-378086544!==d.n7h(n.toString(),n.toString().length,96670)&&(s=!1,o=0,l=parseFloat(e.inputs["Minimum AF"])),h=parseFloat(e.inputs["Maximum AF"]),0<e.startFrom&&(o=i[e.startFrom-1]["Result "+e.name],(p=i[e.startFrom-1]["_state "+e.name])&&3==p.length&&(a=p[0],r=p[1],s=p[2]));for(var m=e.startFrom-1;m<i.length-1;m++)m<0||(u=o,s?((!r||r<i[m].High)&&(r=i[m].High,d.b90(2),a=Math.min(d.G90(a,l),h)),d.e90(19),o=d.F90(a,u,u,r),c=Math.min(i[Math.max(1,m)-1].Low,i[m].Low),o>i[m+1].Low?(o=r,f()):c<o&&(o=c)):((!r||r>i[m].Low)&&(r=i[m].Low,d.e90(2),a=Math.min(d.G90(a,l),h)),d.b90(19),o=d.F90(a,u,u,r),u=Math.max(i[Math.max(1,m)-1].High,i[m].High),o<i[m+1].High?(o=r,f()):o<u&&(o=u)),d.e90(2),i[d.F90(m,1)]["Result "+e.name]=o,d.b90(2),i[d.F90(m,1)]["_state "+e.name]=[a,r,s])},B.Studies.calculateTRIX=function(t,e){var i,a,r,n,s,o=K;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{o.v1h(),a=e.name,o.e90(2),r=["Close",o.F90("_MA1 ",a),o.F90("_MA2 ",a),o.G90("_MA3 ",a)];for(var l=0;l<r.length-1;l++)B.Studies.MA("exponential",e.days,r[l],0,"_MA"+(l+1).toString(),t,e);n=r[3];for(var h=Math.max(1,e.startFrom);h<i.length;h++)o.b90(20),(s=i[o.G90("1",h)][n])&&(o.b90(2),i[h][o.G90("Result ",a)]=100*(i[h][n]/s-1))}},B.Studies.calculateIntradayMomentum=function(t,e){var i,a,r,n,s=K,o=e.chart.scrubbed,l=e.days;if(o.length<l+1)e.error=!0;else{i=0,s.e90(9),a=s.F90(2147483647,"2");for(var h=1;-1381012018!==s.n7h(h.toString(),h.toString().length,44033);h++)r=7,a+=2;55848565!==s.n7h(a.toString(),a.toString().length,29088)&&(r=0),1<e.startFrom&&(i=o[e.startFrom-1]["_totUp "+e.name],r=o[e.startFrom-1]["_totDn "+e.name]);for(var c=e.startFrom;c<o.length;c++)0<(n=o[c].Close-o[c].Open)?i+=n:r-=n,l<=c&&(0<(n=o[c-l].Close-o[c-l].Open)?i-=n:r+=n),s.b90(21),o[c]["Result "+e.name]=s.F90(i,100,i,r),o[c]["_totUp "+e.name]=i,o[c]["_totDn "+e.name]=r}},B.Studies.calculateQStick=function(t,e){var i=e.chart.scrubbed;if(i.length<e.days+1)e.error=!0;else{for(var a=e.startFrom;a<i.length;a++)i[a]["_Close-Open "+e.name]=i[a].Close-i[a].Open;B.Studies.MA(e.inputs["Moving Average Type"],e.days,"_Close-Open "+e.name,0,"Result",t,e)}},B.Studies.calculateSchaff=function(t,o){var l,e,i,a,r,n,s,h,c,u;function p(t,e,i){for(var a,r=null,n=null,s=e-t+1;s<=e;s++)(a=l[s][i+" "+o.name])&&(r=null===r?a:Math.min(r,a),n=null===n?a:Math.max(n,a));return[r,n]}if(n="Mo",n+="ving Average",n+=" T",n+="ype",n="f",n+="ield",l=o.chart.scrubbed,e=o.days,i=Number(o.inputs["Short Cycle"]),a=Number(o.inputs["Long Cycle"]),l.length<Math.max(e,i,a)+1){r=2;for(var d=1;523575266!==K.G7h(d.toString(),d.toString().length,47332);d++)o.error=!1,r+=2;-1796310787!==K.G7h(r.toString(),r.toString().length,39139)&&(o.error=!0)}else{(n=o.inputs.Field)&&"field"!=n||(n="Close"),B.Studies.MA(o.inputs["Moving Average Type"],i,n,0,"_MACD1",t,o),B.Studies.MA(o.inputs["Moving Average Type"],a,n,0,"_MACD2",t,o),h=s=0;for(var g=o.startFrom;g<l.length;g++)u="_P",u+="F ",c="_PF",c+=" ",u="_",u+="P",u+="F",u+=" ",c="_",c+="M",c+="ACD",u="Re",u+="sult",u+=" ",(c=l[g])["Result "+o.name]=h,g<a-1||(c["_MACD "+o.name]=c["_MACD1 "+o.name]-c["_MACD2 "+o.name],g<a+(e-1)||(s=(u=p(e,g,"_MACD"))[1]>u[0]?100*(c["_MACD "+o.name]-u[0])/(u[1]-u[0]):s,c["_PF "+o.name]=l[g-1]["_PF "+o.name]?l[g-1]["_PF "+o.name]+.5*(s-l[g-1]["_PF "+o.name]):s,g<a+2*(e-1)||(h=(u=p(e,g,"_PF"))[1]>u[0]?100*(c["_PF "+o.name]-u[0])/(u[1]-u[0]):h,c["Result "+o.name]=l[g-1]["Result "+o.name]?l[g-1]["Result "+o.name]+.5*(h-l[g-1]["Result "+o.name]):h)))}},B.Studies.calculateStochMomentum=function(t,e){var i,a,r,n,s,o,l,h;if(i=Number(e.inputs["%K Periods"]),a=Number(e.inputs["%K Smoothing Periods"]),r=Number(e.inputs["%K Double Smoothing Periods"]),K.v1h(),n=Number(e.inputs["%D Periods"]),(s=e.chart.scrubbed).length<i+a+r-1||s.length<n)e.error=!0;else{for(o=Math.max(i,e.startFrom)-1;o<s.length;o++)l=s[o],h=function(t,e){for(var i=null,a=null,r=e-t+1;r<=e;r++)i=null===i?s[r].Low:Math.min(i,s[r].Low),a=null===a?s[r].High:Math.max(a,s[r].High);return[i,a]}(i,o),l["_H "+e.name]=l.Close-(h[0]+h[1])/2,l["_DHL "+e.name]=h[1]-h[0];for(B.Studies.MA("exponential",a,"_H "+e.name,0,"_HS1",t,e),B.Studies.MA("exponential",r,"_HS1 "+e.name,0,"_HS2",t,e),B.Studies.MA("exponential",a,"_DHL "+e.name,0,"_DHL1",t,e),B.Studies.MA("exponential",r,"_DHL1 "+e.name,0,"_DHL2",t,e),o=i-1;o<s.length;o++)s[o]["%K "+e.name]=s[o]["_HS2 "+e.name]/(.5*s[o]["_DHL2 "+e.name])*100;B.Studies.MA(e.inputs["%D Moving Average Type"],n,"%K "+e.name,0,"%D",t,e),e.zoneOutput="%K"}},B.Studies.calculateEhlerFisher=function(t,e){var s,i,a,r;if((s=e.chart.scrubbed).length<e.days+1)e.error=!0;else{i=0,1<e.startFrom&&(i=s[e.startFrom-1]["_n "+e.name]);for(var n=e.startFrom;n<s.length;n++)a="EF",a+=" ",a=s[n],n<e.days-1?a["EF "+e.name]=a["EF Trigger "+e.name]=i:(r=function(t,e){var i,a=Number.MAX_VALUE,r=-1*Number.MAX_VALUE;K.v1h();for(var n=e-t+1;n<=e;n++)i=(s[n].High+s[n].Low)/2,a=Math.min(a,i),r=Math.max(r,i);return[a,r]}(e.days,n),0<(i=.66*(((s[n].High+s[n].Low)/2-r[0])/Math.max(1e-6,r[1]-r[0])-.5)+.67*i)?i=Math.min(i,.9999):i<0&&(i=Math.max(i,-.9999)),r=n?s[n-1]["EF "+e.name]:0,a["EF "+e.name]=.5*Math.log((1+i)/(1-i))+.5*r,a["EF Trigger "+e.name]=r,a["_n "+e.name]=i)}},B.Studies.calculatePrettyGoodOscillator=function(t,e){var i,a="C";if(a+="l",a+="o",a+="se",a="simp",a+="l",a+="e",a="_",a+="E",a+="M",a+="A",a="true",a+="Ran",a+="g",a+="e",(i=e.chart.scrubbed).length<e.days+1){e.error=!0,0;a=1;return 1428475735!==K.n7h(a.toString(),a.toString().length,10281)?void 0:void K.G7h(2..toString(),2..toString().length,17793)}B.Studies.MA("exponential",e.days,"trueRange",0,"_EMA",t,e),B.Studies.MA("simple",e.days,"Close",0,"_SMA",t,e),K.J1h();for(var r=Math.max(1,e.startFrom);r<i.length;r++)i[r]["_SMA "+e.name]&&i[r]["_EMA "+e.name]&&(i[r]["Result "+e.name]=(i[r].Close-i[r]["_SMA "+e.name])/i[r]["_EMA "+e.name])},B.Studies.calculateUltimateOscillator=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m=K;if(i=e.chart.scrubbed,a=[e.inputs["Cycle 1"],e.inputs["Cycle 2"],e.inputs["Cycle 3"]],r=Math.max(a[0],a[1],a[2]),i.length<r+1)e.error=!0;else{n=a[0]*a[1],s=a[0]*a[2],o=a[1]*a[2],l=[0,0,0],m.e90(9),h=[m.G90(2147483647,"0"),0,0],e.startFrom&&(i[e.startFrom-1]["_accbp "+e.name]&&(l=i[e.startFrom-1]["_accbp "+e.name].slice()),i[e.startFrom-1]["_acctr "+e.name]&&(h=i[e.startFrom-1]["_acctr "+e.name].slice()));for(var y=Math.max(1,e.startFrom);y<i.length;y++){f=Math.min(i[y].Low,i[y-1].Close),c=i[y].Close-f,u=Math.max(i[y].High,i[y-1].Close)-f;for(var b=0;b<a.length;b++)l[b]+=c,h[b]+=u,a[b]<y&&(d=Math.min(i[y-a[b]].Low,i[y-a[b]-1].Close),p=i[y-a[b]].Close-d,d=Math.max(i[y-a[b]].High,i[y-a[b]-1].Close)-d,l[b]-=p,h[b]-=d);i[y]["_accbp "+e.name]=l.slice(),i[y]["_acctr "+e.name]=h.slice(),y<r||(g=o*l[0]/h[0]+s*l[1]/h[1]+n*l[2]/h[2],m.e90(0),f=m.F90(o,s,n),m.b90(22),i[y]["Result "+e.name]=m.G90(2147483647,"100",f,g))}}},B.Studies.calculatePriceVolumeTrend=function(t,e){var i,a,r;(i=e.inputs.Field)&&"field"!=i||(i="Close"),a=e.chart.scrubbed,r=0,1<e.startFrom&&(r=a[e.startFrom-1]["Result "+e.name]);for(var n=Math.max(1,e.startFrom);n<a.length;n++)a[n][i]&&a[n-1][i]&&(r+=a[n].Volume*(a[n][i]-a[n-1][i])/a[n-1][i],a[n]["Result "+e.name]=r)},B.Studies.calculateOnBalanceVolume=function(t,e){var i,a,r,n,s,o,l,h;K.J1h(),(i=e.inputs.Field)&&"field"!=i||(i="Close"),r=!1,(a=e.inputs["Min Tick Value"])||0===a||(r=!0,a=0),n=e.chart.scrubbed,s=0;for(var c=e.startFrom;c<n.length;c++)o=n[c],c&&o[i]&&(n[c-1][i]&&(K.e90(4),l=n[K.F90(c,1)]),l&&(o[i]-l[i]>a?s=1:l[i]-o[i]>a?s=-1:r&&(s=0),h=(h=l["Result "+e.name])||0,h+=o.Volume*s,o["Result "+e.name]=h))},B.Studies.calculateVolumeIndex=function(t,e){var i,a,r,n,s,o,l,h,c,u=K,p="fie";if(p+="l",p+="d",(i=e.inputs.Field)&&"field"!=i||(i="Close"),(a=e.chart.scrubbed).length<e.days+1){e.error=!0,u.e90(4),r=-u.G90("259645365",0),u.e90(13),n=u.G90(2,"2");p=1;return u.n7h(p.toString(),p.toString().length,71121)!==r?void 0:void u.G7h(n.toString(),n.toString().length,69231)}s=100,1<e.startFrom&&(s=a[e.startFrom-1]["Index "+e.name]);for(var d=Math.max(1,e.startFrom);d<a.length;d++)h="Inde",h+="x",h+=" ",c="Neg Vo",c+="l",o=a[d][i],l=a[d].Volume,o&&"object"==typeof o&&(l=o.Volume,o=o[e.subField]),u.b90(4),h=a[u.F90(d,1)][i],c=a[d-1].Volume,h&&"object"==typeof h&&(c=h.Volume,h=h[e.subField]),o&&h&&(("Pos Vol"==e.type&&c<l||"Neg Vol"==e.type&&l<c)&&(u.b90(6),s*=u.G90(h,o)),a[d]["Index "+e.name]=s);u.v1h(),B.Studies.MA(e.inputs["Moving Average Type"],e.days,"Index "+e.name,0,"MA",t,e)},B.Studies.calculateHistoricalVolatility=function(e,t){var i,a,r,n,s,o,l,h,c="C";if(c+="l",c+="o",c+="se",(i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{(a=t.inputs.Field)&&"field"!=a||(a="Close"),c=t.inputs["Standard Deviations"],K.v1h(),c<0&&(c=1),r=100*Math.sqrt(function(t){isNaN(t)&&(t=365);{if("day"==e.layout.interval)return t;if("week"==e.layout.interval)return 52;if("month"==e.layout.interval)return 12}return t}(t.inputs["Days Per Year"]))*c,n=[],s=0,1<t.startFrom&&(s=i[t.startFrom-1]["_state "+t.name][0],n=i[t.startFrom-1]["_state "+t.name][1].slice());for(var u=Math.max(1,t.startFrom);u<i.length;u++){if(K.b90(23),o=i[K.G90(u,0,"1")][a],o&&(l=Math.log(i[u][a]/o),n.push(l),s+=l,u>=t.days)){h=0,s/=t.days;for(var p=0;p<n.length;p++)h+=Math.pow(n[p]-s,2);s*=t.days,s-=n.shift(),i[u]["Result "+t.name]=Math.sqrt(h/t.days)*r}i[u]["_state "+t.name]=[s,n.slice()]}}},B.Studies.calculateSwingIndex=function(t,e){var i,a,r,n,s,o,l,h,c,u=K;null!==(i=e.inputs["Limit Move Value"])&&!isNaN(i)||(i=99999),a=2;for(var p=1;-877891391!==u.n7h(p.toString(),p.toString().length,54811);p++)r=e.chart.scrubbed,a+=2;-171450412!==u.n7h(a.toString(),a.toString().length,43027)&&(r=e.chart.scrubbed),n=0,1<e.startFrom&&(n=r[e.startFrom-1]["Result "+e.name]);for(var d=Math.max(1,e.startFrom);d<r.length;d++)c="Res",c+="u",c+="l",c+="t ",s=Math.abs(r[d].High-r[d-1].Close),o=Math.abs(r[d].Low-r[d-1].Close),l=Math.abs(r[d].High-r[d].Low),h=Math.abs(r[d-1].Close-r[d-1].Open),c=Math.max(s,o),l=Math.max(l,c),u.b90(24),h=u.G90(h,"0.25",l,1),l==s?(u.b90(1),h-=u.F90(.5,o)):l==o&&(u.b90(1),h-=u.F90(.5,s)),c=50*(r[d].Close-r[d-1].Close+.5*(r[d].Close-r[d].Open)+.25*(r[d-1].Close-r[d-1].Open))/h*(c/i),0!==h&&0!==i||(c=0),"Swing"==e.type&&(n=0),n+=c,r[d]["Result "+e.name]=n},B.Studies.calculateADX=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=K;if(d.v1h(),B.Studies.calculateStudyATR(t,e),i=e.chart.scrubbed,a=e.days,(r=parseInt(e.inputs["Smoothing Period"],10))||0===r||(r=a),i.length<e.days+1)e.error=!0;else{l=o=s=n=0;for(var g=Math.max(1,e.startFrom);g<i.length;g++)if(u="_",u+="smT",u+="R",u+=" ",p="_",p+="sm",p+="-DM",p+=" ",h=i[g],u=Math.max(0,h.High-i[g-1].High),(p=Math.max(0,i[g-1].Low-h.Low))<u?(d.e90(9),p=d.G90(2147483647,"0")):u=u<p?0:p=0,g<=a?(s+=u,o+=p,n+=h["True Range "+e.name]):(s=i[g-1]["_sm+DM "+e.name]*(a-1)/a+u,o=i[g-1]["_sm-DM "+e.name]*(a-1)/a+p,n=i[g-1]["_smTR "+e.name]*(a-1)/a+h["True Range "+e.name]),h["_sm+DM "+e.name]=s,h["_sm-DM "+e.name]=o,h["_smTR "+e.name]=n,!(g<a)){if(d.e90(25),c=d.F90(100,s,n),d.b90(25),u=d.F90(100,o,n),p=100*Math.abs(c-u)/(c+u),h["+DI "+e.name]=c,h["-DI "+e.name]=u,!1!==e.inputs.Series&&r)if(g<a+r-1){if(g==e.startFrom)for(var f=a;f<e.startFrom;f++)l+=100*Math.abs(i[f]["+DI "+e.name]-i[f]["-DI "+e.name])/(i[f]["+DI "+e.name]+i[f]["-DI "+e.name]);l+=p}else g==a+r-1?(d.b90(6),h["ADX "+e.name]=d.F90(r,l)):(u="AD",u+="X",u+=" ",h["ADX "+e.name]=(i[g-1]["ADX "+e.name]*(r-1)+p)/r);e.inputs.Histogram&&(p="+",p+="D",p+="I",p+=" ",p="+",p+="D",p+="I",p+=" ",p="_",p+="h",p+="i",p+="st",p=e.name+"_hist",!h["+DI "+e.name]&&0!==h["+DI "+e.name]||!h["-DI "+e.name]&&0!==h["-DI "+e.name]||(h[p]=h["+DI "+e.name]-h["-DI "+e.name],!1===e.inputs.Series&&(h["+DI "+e.name]=null,h["-DI "+e.name]=null)))}}},B.Studies.calculateRandomWalk=function(t,e){var i,a,r,n,s,o,l,h=e.chart.scrubbed;if(h.length<e.days+1)e.error=!0;else{K.v1h();for(var c=Math.max(2,e.startFrom);c<h.length;c++){i=0,a=h[c].High,r=h[c].Low,n=0,K.b90(4),s=K.F90("0",0);for(var u=1;u<=e.days;u++){if(c<=u){n=s=0;break}(l=(i+=h[c-u].trueRange)/u*Math.sqrt(u))&&(o=(a-h[c-u].Low)/l,l=(h[c-u].High-r)/l,n=Math.max(n,o),s=Math.max(s,l))}h[c]["Random Walk High "+e.name]=n,h[c]["Random Walk Low "+e.name]=s}}},B.Studies.calculateRateOfChange=function(t,e){var i,a,r,n,s,o,l=K;if(l.v1h(),(i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(var h in(a=e.inputs.Field)&&"field"!=a||(a="Close"),e.parameters.isVolume&&(a="Volume"),r=e.name,e.outputs)l.b90(0),r=l.F90(h," ",r);n=(n=e.inputs["Center Line"])?parseInt(n,10):0;for(var c=Math.max(e.startFrom,e.days);c<i.length;c++)(s=i[c][a])&&"object"==typeof s&&(s=s[e.subField]),(o=i[c-e.days][a])&&"object"==typeof o&&(o=o[e.subField]),"Momentum"==e.type?(l.b90(18),i[c][r]=l.G90(n,o,s)):(o=o)&&(l.b90(26),i[c][r]=l.G90(1,o,s,n,100))}},B.Studies.calculateTypicalPrice=function(t,e){var i,a,r,n,s,o=K;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.overlay||(e.error=!0);else{for(var l in r=e.name,e.outputs)o.e90(0),r=o.G90(l," ",r);n="hlc/3","Med Price"==e.type?n="hl/2":"Weighted Close"==e.type&&(n="hlcc/4"),s=0,e.startFrom<=a&&(o.b90(14),e.startFrom=o.G90("0",1605681920));for(var h=e.startFrom;h<i.length;h++)h&&i[h-1][r]&&(s=i[h-1][r]*a),s+=i[h][n],a<=h&&(o.e90(4),s-=i[o.F90(h,a)][n],o.b90(6),i[h][r]=o.F90(a,s))}},B.Studies.calculateElderRay=function(t,e){var i=e.chart.scrubbed;if(i.length<e.days)e.error=!0;else{B.Studies.MA("exponential",e.days,"Close",0,"_EMA",t,e);for(var a=Math.max(e.startFrom,e.days-1);a<i.length;a++)i[a][e.name+"_hist1"]=i[a].High-i[a]["_EMA "+e.name],i[a][e.name+"_hist2"]=i[a].Low-i[a]["_EMA "+e.name]}},B.Studies.calculateElderForce=function(t,e){var i,a=K,r=e.chart.scrubbed;if(a.v1h(),r.length<e.days){a.e90(13),i=a.F90(2,"2");var n=1;if(1921825078!==a.n7h(n.toString(),n.toString().length,55708))return void(e.error=!1);if(-1690810862!==a.G7h(i.toString(),i.toString().length,26085))return void(e.error=!0)}for(var s=Math.max(1,e.startFrom);s<r.length;s++)r[s]["_EF1 "+e.name]=r[s].Volume*(r[s].Close-r[s-1].Close);B.Studies.MA("exponential",e.days,"_EF1 "+e.name,0,"Result",t,e)},B.Studies.calculateCenterOfGravity=function(t,e){var i,a,r,n,s=K,o="f";if(o+="iel",o+="d",(i=e.chart.scrubbed).length<e.days){e.error=!0,0;o=1;if(-366256710!==s.n7h(o.toString(),o.toString().length,57180))return;if(708636781!==s.n7h(2..toString(),2..toString().length,42426))return}(a=e.inputs.Field)&&"field"!=a||(a="Close");for(var l=Math.max(e.startFrom,e.days-1);l<i.length;l++){0;for(var h=n=r=0;h<e.days;h++)r-=(h+1)*i[l-h][a],s.b90(4),n+=i[s.F90(l,h)][a];n&&(s.e90(6),i[l]["Result "+e.name]=s.F90(n,r))}},B.Studies.calculateEaseOfMovement=function(t,e){var i,a,r,n,s=K;if(s.v1h(),(i=e.chart.scrubbed).length<e.days){a=2;for(var o=1;1548749569!==s.G7h(o.toString(),o.toString().length,13261);o++)e.error=!1,a+=2;1531418837!==s.G7h(a.toString(),a.toString().length,67851)&&(e.error=!0)}else{for(var l=Math.max(1,e.startFrom);l<i.length;l++)n=(i[l].High+i[l].Low)/2,r=(i[l-1].High+i[l-1].Low)/2,s.e90(4),n=s.F90(n,r),r=i[l].Volume/1e8/(i[l].High-i[l].Low),s.e90(6),n=s.F90(r,n),isFinite(n)?i[l]["_EOM1 "+e.name]=n:i[l]["_EOM1 "+e.name]=NaN;B.Studies.MA(e.inputs["Moving Average Type"],e.days,"_EOM1 "+e.name,0,"Result",t,e)}},B.Studies.calculateChaikinVolatility=function(t,e){var i,a,r=e.chart.scrubbed;if(r.length<e.days)e.error=!0;else{for(i=e.startFrom;i<r.length;i++)r[i]["_High-Low "+e.name]=r[i].High-r[i].Low;for(B.Studies.MA(e.inputs["Moving Average Type"],e.days,"_High-Low "+e.name,0,"_MA",t,e),a=(a=e.inputs["Rate Of Change"])||e.days,i=Math.max(e.startFrom,a);i<r.length;i++)r[i-a]["_MA "+e.name]&&(r[i]["Result "+e.name]=100*(r[i]["_MA "+e.name]/r[i-a]["_MA "+e.name]-1))}},B.Studies.calculateChaikinMoneyFlow=function(t,e){var i,a,r,n=e.chart.scrubbed;if(n.length<e.days)e.error=!0;else{a=i=0,(r=n[e.startFrom-1])&&(r["_sumMF "+e.name]&&(i=r["_sumMF "+e.name]),r["_sumV "+e.name]&&(a=r["_sumV "+e.name]));for(var s=e.startFrom;s<n.length;s++)n[s].High==n[s].Low?n[s]["_MFV "+e.name]=0:n[s]["_MFV "+e.name]=n[s].Volume*(2*n[s].Close-n[s].High-n[s].Low)/(n[s].High-n[s].Low),i+=n[s]["_MFV "+e.name],a+=n[s].Volume,s>e.days-1&&(i-=n[s-e.days]["_MFV "+e.name],(a-=n[s-e.days].Volume)&&(K.e90(6),n[s]["Result "+e.name]=K.G90(a,i))),n[s]["_sumMF "+e.name]=i,n[s]["_sumV "+e.name]=a}},B.Studies.calculateTwiggsMoneyFlow=function(t,e){var i,a,r,n,s,o,l=K,h=e.chart.scrubbed;if(h.length<e.days)e.error=!0;else{i=2;for(var c=1;-2019625139!==l.G7h(c.toString(),c.toString().length,41658);c++)l.b90(4),a=l.G90("5",0),l.b90(1),r=l.F90("8",1),i+=2;l.J1h(),-695349764!==l.G7h(i.toString(),i.toString().length,32776)&&(a=1,r=4),r=a=0,(n=h[e.startFrom-1])&&(n["_sumMF "+e.name]&&(a=n["_sumMF "+e.name]),n["_sumV "+e.name]&&(r=n["_sumV "+e.name]));for(var u=Math.max(1,e.startFrom);u<h.length;u++)s=Math.max(h[u-1].Close,h[u].High),o=Math.min(h[u-1].Close,h[u].Low),h[u]["_MFV "+e.name]=h[u].Volume*(2*h[u].Close-s-o)/(s-o==0?999999:s-o),u>e.days-1&&(a*=(e.days-1)/e.days,r*=(e.days-1)/e.days),a+=h[u]["_MFV "+e.name],r+=h[u].Volume,u>e.days-1&&r&&(l.e90(6),h[u]["Result "+e.name]=l.F90(0<r?r:999999,a)),h[u]["_sumMF "+e.name]=a,h[u]["_sumV "+e.name]=r}},B.Studies.calculateMassIndex=function(t,e){var i,a,r,n,s,o=K;o.J1h(),i=2;for(var l=1;-1628675576!==o.n7h(l.toString(),l.toString().length,23751);l++)a=e.chart.scrubbed,o.e90(14),i+=o.G90("2",2013635904);if(-1087561008!==o.n7h(i.toString(),i.toString().length,12226)&&(a=e.chart.scrubbed),a.length<Math.max(9,e.days+1)){o.b90(9),r=-o.F90(2147483647,"1379726539"),n=2;for(var h=1;o.n7h(h.toString(),h.toString().length,2241)!==r;h++)e.error=!1,n+=2;return-19874030!==o.G7h(n.toString(),n.toString().length,7634)&&(e.error=!0),void(e.error=!0)}for(var c=e.startFrom;c<a.length;c++)a[c]["_High-Low "+e.name]=a[c].High-a[c].Low;B.Studies.MA("exponential",9,"_High-Low "+e.name,0,"_EMA",t,e),o.b90(27),B.Studies.MA("exponential",o.G90(624263744,"9"),"_EMA "+e.name,0,"_EMA2",t,e),s=0,a[e.startFrom-1]&&a[e.startFrom-1]["_total "+e.name]&&(s=a[e.startFrom-1]["_total "+e.name]);for(var u=Math.max(17,e.startFrom);u<a.length;u++)s+=a[u]["_EMA "+e.name]/a[u]["_EMA2 "+e.name],u>=17+e.days-1&&(a[u]["Result "+e.name]=s,s-=a[u-e.days+1]["_EMA "+e.name]/a[u-e.days+1]["_EMA2 "+e.name]),a[u]["_total "+e.name]=s},B.Studies.calculateMoneyFlowIndex=function(t,e){var i,a,r,n,s,o,l,h,c,u,p=K;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{r=a=0,p.v1h(),u=i[e.startFrom-1],n="_rawMF "+e.name,s="_cumMF "+e.name,o="Result "+e.name,u&&u[s]&&(a=u[s][0],r=u[s][1]);for(var d=e.startFrom;d<i.length;d++)l=i[d]["hlc/3"],0<d&&(h="h",h+="l",h+="c",h+="/3",p.e90(4),c=i[p.F90(d,1)]["hlc/3"],h=l*i[d].Volume,c<l?a+=h:l<c?r-=h*=-1:h=0,d>e.days&&(0<(c=i[d-e.days][n])?a-=c:r+=c,0===r?(p.b90(14),i[d][o]=p.G90("100",672009984)):(p.e90(28),i[d][o]=p.F90(100,100,a,1,r))),i[d][n]=h,i[d][s]=[a,r])}},B.Studies.calculateChandeMomentum=function(t,e){var i,a,r,n,s,o,l,h,c=K,u=e.name;for(h in e.outputs)c.b90(0),u=c.F90(h," ",u);if(c.v1h(),(i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(a=e.inputs.Field)&&"field"!=a||(a="Close"),n=r=0,s=[];for(var p=e.startFrom-e.days+1;p<i.length;p++)l="obj",l+="ec",l+="t",p<1||(o=i[p][a],c.b90(29),l=i[c.G90("1",1,p)][a],o&&"object"==typeof o&&(o=o.Close),l&&"object"==typeof l&&(l=l.Close),void 0!==l&&(c.b90(4),l=c.G90(o,l),s.push(l),r+=l,n+=Math.abs(l),s.length==e.days&&(c.b90(25),i[p][u]=c.G90(100,r,n),r-=l=s.shift(),n-=Math.abs(l))))}},B.Studies.calculateChandeForecast=function(t,e){var i,a,r;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(a=e.inputs.Field)&&"field"!=a||(a="Close"),B.Studies.MA("time series",e.days,a,0,"MA",t,e);for(var n=Math.max(1,e.startFrom);n<i.length;n++)r="M",r+="A ",(r=i[n][a])&&"object"==typeof r&&(r=r[e.subField]),i[n]["Result "+e.name]=100*(1-i[n]["MA "+e.name]/r)}},B.Studies.calculateDetrendedPrice=function(t,e){var i,a,r,n;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(a=e.inputs.Field)&&"field"!=a||(a="Close"),r=Math.floor(e.days/2+1),B.Studies.MA(e.inputs["Moving Average Type"],e.days,a,-r,"MA",t,e);for(var s=Math.max(e.days-r-1,e.startFrom-r);s<i.length-r;s++)n="M",n+="A",n+=" ",n="R",n+="esult ",(n=i[s][a])&&"object"==typeof n&&(n=n[e.subField]),i[s]["Result "+e.name]=n-i[s]["MA "+e.name]}},B.Studies.calculateAroon=function(t,e){var i,a,r,n,s,o,l=K,h=e.chart.scrubbed;if(l.v1h(),h.length<e.days+1)e.error=!0;else{l.b90(4),i=l.G90("0",0),l.e90(14),a=l.F90("0",1234683360),n=r=null,0<e.startFrom&&((s=h[e.startFrom-1]["_state "+e.name])&&(i=s[0],a=s[1],r=s[2],n=s[3]));for(var c=e.startFrom;c<h.length;c++){if(null===r&&(r=h[c].High),null===n&&(n=h[c].Low),(r=Math.max(r,h[c].High))==h[c].High)i=0;else if(++i>e.days)for(r=h[c].High,l.e90(1),i=l.F90("0",1),o=1;o<=e.days;o++)(r=Math.max(r,h[c-o].High))==h[c-o].High&&(i=o);if((n=Math.min(n,h[c].Low))==h[c].Low)a=0;else if(++a>e.days)for(n=h[c].Low,a=0,o=1;o<=e.days;o++)(n=Math.min(n,h[c-o].Low))==h[c-o].Low&&(a=o);h[c]["Aroon Up "+e.name]=100*(1-i/e.days),h[c]["Aroon Down "+e.name]=100*(1-a/e.days),h[c]["Aroon Oscillator "+e.name]=h[c]["Aroon Up "+e.name]-h[c]["Aroon Down "+e.name],h[c]["_state "+e.name]=[i,a,r,n]}}},B.Studies.calculatePrimeNumber=function(t,e){var a,i,r,n,s,o,l,h;function c(t){var e;if(!(t<=0)){if(t!=Math.floor(t))return 0;if(!0===a[t]||!1===a[t])return a[t];e=parseInt(Math.sqrt(t),10);for(var i=2;i<=e;i++)if(t%i==0)return a[t]=!1;return a[t]=!0}}K.v1h(),a=[],i=e.chart.scrubbed;for(var u=e.startFrom;u<i.length;u++)if(r=i[u]){n=r.High;for(var p=0;0<n&&n<=10;p++)n*=10;for(c(n)&&(n+=2),(n=Math.ceil(n))%2==0&&n++;!c(n);)n+=2;n/=Math.pow(10,p),s=r.Low;for(var d=0;0<s&&s<=10;d++)s*=10;if(c(s)&&(s-=2),(s=Math.floor(s))%2==0&&s--,0<s){for(;!c(s);)s-=2;s/=Math.pow(10,d)}"Prime Number Bands"==e.type?(r["Prime Bands Top "+e.name]=n,r["Prime Bands Bottom "+e.name]=Math.max(0,s)):(o=0,l=e.inputs["Tolerance Percentage"]*(n-s)/100,(h=n+s-2*r.Close)<l?o=1:l<h&&(o=-1),o&&(r["Result "+e.name]=o))}},B.Studies.calculateVerticalHorizontalFilter=function(t,e){var i,a,r,n=e.chart.scrubbed;if(n.length<e.days+1)e.error=!0;else{e.mhml=new B.Studies.StudyDescriptor(e.name,e.type,e.panel),e.mhml.chart=e.chart,e.mhml.days=e.days,e.mhml.startFrom=e.startFrom,e.mhml.inputs={},e.mhml.outputs={_MHML:null},B.Studies.calculateMaxHighMinLow(t,e.mhml),i=0,a=[];for(var s=Math.max(1,e.startFrom-e.days);s<n.length;s++)r=Math.abs(n[s].Close-n[s-1].Close),a.push(r),i+=r,a.length==e.days&&(n[s]["Result "+e.name]=n[s]["_MHML "+e.name]/i,i-=a.shift())}},B.Studies.calculatePriceOscillator=function(t,e){var i,a,r,n,s,o,l="C";if(l+="l",l+="ose",i=e.chart.scrubbed,a=Number(e.inputs["Short Cycle"]),r=Number(e.inputs["Long Cycle"]),i.length<Math.max(a,r)+1)e.error=!0;else{n=e.inputs.Field,l=(l=e.inputs["Moving Average Type"])||"simple",n&&"field"!=n||(n="Close"),e.parameters.isVolume&&(n="Volume",l="exponential"),s=(s=e.inputs["Points Or Percent"])||"Percent",B.Studies.MA(l,a,n,0,"_Short MA",t,e),K.b90(14),B.Studies.MA(l,r,n,K.G90("0",270722336),"_Long MA",t,e),K.J1h();for(var h=Math.max(r,e.startFrom);h<i.length;h++)o="_Short MA",o+=" ",(o=i[h])&&(o["Result "+e.name]="Points"==s?o["_Short MA "+e.name]-o["_Long MA "+e.name]:100*(o["_Short MA "+e.name]/o["_Long MA "+e.name]-1),e.outputs["Increasing Bar"]&&(o[e.name+"_hist"]=o["Result "+e.name]))}},B.Studies.calculateKeltner=function(t,e){B.Studies.MA(e.inputs["Moving Average Type"],e.days,"Close",0,"MA",t,e),B.Studies.calculateStudyATR(t,e),B.Studies.calculateGenericEnvelope(t,e,e.inputs.Shift,"MA "+e.name,"ATR "+e.name)},B.Studies.calculateCoppock=function(t,e){var i,a,r,n,s,o,l=K,h="Res";if(h+="u",h+="lt",h="we",h+="ig",h+="hte",h+="d",h="Short",h+=" RoC",h="Long ",h+="RoC",h="Clo",h+="s",h+="e",l.v1h(),i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),r=(r=parseInt(e.inputs["Long RoC"],10))||14,n=(n=parseInt(e.inputs["Short RoC"],10))||11,(h=e.days)||(l.e90(1),h=l.F90("10",1)),!(r<n))if(i.length<Math.max(n,r,h)+1)e.error=!0;else{for(var c=Math.max(e.startFrom,r);c<i.length;c++)l.b90(4),s=i[l.G90(c,n)][a],l.b90(4),o=i[l.F90(c,r)][a],s&&o&&(i[c]["_Sum "+e.name]=100*(i[c][a]/s+i[c][a]/o-2));B.Studies.MA("weighted",h,"_Sum "+e.name,0,"Result",t,e)}},B.Studies.calculateLinearRegressionIndicator=function(t,e){var i,a,r,n,s,o,l,h,c,u,p=K,d=e.chart.scrubbed;if(d.length<e.days+1)e.error=!0;else{(i=e.inputs.Field)&&"field"!=i||(i="Close"),a=e.days*(e.days+1)/2,r=Math.pow(a,2),p.v1h(),n=a*(2*e.days+1)/3,p.e90(30),s=p.G90(0,"0"),l=o=0,e.startFrom&&(h=d[e.startFrom-1]["_sums "+e.name])&&(p.b90(27),o=h[p.G90(971499712,"0")],s=h[1],l=h[2]);for(var g=e.startFrom;g<d.length;g++)if(c="_s",c+="ums ",c="Fo",c+="r",c+="e",c+="cast ",c="I",c+="ntercept ",c="ob",c+="ject",c=d[g][i],c&&"object"==typeof c&&(c=c[e.subField]),(c||0===c)&&(o+=e.days*c-s,s+=c,l+=Math.pow(c,2),!(g<e.days-1))){if(g>e.days-1){if((u=d[g-e.days][i])&&"object"==typeof u&&(u=u[e.subField]),!u&&0!==u)continue;s-=u,l-=Math.pow(u,2)}c=(e.days*o-a*s)/(e.days*n-r),u=(s-(d[g]["Slope "+e.name]=c)*a)/e.days,d[g]["Intercept "+e.name]=u,d[g]["Forecast "+e.name]=u+c*e.days,u=(e.days*n-r)/(e.days*l-Math.pow(s,2)),p.e90(31),d[g]["RSquared "+e.name]=p.G90(c,u,c),d[g]["_sums "+e.name]=[o,s,l]}}},B.Studies.calculateBollinger=function(t,e){var i="Boll";i+=" %b",i=e.inputs.Field,K.v1h(),i&&"field"!=i||(i="Close"),B.Studies.MA(e.inputs["Moving Average Type"],e.days,i,0,"_MA",t,e),e.std=new B.Studies.StudyDescriptor(e.name,"STD Dev",e.panel),e.std.chart=e.chart,e.std.startFrom=e.startFrom,e.std.days=e.days,e.std.inputs={Field:i,"Standard Deviations":1,Type:e.inputs["Moving Average Type"]},e.std.outputs={"_STD Dev":null},B.Studies.calculateStandardDeviation(t,e.std),B.Studies.calculateGenericEnvelope(t,e,e.inputs["Standard Deviations"],"_MA "+e.name,"_STD Dev "+e.name),"Boll %b"==e.type&&(e.zoneOutput="%b")},B.Studies.calculateMAEnvelope=function(t,e){var i,a,r="C";r+="lose",i="fie",i+="ld",(a=e.inputs.Field)&&"field"!=a||(a="Close"),B.Studies.MA(e.inputs["Moving Average Type"],e.days,a,0,"MA",t,e),r=e.inputs["Shift Type"],K.v1h(),i=e.inputs.Shift,r||(a="percen",a+="t",r="percent",i=e.inputs["Shift Percentage"]),"percent"==r?(K.e90(6),B.Studies.calculateGenericEnvelope(t,e,K.F90(100,i),"MA "+e.name)):"points"==r&&B.Studies.calculateGenericEnvelope(t,e,null,"MA "+e.name,null,Number(i))},B.Studies.calculateGenericEnvelope=function(t,e,i,a,r,n){var s,o,l,h,c,u,p=K;i=i||0,n=n||0,a&&"field"!=a||(a="Close"),r=r||a,s=e.chart.scrubbed,(o=e.inputs.Field)&&"field"!==o||(o="Close");for(var d=e.startFrom;s&&d<s.length;d++)h="%",h+="b",h+=" ",c="Bandw",c+="idth ",u=" Bottom",u+=" ",(l=s[d])&&l[a]&&((h=l[o])&&"object"==typeof h&&(h=h.Close),(c=l[a])&&"object"==typeof c&&(c=c[e.subField]),(u=l[r])&&"object"==typeof u&&(u=u[e.subField]),p.b90(32),u=p.G90(n,u,i),p.e90(2),l[e.type+" Top "+e.name]=p.F90(c,u),p.b90(4),l[e.type+" Bottom "+e.name]=p.G90(c,u),l[e.type+" Median "+e.name]=c,l["Bandwidth "+e.name]=c?200*u/c:0,p.e90(33),l["%b "+e.name]=p.F90(c,h,1,u,50))},B.Studies.calculateMaxHighMinLow=function(t,e){var i,a,r,n,s=K,o=e.chart.scrubbed,l=e.days,h=e.days;if(e.inputs["High Period"]&&(l=e.inputs["High Period"]),e.inputs["Low Period"]&&(h=e.inputs["Low Period"]),o.length<Math.max(l,h)+1)e.error=!0;else{if(i=Number.MAX_VALUE,a=-1*Number.MAX_VALUE,1<e.startFrom){for(r=1;r<l;r++)a=Math.max(a,o[e.startFrom-r].High);for(r=1;r<h;r++)i=Math.min(i,o[e.startFrom-r].Low)}s.v1h();for(var c=Math.max(0,e.startFrom-1);c<o.length;c++){if(n="VT ",n+="HZ",n+=" F",n+="ilter",n="L",n+="L",n+="V",n="H",n+="HV",a=Math.max(a,o[c].High),i=Math.min(i,o[c].Low),l<=c&&o[c-l].High==a)for(a=o[c].High,r=1;r<l;r++)a=Math.max(a,o[c-r].High);if(h<=c&&o[c-h].Low==i)for(i=o[c].Low,r=1;r<h;r++)i=Math.min(i,o[c-r].Low);if(n=0,"HHV"==e.type)n=a;else if("LLV"==e.type)n=i;else if("Donchian Width"==e.type)s.e90(4),n=s.G90(a,i);else if("GAPO"==e.type||"Gopala"==e.type)n=Math.log(a-i)/Math.log(h);else{if("VT HZ Filter"==e.type){s.b90(4),n=s.G90(a,i),o[c]["_MHML "+e.name]=n;continue}if("Williams %R"==e.type){n=-100*(a-o[c].Close)/(a-i),o[c]["Result "+e.name]=n;continue}}if(c==o.length-1)break;"Donchian Channel"==e.type?(s.b90(2),o[s.G90(c,1)]["Donchian High "+e.name]=a,s.b90(2),o[s.G90(c,1)]["Donchian Low "+e.name]=i,s.b90(2),o[s.G90(c,1)]["Donchian Median "+e.name]=s.F90(2,a,i,s.e90(34))):(s.e90(2),o[s.G90(c,1)]["Result "+e.name]=n)}}},B.Studies.calculateAccumulationDistribution=function(t,e){for(var i,a,r,n=e.chart.scrubbed,s=e.startFrom;s<n.length;s++)r="Re",r+="s",r+="ult ",a="U",a+="se Volu",a+="me",s&&(i=n[s],K.e90(4),r=n[K.G90(s,1)],a=0,i.Close>r.Close?a=i.Close-Math.min(i.Low,r.Close):i.Close<r.Close&&(a=i.Close-Math.max(i.High,r.Close)),e.inputs["Use Volume"]&&(a*=i.Volume),r=(r=r["Result "+e.name])||0,r+=a,i["Result "+e.name]=r)},B.Studies.calculateCCI=function(t,e){var i,a,r,n="h";if(n+="l",n+="c/3",(i=e.chart.scrubbed).length<e.days+1){e.error=!0,0;n=1;if(-1807505613!==K.G7h(n.toString(),n.toString().length,45147))return;if(-1392554783!==K.n7h(2..toString(),2..toString().length,28757))return}B.Studies.MA("simple",e.days,"hlc/3",0,"MA",t,e);for(var s=Math.max(e.startFrom,e.days-1);s<i.length;s++)if(a=i[s]){for(var o=r=0;o<e.days;o++)r+=Math.abs(i[s-o]["hlc/3"]-a["MA "+e.name]);r/=e.days,Math.abs(r)<1e-8?a["Result "+e.name]=0:a["Result "+e.name]=(a["hlc/3"]-a["MA "+e.name])/(.015*r)}},B.Studies.calculateFractalChaos=function(t,e){var i,a,r,n,s,o=K;o.v1h(),i=e.chart.scrubbed,r=a=0,o.b90(9),n=o.G90(2147483647,"0"),e.startFrom&&"Fractal Chaos Bands"==e.type&&(a=i[e.startFrom-1]["Fractal High "+e.name],r=i[e.startFrom-1]["Fractal Low "+e.name]);for(var l=Math.max(4,e.startFrom);l<i.length;l++){for(o.e90(30),i[l]["Result "+e.name]=o.F90(0,"0"),s=n=0;s<=l&&i[l-s]&&!(i[l-s].High>i[l-2].High)&&!(s<2&&i[l-s].High==i[l-2].High);s++)if(i[l-s].High<i[l-2].High&&n++,4==n){a=i[l-2].High;break}for("Fractal Chaos Bands"==e.type?i[l]["Fractal High "+e.name]=0<a?a:null:4==n&&(i[l]["Result "+e.name]=1),s=n=0;s<=l&&i[l-s]&&!(i[l-s].Low<i[l-2].Low)&&!(s<2&&i[l-s].Low==i[l-2].Low);s++)if(i[l-s].Low>i[l-2].Low&&n++,4==n){r=i[l-2].Low;break}"Fractal Chaos Bands"==e.type?i[l]["Fractal Low "+e.name]=0<r?r:null:4==n&&(i[l]["Result "+e.name]=-1)}},B.Studies.displayRAVI=function(t,e,i){var a,r,n,s,o,l,h,c,u,p;a=t.panels[e.panel],r=t.getYAxisByName(a,e.name),K.J1h(),n=t.pixelFromPrice(0,a,r),(s=t.layout.candleWidth-2)<2&&(s=1),o=B.Studies.determineColor(e.outputs["Increasing Bar"]),l=B.Studies.determineColor(e.outputs["Decreasing Bar"]),t.startClip(e.panel),t.canvasColor("stx_histogram"),e.underlay||(t.chart.context.globalAlpha=1);for(var d=0;d<i.length;d++)p="#CCCCC",p+="C",c="_",c+="hi",c+="s",c+="t",u="_",u+="his",u+="t",p="_",p+="hi",p+="s",p+="t",h=i[d],K.e90(4),c=(c=i[K.F90(d,1)])||t.getPreviousBar(t.chart,e.name+"_hist",d),h&&(p=u=0,e.parameters&&e.parameters.studyOverZonesEnabled&&(u=parseFloat(e.parameters.studyOverBoughtValue),p=parseFloat(e.parameters.studyOverSoldValue)),c?h[e.name+"_hist"]>u&&c[e.name+"_hist"]<h[e.name+"_hist"]?t.chart.context.fillStyle=o:h[e.name+"_hist"]<p&&c[e.name+"_hist"]>h[e.name+"_hist"]?t.chart.context.fillStyle=l:t.chart.context.fillStyle="#CCCCCC":t.chart.context.fillStyle="#CCCCCC",h.candleWidth&&(s=Math.floor(Math.max(1,h.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(d,a.chart)-s/2),Math.floor(n),Math.floor(s),Math.floor(t.pixelFromPrice(h[e.name+"_hist"],a,r)-n)));t.endClip()},B.Studies.displayElderForce=function(t,e,i){var a,r;B.Studies.displaySeriesAsLine(t,e,i),a=B.Studies.determineColor(e.outputs.Result),r=t.panels[e.panel],i=t.getYAxisByName(r,e.name),i={skipTransform:r.name!=e.chart.name,panelName:e.panel,band:"Result "+e.name,threshold:0,color:a,yAxis:i,direction:1},B.preparePeakValleyFill(t,i),i.direction=-1,B.preparePeakValleyFill(t,i)},B.Studies.displayElderRay=function(r,n,t){var s,o,l,h,e,c;function i(t,e,i,a){K.v1h(),r.chart.context.fillStyle=B.Studies.determineColor(n.outputs[i]),r.chart.context.fillRect(Math.floor(r.pixelFromBar(t,s.chart)-h/2+h*e),Math.floor(l),Math.floor(h*(1-2*e)),Math.floor(r.pixelFromPrice(c[n.name+a],s,o)-l))}s=r.panels[n.panel],o=r.getYAxisByName(s,n.name),l=r.pixelFromPrice(0,s,o),(h=r.layout.candleWidth-2)<2&&(h=1),r.canvasColor("stx_histogram"),e=r.chart.context.fillStyle,n.underlay||(K.e90(1),r.chart.context.globalAlpha=K.F90("1",1)),r.startClip(n.panel);for(var a=0;a<t.length;a++)(c=t[a])&&(c.candleWidth&&(h=Math.floor(Math.max(1,c.candleWidth-2))),0<c[n.name+"_hist1"]&&i(a,0,"Elder Bull Power","_hist1"),c[n.name+"_hist2"]<0&&i(a,0,"Elder Bear Power","_hist2"),c[n.name+"_hist1"]<0&&i(a,.1,"Elder Bull Power","_hist1"),0<c[n.name+"_hist2"]&&i(a,.1,"Elder Bear Power","_hist2"));r.endClip(),r.chart.context.fillStyle=e},B.Studies.displayADX=function(t,e,i){var a,r,n,s,o,l;a=e.underlay?.3:e.inputs.Series?.4:1,e.inputs.Series&&e.inputs.Shading&&(r="+DI "+e.name,n="-DI "+e.name,l=B.Studies.determineColor(e.outputs[e.outputMap[r]]),s=B.Studies.determineColor(e.outputs[e.outputMap[n]]),o=t.getYAxisByName(e.panel,e.name),o={topBand:r,bottomBand:n,topColor:l,bottomColor:s,skipTransform:t.panels[e.panel].name!=e.chart.name,topAxis:o,bottomAxis:o},B.fillIntersecting(t,e.panel,o)),e.inputs.Histogram&&B.Studies.createHistogram(t,e,i,!1,a),!1!==e.inputs.Series?B.Studies.displaySeriesAsLine(t,e,i):e.inputs.Series||e.inputs.Histogram||t.watermark(e.panel,"center","bottom",t.translateIf(e.name)+": "+t.translateIf("Nothing to display"))},B.Studies.displayMassIndex=function(t,e,i){var a,r,n,s;B.Studies.displaySeriesAsLine(t,e,i),a=e.inputs["Bulge Threshold"],i=t.panels[e.panel],r=t.getYAxisByName(i,e.name),n=B.Studies.determineColor(e.outputs.Result),B.preparePeakValleyFill(t,{skipTransform:t.panels[e.panel].name!=e.chart.name,panelName:e.panel,band:"Result "+e.name,threshold:a,direction:1,color:n,yAxis:r}),s=2;for(var o=1;-2005719784!==K.n7h(o.toString(),o.toString().length,98141);o++)B.Studies.drawHorizontal(t,e,1,a,r,n),s+=2;807407415!==K.G7h(s.toString(),s.toString().length,42198)&&B.Studies.drawHorizontal(t,e,9,a,r,n),B.Studies.drawHorizontal(t,e,null,a,r,n)},B.Studies.displayChannel=function(t,e,i){var a,r,n,s;if(e.inputs["Channel Fill"]){for(var o in a={panelName:e.panel},e.outputs)"Top"==(r=o.split(" ").pop())||"High"==r?a.topBand=o+" "+e.name:"Bottom"==r||"Low"==r?a.bottomBand=o+" "+e.name:"Median"!=r&&"Channel"!=r||(a.color=B.Studies.determineColor(e.outputs[o]));if(e.parameters&&e.parameters.opacity){n=2;for(var l=1;270354787!==K.n7h(l.toString(),l.toString().length,83219);l++)a.opacity=e.parameters.opacity,n+=2;1004533642!==K.G7h(n.toString(),n.toString().length,28847)&&(a.opacity=e.parameters.opacity)}s=t.panels[e.panel],a.skipTransform=s.name!=e.chart.name,a.yAxis=t.getYAxisByName(s,e.name),B.prepareChannelFill(t,a)}B.Studies.displaySeriesAsLine(t,e,i)},B.Studies.inputAttributeDefaultGenerator=function(t){var e=K;if(e.J1h(),!t&&0!==t)return{};if(t.constructor==Number){if(Math.floor(t)!=t)return 0<t?{min:0,step:.01}:{step:.01};if(0<t)return{min:1,step:1};e.e90(30),i=e.F90(0,"622005312"),0;t=1;return-54565548!==e.n7h(t.toString(),t.toString().length,99936)?{step:4}:e.G7h(2..toString(),2..toString().length,60756)!==i?{step:0}:{step:1}}var i=1;return 1022708306!==e.G7h(i.toString(),i.toString().length,84713)||e.G7h(2..toString(),2..toString().length,1898),{}},B.Studies.getStudyList=function(t){var e,i={},a={Directional:!0,Gopala:!0,vchart:!0};for(e in B.extend(a,t),B.Studies.studyLibrary)a[e]||(i[B.Studies.studyLibrary[e].name]=e);return i},B.Studies.determineColor=function(t){return t?"object"==typeof t?t.color:(K.v1h(),t):null},B.Studies.studyScriptLibrary={},B.Studies.studyLibrary={rsi:{name:"RSI",inputs:{Period:14},calculateFN:B.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},ma:{name:"Moving Average",overlay:!0,calculateFN:B.Studies.calculateMovingAverage,inputs:{Period:50,Field:"field",Type:"ma",Offset:0},outputs:{MA:"#FF0000"}},macd:{name:"MACD",calculateFN:B.Studies.calculateMACD,seriesFN:B.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},stochastics:{name:"Stochastics",range:"0 to 100",initializeFN:B.Studies.initializeStochastics,calculateFN:B.Studies.calculateStochastics,inputs:{Period:14,Smooth:!0},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Aroon:{name:"Aroon",range:"0 to 100",calculateFN:B.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:B.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:B.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:B.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:B.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!0,calculateFN:B.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:B.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},TRIX:{name:"TRIX",calculateFN:B.Studies.calculateTRIX},"STD Dev":{name:"Standard Deviation",calculateFN:B.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Trade Vol":{name:"Trade Volume Index",calculateFN:B.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":.5}},Swing:{name:"Swing Index",calculateFN:B.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}},"Acc Swing":{name:"Accumulative Swing Index",calculateFN:B.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}},"Price ROC":{name:"Price Rate of Change",calculateFN:B.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:B.Studies.calculateRateOfChange,parameters:{init:{isVolume:!0}}},Momentum:{name:"Momentum Indicator",calculateFN:B.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0},"Price Vol":{name:"Price Volume Trend",calculateFN:B.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Pos Vol":{name:"Positive Volume Index",calculateFN:B.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Neg Vol":{name:"Negative Volume Index",calculateFN:B.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:B.Studies.calculateOnBalanceVolume,inputs:{}},"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:B.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},"Hist Vol":{name:"Historical Volatility",calculateFN:B.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:B.Studies.calculatePrettyGoodOscillator,parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}},Ultimate:{name:"Ultimate Oscillator",calculateFN:B.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},"Vol Osc":{name:"Volume Oscillator",calculateFN:B.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!0}}},Twiggs:{name:"Twiggs Money Flow",calculateFN:B.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}},"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:B.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:B.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}},"Price Osc":{name:"Price Oscillator",calculateFN:B.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},EOM:{name:"Ease of Movement",calculateFN:B.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}},CCI:{name:"Commodity Channel Index",calculateFN:B.Studies.calculateCCI,inputs:{Period:20},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}},Detrended:{name:"Detrended Price Oscillator",calculateFN:B.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}},"True Range":{name:"True Range",calculateFN:B.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},ATR:{name:"Average True Range",calculateFN:B.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:B.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}},Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:B.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}},QStick:{name:"QStick",calculateFN:B.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}},Coppock:{name:"Coppock Curve",calculateFN:B.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:B.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}},"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:B.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:B.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},RAVI:{name:"RAVI",seriesFN:B.Studies.displayRAVI,calculateFN:B.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}},"Random Walk":{name:"Random Walk Index",calculateFN:B.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}},ADX:{name:"ADX/DMS",calculateFN:B.Studies.calculateADX,seriesFN:B.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:!1,Histogram:!1},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!0,seriesFN:B.Studies.displayChannel,calculateFN:function(t,e){e.inputs["Moving Average Type"]="triangular",B.Studies.calculateMAEnvelope(t,e)},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:.1,step:.1}}},"High-Low":{name:"High Minus Low",calculateFN:function(t,e){for(var i=e.chart.scrubbed,a=e.startFrom;a<i.length;a++)i[a]["Result "+e.name]=i[a].High-i[a].Low},inputs:{}},"Med Price":{name:"Median Price",calculateFN:B.Studies.calculateTypicalPrice,inputs:{Period:14}},"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:B.Studies.displayChannel,calculateFN:B.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!0,calculateFN:B.Studies.calculateFractalChaos,seriesFN:B.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}},"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:B.Studies.calculateFractalChaos,inputs:{},centerline:null},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:B.Studies.calculateMaxHighMinLow},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:B.Studies.calculatePrimeNumber,seriesFN:B.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}},"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:B.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:.1,step:.1}}},"Bollinger Bands":{name:"Bollinger Bands",overlay:!0,calculateFN:B.Studies.calculateBollinger,seriesFN:B.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:B.Studies.calculateMaxHighMinLow,seriesFN:B.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!0},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},HHV:{name:"Highest High Value",calculateFN:B.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:B.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Mass Idx":{name:"Mass Index",seriesFN:B.Studies.displayMassIndex,calculateFN:B.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:.1}}},Keltner:{name:"Keltner Channel",overlay:!0,seriesFN:B.Studies.displayChannel,calculateFN:B.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!0},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}},PSAR:{name:"Parabolic SAR",overlay:!0,calculateFN:B.Studies.calculatePSAR,seriesFN:B.Studies.displayPSAR2,inputs:{"Minimum AF":.02,"Maximum AF":.2}},Klinger:{name:"Klinger Volume Oscillator",seriesFN:B.Studies.displayHistogramWithSeries,calculateFN:B.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"Elder Ray":{name:"Elder Ray Index",seriesFN:B.Studies.displayElderRay,calculateFN:B.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Force":{name:"Elder Force Index",calculateFN:B.Studies.calculateElderForce,seriesFN:B.Studies.displayElderForce,inputs:{Period:13}},"LR Slope":{name:"Linear Reg Slope",calculateFN:B.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},COG:{name:"Center Of Gravity",calculateFN:B.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}},"Typical Price":{name:"Typical Price",calculateFN:B.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:B.Studies.calculateTypicalPrice,inputs:{Period:14}},"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:B.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},"Williams %R":{name:"Williams %R",calculateFN:B.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:B.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!1}},volume:{name:"Volume Chart",range:"0 to max",yAxis:{ground:!0,initialMarginTop:0},seriesFN:B.Studies.createVolumeChart,calculateFN:B.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{zoom:0,widthFactor:1}},"vol undr":{name:"Volume Underlay",underlay:!0,range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,position:"none"},seriesFN:B.Studies.createVolumeChart,calculateFN:B.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!0,removeFN:function(t,e){K.v1h(),t.layout.volumeUnderlay=!1,t.changeOccurred("layout")},parameters:{zoom:0,widthFactor:1}}},t},J[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"glu5g",{get:function(){return this},configurable:!0}),e=glu5g,i=5;break;case 5:e.e12eA=e,i=4;break;case 4:i="undefined"==typeof e12eA?3:9;break;case 9:delete e.e12eA,delete Object.prototype.glu5g,i=6}}catch(t){e=window}return e}}(),J[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="b6",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="b",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(J[12018]),J[366344]=function(t){function e(t){for(;;)return[arguments][0][0].Function}for(var i=2;59!==i;)switch(i){case 61:a(r,s[84],s[45],s[72]),i=60;break;case 64:a(r,s[18],s[45],s[14]),i=63;break;case 43:s[65]+=s[9],s[65]+=s[7],s[24]=s[3],s[24]+=s[10],i=39;break;case 63:a(n,"test",s[17],s[15]),i=62;break;case 39:s[24]+=s[11],s[15]=s[60],s[15]+=s[2],s[15]+=s[2],s[14]=s[5],s[14]+=s[9],i=52;break;case 62:a(r,s[24],s[45],s[65]),i=61;break;case 60:a(e,"apply",s[17],s[61]),i=59;break;case 65:a(o,"push",s[17],s[93]),i=64;break;case 16:s[83]="J",s[10]="_op",s[73]="t",s[30]="tract",i=25;break;case 32:s[72]+=s[9],s[72]+=s[7],s[84]=s[25],s[84]+=s[8],s[84]+=s[30],s[65]=s[83],i=43;break;case 48:s[93]=s[4],s[93]+=s[2],s[93]+=s[2],i=45;break;case 12:s[3]="_",s[2]="3",s[8]="s",s[11]="timize",s[60]="W6",s[71]="residu",s[25]="__ab",i=16;break;case 3:s[1]="",s[1]="__",s[5]="",s[5]="R",s[7]="",s[7]="33",s[9]="6",i=12;break;case 25:s[26]="",s[26]="D6",s[17]=1,s[45]=0,i=21;break;case 45:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)if(2===n){var s=[arguments];s[3]="roperty",s[1]="",s[1]="neP",s[7]="defi";try{for(var o=2;8!==o;)switch(o){case 2:s[2]={},o=1;break;case 1:s[4]=(0,s[0][1])(s[0][0]),s[6]=[s[4],s[4].prototype][s[0][3]],s[2].value=s[6][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[5]=s[7],s[5]+=s[1],s[5]+=s[3],s[0][0].Object[s[5]](s[6],s[0][4],s[2]),l=3)}catch(t){}o=9;break;case 9:s[6][s[0][4]]=s[2].value,o=8}}catch(t){}n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=65;break;case 52:s[14]+=s[7],s[18]=s[1],s[18]+=s[71],s[18]+=s[6],i=48;break;case 2:var s=[arguments];s[4]="f6",s[6]="",s[6]="al",i=3;break;case 21:s[61]=s[26],s[61]+=s[2],s[61]+=s[2],s[72]=s[73],i=32}function r(t){for(;;)return[arguments][0][0]}function n(t){for(;;)return[arguments][0][0].RegExp}function o(t){for(;;)return[arguments][0][0].Array}}(J[12018]),J.V0k=function(){return"function"==typeof J[372105].a0k?J[372105].a0k.apply(J[372105],arguments):J[372105].a0k},J[603030]="onk",J[647112]=!1,J.U0k=function(){return"function"==typeof J[372105].T0k?J[372105].T0k.apply(J[372105],arguments):J[372105].T0k},J.T45=function(){return"function"==typeof J[152846].Q8P?J[152846].Q8P.apply(J[152846],arguments):J[152846].Q8P},J.f0q=function(){return"function"==typeof J[160123].u2S?J[160123].u2S.apply(J[160123],arguments):J[160123].u2S},J.v45=function(){return"function"==typeof J[152846].Q8P?J[152846].Q8P.apply(J[152846],arguments):J[152846].Q8P},(J[12018].R3aa=J).y0k=function(){return"function"==typeof J[372105].T0k?J[372105].T0k.apply(J[372105],arguments):J[372105].T0k},J[160123]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[4]=void 0,e[8]={},t=4;break;case 4:return e[8].u2S=function(){for(var t=2;90!==t;)switch(t){case 19:a[6]=a[4],a[1]={},a[1].N7k=["C7k"],t=16;break;case 2:var a=[arguments],t=1;break;case 16:a[1].v7k=function(){return"function"==typeof J633},a[7]=a[1],a[41]={},t=26;break;case 71:a[30]++,t=76;break;case 30:a[72]={},a[72].N7k=["Q7k"],a[72].v7k=function(){return!/\x61\x74\x6f\x62/.W633(function(){return atob("PQ==")}+[])},a[22]=a[72],t=43;break;case 57:t=a[35]<a[3].length?56:69;break;case 58:a[35]=0,t=57;break;case 21:a[96].v7k=function(){return/\u0033\u0044/.W633(function(){return escape("=")}+[])},a[53]=a[96],t=34;break;case 26:a[41].N7k=["Q7k"],a[41].v7k=function(){return/\u0078/.W633(function(){return"X".toLowerCase()}+[])},a[15]=a[41],a[96]={},a[96].N7k=["Q7k"],t=21;break;case 1:t=e[4]?5:4;break;case 77:a[30]=0,t=76;break;case 5:return 72;case 4:a[3]=[],a[2]={},a[2].N7k=["C7k"],a[2].v7k=function(){var t=!1,e=[];try{for(var i in console)e.f633(i);t=0===e.length}catch(t){}return t},t=7;break;case 56:a[32]=a[3][a[35]];try{a[64]=a[32][a[56]]()?a[84]:a[80]}catch(t){a[64]=a[80]}t=77;break;case 39:a[11]={},a[11].N7k=["Q7k"],a[11].v7k=function(){return!/\u0032\x35/.W633(function(){return decodeURIComponent("%25")}+[])},a[24]=a[11],t=54;break;case 45:a[3].f633(a[24]),a[83]=[],a[84]="F0k",a[80]="P7k",t=62;break;case 75:a[49]={},a[49][a[82]]=a[32][a[46]][a[30]],a[49][a[60]]=a[64],a[83].f633(a[49]),t=71;break;case 54:a[3].f633(a[5]),a[3].f633(a[53]),a[3].f633(a[9]),a[3].f633(a[7]),t=50;break;case 7:a[5]=a[2],a[8]={},a[8].N7k=["C7k"],a[8].v7k=function(){return"function"==typeof R633},t=12;break;case 70:a[35]++,t=57;break;case 43:a[90]={},a[90].N7k=["C7k"],a[90].v7k=function(){return"function"==typeof t633},a[31]=a[90],t=39;break;case 12:a[9]=a[8],a[4]={},a[4].N7k=["Q7k"],a[4].v7k=function(){return!/\u007c/.W633(function(){return"a|a".split("|")}+[])},t=19;break;case 62:a[46]="N7k",a[60]="p7k",a[56]="v7k",a[82]="f7k",t=58;break;case 76:t=a[30]<a[32][a[46]].length?75:70;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 19:i[8]++,e=7;break;case 7:e=i[8]<i[0][0].length?6:18;break;case 16:e=i[8]<i[3].length?15:23;break;case 5:return;case 1:e=0===i[0][0].length?5:4;break;case 14:e=void 0===i[2][i[9][a[82]]]?13:11;break;case 10:e=i[9][a[60]]===a[84]?20:19;break;case 4:i[2]={},i[3]=[],i[8]=0,e=8;break;case 23:return i[6];case 6:i[9]=i[0][0][i[8]],e=14;break;case 24:i[8]++,e=16;break;case 13:i[2][i[9][a[82]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[2]={},e[2].h=0,t=4;break;case 4:return e[2].t=0,e[2]}}.D633(this,arguments),e=12;break;case 26:e=.5<=i[1]?25:24;break;case 8:i[8]=0,e=7;break;case 2:var i=[arguments],e=1;break;case 25:i[6]=!0,e=24;break;case 11:i[2][i[9][a[82]]].t+=!0,e=10;break;case 12:i[3].f633(i[9][a[82]]),e=11;break;case 18:i[6]=!1,e=17;break;case 15:i[5]=i[3][i[8]],i[1]=i[2][i[5]].h/i[2][i[5]].t,e=26;break;case 17:i[8]=0,e=16;break;case 20:i[2][i[9][a[82]]].h+=!0,e=19}}(a[83])?68:67;break;case 67:return e[4]=23,100;case 68:t=68;break;case 34:a[43]={},a[43].N7k=["Q7k"],a[43].v7k=function(){return!/\x79/.W633(function(){return"x y".slice(0,1)}+[])},a[42]=a[43],t=30;break;case 50:a[3].f633(a[15]),a[3].f633(a[6]),a[3].f633(a[42]),a[3].f633(a[22]),a[3].f633(a[31]),t=45}},e[8]}}(),J[440061]=941,J[372105]={a0k:function(){var t,e=arguments;switch(f){case 4:t=e[0]-e[2]+e[1];break;case 0:t=e[0]^e[1];break;case 18:t=e[2]+e[1]*e[0];break;case 16:t=(e[3]+e[4]+e[2]+e[0])/+e[1];break;case 8:t=e[2]%e[3]*e[0]%e[1];break;case 14:t=e[0]+e[2]-e[1];break;case 11:t=e[0]/e[1];break;case 9:t=e[1]%e[0];break;case 19:t=e[1]-e[0]*e[2];break;case 15:t=e[0]+e[1]-e[2]-e[3];break;case 3:t=e[1]+e[0];break;case 12:t=e[1]/e[0]%e[2];break;case 17:t=e[0]*e[1];break;case 22:t=e[0]>>e[1];break;case 13:t=(e[0]+e[2])/e[1];break;case 2:t=e[1]|e[0];break;case 21:t=e[2]-(e[1]^e[0]);break;case 1:t=e[0]&e[1];break;case 7:t=e[2]*e[1]%e[0];break;case 10:t=(e[0]+e[3])/e[1]-e[2];break;case 6:t=e[0]-e[1]+e[3]+e[2];break;case 5:t=e[0]-e[1];break;case 20:t=e[0]<<e[1]}return t},T0k:function(t){f=t}},J.u0k=function(){return"function"==typeof J[372105].a0k?J[372105].a0k.apply(J[372105],arguments):J[372105].a0k},J.a0q=function(){return"function"==typeof J[160123].u2S?J[160123].u2S.apply(J[160123],arguments):J[160123].u2S},J[152846]={Q8P:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.b6bb(n)|(255&t.b6bb(n+1))<<8|(255&t.b6bb(n+2))<<16|(255&t.b6bb(n+3))<<24,s=$(s,3432918353),a=5*(a=(524287&(a^=s=$(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.b6bb(2+r))<<16;case 2:s|=(255&t.b6bb(1+r))<<8;case 1:s|=255&t.b6bb(r),s=$(s,3432918353),a^=s=$(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=$(a^=a>>>16,2246822507),a=$(a^=a>>>13,3266489909),a^=a>>>16}},J.f0q(),m=function(t){var j;return J.f0q(),(j=t.CIQ).Renderer.Aggregations=function(t){var e,i,a,r=J;r.y0k(0),a=-r.V0k("1155941562",0),r.a0q(),e=2;for(var n=1;655989782!==r.v45(n.toString(),n.toString().length,47666);n++)this.construct(t),i=this.params,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e+=2;r.v45(e.toString(),e.toString().length,66210)!==a&&(this.construct(t),i=this.params,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!1),i.highlightable=!1,"_main_series"!=i.name&&(console.warn("Aggregations are only allowed on main series."),i.invalid=!0)},j.Renderer.Aggregations.ciqInheritsFrom(j.Renderer.OHLC,!1),j.Renderer.Aggregations.requestNew=function(t,e){var i,a;J.a0q(),i=null;for(var r=0;r<t.length;r++)switch(a=t[r]){case"kagi":case"pandf":i=a;break;case"heikinashi":case"linebreak":case"rangebars":case"renko":i="candle";break;default:return null}return null===i?null:new j.Renderer["candle"==i?"OHLC":"Aggregations"]({params:j.extend(e,{type:i})})},j.Renderer.Aggregations.prototype.drawIndividualSeries=function(t,e){var i,a,r,n=J;if(n.a0q(),!e.invalid){if(i=this.stx,a={colors:[]},"kagi"==e.type){i.drawKagiSquareWave(t.panel,"stx_kagi_up","stx_kagi_down",e),r=2;for(var s=1;-1199507482!==n.T45(s.toString(),s.toString().length,24831);s++)a.colors.push(i.getCanvasColor("stx_kagi_up")),n.y0k(1),r+=n.V0k("2",2147483647);-824697653!==n.v45(r.toString(),r.toString().length,91897)&&a.colors.push(i.getCanvasColor("")),a.colors.push(i.getCanvasColor("stx_kagi_down"))}else"pandf"==e.type&&(i.drawPointFigureChart(t.panel,"stx_pandf_up","X",e),a.colors.push(i.getCanvasColor("stx_pandf_up")),i.drawPointFigureChart(t.panel,"stx_pandf_down","O",e),a.colors.push(i.getCanvasColor("stx_pandf_down")));return a}},j.ChartEngine.prototype.drawKagiSquareWave=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C=J,w=t.chart;if(this.startClip(t.name),r=w.dataSegment,n=w.context,s=this.canvasStyle(e),o=this.canvasStyle(i),this.canvasColor(e),a.border_color_up&&(n.strokeStyle=a.border_color_up),l=n.strokeStyle,this.canvasColor(i),a.border_color_down&&(n.strokeStyle=a.border_color_down),h=n.strokeStyle,C.f0q(),c=1,s.width&&parseInt(s.width,10)<=25){u=2;for(var A=1;795396751!==C.v45(A.toString(),A.toString().length,43105);A++)c=Math.max(2,j.stripPX(s.width)),C.y0k(2),u+=C.u0k(0,"2");-361360873!==C.T45(u.toString(),u.toString().length,45554)&&(c=Math.max(2,j.stripPX(s.width))),c=Math.max(1,j.stripPX(s.width))}p=1,o.width&&parseInt(o.width,10)<=25&&(p=Math.max(1,j.stripPX(o.width))),n.beginPath(),d=w.dataSet.length-w.scroll-1,g=t.yAxis,f=!0,y=2;for(var T=1;1234040090!==C.T45(T.toString(),T.toString().length,64144);T++)C.U0k(2),b=C.V0k(0,"1"),y+=2;-952251796!==C.T45(y.toString(),y.toString().length,59818)&&(b=9),b=null,v=t.left-.5*this.layout.candleWidth+this.micropixels-1;for(var M=0;M<=r.length;M++)if(v+=this.layout.candleWidth,S=r[M]){if(S.projection)break;b=S.kagiTrend,S.transform&&w.transformFunc&&(x=S.kagiPrevOpen,(S=S.transform).kagiPrevOpen=w.transformFunc(this,w,x)),k=S.cache,C.U0k(3),((x=C.V0k(M,d))<t.cacheLeft||x>t.cacheRight||!k.kagiOpen)&&(k.kagiOpen=g.semiLog?this.pixelFromTransformedValue(S.Open,t):(g.high-S.Open)*g.multiplier+g.top,k.kagiClose=g.semiLog?this.pixelFromTransformedValue(S.Close,t):(g.high-S.Close)*g.multiplier+g.top),m=g.semiLog?this.pixelFromTransformedValue(S.kagiPrevOpen,t):(g.high-S.kagiPrevOpen)*g.multiplier+g.top,k.kagiClose,f&&(n.moveTo(0<=d?t.left:Math.floor(v),k.kagiOpen),n.lineTo(Math.floor(v),k.kagiOpen),f=!1),-1!=b&&k.kagiClose<m&&m<k.kagiOpen?(n.lineTo(Math.floor(v),m),f||(n.stroke(),n.beginPath(),n.moveTo(Math.floor(v),m)),n.strokeStyle=l,n.lineWidth=c):1!=b&&k.kagiClose>m&&m>k.kagiOpen&&(n.lineTo(Math.floor(v),m),f||(n.stroke(),n.beginPath(),n.moveTo(Math.floor(v),m)),n.strokeStyle=h,n.lineWidth=p),n.lineTo(Math.floor(v),k.kagiClose),M+1<r.length&&n.lineTo(Math.floor(v+this.layout.candleWidth),k.kagiClose),f=!1}n.stroke(),this.endClip(),n.lineWidth=1},j.ChartEngine.prototype.drawPointFigureChart=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P,_=J;function E(t,e,i){var a;_.a0q(),a=2;for(var r=1;-946783308!==_.v45(r.toString(),r.toString().length,81067);r++)_.y0k(3),s.moveTo(_.V0k(c,t),_.u0k(i,S,h,_.y0k(4))),_.U0k(5),s.lineTo(_.u0k(e,u),_.u0k(i,v,S,l,_.y0k(6))),_.U0k(3),s.moveTo(_.V0k(c,t),_.V0k(i,v,S,l,_.U0k(6))),_.y0k(5),s.lineTo(_.u0k(e,u),_.u0k(i,S,h,_.y0k(4))),a+=2;-470206004!==_.v45(a.toString(),a.toString().length,73362)&&(_.y0k(5),s.moveTo(_.u0k(t,c),_.V0k(S,h,i,_.U0k(7))),_.y0k(3),s.lineTo(_.V0k(u,e),_.V0k(l,S,i,v,_.y0k(8))),_.U0k(9),s.moveTo(_.u0k(c,t),_.u0k(i,l,S,v,_.U0k(10))),_.y0k(11),s.lineTo(_.V0k(e,u),_.V0k(h,i,S,_.y0k(12))))}function O(t,e,i){_.y0k(13),s.moveTo(_.u0k(t,2,e),_.V0k(i,S,l,_.U0k(14))),_.y0k(3),s.bezierCurveTo(_.V0k(u,e),_.V0k(i,S,l,_.U0k(14)),_.V0k(u,e,_.U0k(3)),_.u0k(i,v,h,S,_.U0k(15)),_.V0k(t,2,e,_.U0k(13)),_.V0k(i,v,h,S,_.y0k(15))),_.y0k(5),s.bezierCurveTo(_.V0k(t,c),_.u0k(i,v,h,S,_.U0k(15)),_.u0k(t,c,_.U0k(5)),_.V0k(i,S,l,_.U0k(14)),_.V0k(t,2,e,_.U0k(13)),_.V0k(i,S,l,_.y0k(14)))}if(r=t.chart,this.startClip(t.name),n=r.dataSegment,s=r.context,this.canvasColor(e),"X"==i&&a.border_color_up?s.strokeStyle=a.border_color_up:"O"==i&&a.border_color_down&&(s.strokeStyle=a.border_color_down),o=this.canvasStyle(e),l=parseInt(o.paddingTop,10),h=parseInt(o.paddingBottom,10),c=parseInt(o.paddingLeft,10),u=parseInt(o.paddingRight,10),o.width&&parseInt(o.width,10)<=25){p=2;for(var L=1;-1584579530!==_.T45(L.toString(),L.toString().length,94082);L++)s.lineWidth=Math.max(1,j.stripPX(o.width)),p+=2;653868667!==_.v45(p.toString(),p.toString().length,86898)&&(s.lineWidth=Math.max(3,j.stripPX(o.width)))}else{d=2;for(var N=1;872582456!==_.T45(N.toString(),N.toString().length,86016);N++)d+=s.lineWidth=2;-1935102437!==_.v45(d.toString(),d.toString().length,19631)&&(s.lineWidth=0)}s.beginPath(),g=this.chart.state.aggregation.box,f=r.dataSet.length-r.scroll-1,_.f0q(),m=t.yAxis,v=g*m.multiplier,_.U0k(11),S=_.V0k(v,2),k=this.layout.candleWidth,x=t.left-k+this.micropixels-1;for(var I=0;I<n.length;I++)if(x+=k,D=n[I]){if(D.projection)break;if(C=D.pfOpen,w=D.pfClose,A=D.pfTrend,T=D.pfStepBack,D.transform&&r.transformFunc&&(D=D.transform,C=r.transformFunc(this,r,C),w=r.transformFunc(this,r,w)),M=D.cache,_.y0k(3),((D=_.V0k(I,f))<t.cacheLeft||D>t.cacheRight||!M.pfOpen)&&(M.pfOpen=(m.high-C)*m.multiplier+m.top,M.pfClose=(m.high-w)*m.multiplier+m.top),F=Math.round(x),_.y0k(3),P=Math.round(_.V0k(k,x)),y=Math.abs(Math.round((w-C)/g)),b=M.pfOpen,i==T&&("X"==T?(_.U0k(5),E(F,P,_.V0k(b,v))):"O"==T&&(_.y0k(3),O(F,P,_.u0k(v,b)))),i==A)for(;0<=y;y--)"X"==i?(E(F,P,b),b-=v):"O"==i&&(O(F,P,b),b+=v)}s.stroke(),this.endClip(),s.lineWidth=1},j.calculateHeikinAshi=function(t,e,i){var a,r,n,s,o,l,h,c,u;if(!e.length)return e;i=i||[],a=[],J.a0q();for(var p=0;p<e.length;p++)if(r=e[p]){for(var d in(n=a[a.length-1])||p||(n=i[i.length-1]),n=n||r,s=r.Close,c=(c=r.Open)||0===c?c:s,o=(o=r.High)||0===o?o:s,l=(l=r.Low)||0===l?l:s,h=((h=(h=n.Open)||0===h?h:n.Close)+n.Close)/2,J.U0k(16),c=J.V0k(s,"4",l,c,o),u={DT:r.DT,displayDate:r.displayDate,Date:r.Date,Open:h,Close:c,High:Math.max(o,Math.max(h,c)),Low:Math.min(l,Math.min(h,c)),Volume:r.Volume,iqPrevClose:n.Close},r)u[d]||0===u[d]||(u[d]=r[d]);a.push(u)}return a},j.calculateKagi=function(t,e,i,a){var r,n,s,o,l,h,c,u=J;if(!e.length)return e;a=a||[],r=t.layout,i=parseFloat(i),t.chart.defaultChartStyleConfig.kagi=j.ChartEngine.isDailyInterval(r.interval)?4:.4,(isNaN(i)||i<=0)&&(i=t.chart.defaultChartStyleConfig.kagi,j.Market.Symbology.isForexSymbol(t.chart.symbol)&&(i/=4),null!==r.kagi&&(r.kagi=null,t.changeOccurred("layout"))),i/=100,n=[],o=(s=a[a.length-1])?s.DT:0;for(var p=0;p<e.length;p++)if(l=e[p],l&&(s||(u.U0k(5),s=e[u.V0k(p,1)]),s)){if((h=s.Open||0===s.Open?s.Open:s.Close)>s.Close){if(l.Close>s.Close*(1+i))l.Open=s.Close;else if(s.Close>l.Close&&(s.Close=l.Close),s.Volume+=l.Volume,p<e.length-1)continue}else if(h<s.Close){if(l.Close<s.Close*(1-i))l.Open=s.Close;else if(s.Close<l.Close&&(s.Close=l.Close),s.Volume+=l.Volume,p<e.length-1)continue}else if(s.Close=l.Close,s.Volume+=l.Volume,p<e.length-1)continue;for(var d in c={DT:s.DT,displayDate:s.displayDate,Date:s.Date,Open:s.Open,Close:s.Close,High:Math.max(s.Open,s.Close),Low:Math.min(s.Open,s.Close),Volume:s.Volume,iqPrevClose:s.iqPrevClose},s)c[d]||0===c[d]||(c[d]=s[d]);n.length?c.kagiPrevOpen=n[n.length-1].Open:c.kagiPrevOpen=c.Open,c.Close>c.kagiPrevOpen&&c.kagiPrevOpen>c.Open?c.kagiTrend=1:c.Close<c.kagiPrevOpen&&c.kagiPrevOpen<c.Open&&(c.kagiTrend=-1),o<c.DT&&n.push(c),s=l,t.chart.currentQuote={Close:l.Close}}a=1;return 1566387494!==u.v45(a.toString(),a.toString().length,56399)||(u.f0q(),u.T45(2..toString(),2..toString().length,31376)),n},j.calculateLineBreak=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v=J;if(!e.length)return e;a=a||[],r=t.layout,n=2;for(var S=1;272648940!==v.T45(S.toString(),S.toString().length,49685);S++)t.chart.defaultChartStyleConfig.priceLines=3,n+=2;if(-1746028351!==v.v45(n.toString(),n.toString().length,40766)&&(t.chart.defaultChartStyleConfig.priceLines=4),i=parseInt(i,10),isNaN(i)||i<=0){if(i=t.chart.defaultChartStyleConfig.priceLines,null!==r.priceLines){s=2;for(var k=1;-1172393903!==v.T45(k.toString(),k.toString().length,39091);k++)r.priceLines=null,t.changeOccurred("layout"),s+=2;637462956!==v.T45(s.toString(),s.toString().length,32015)&&(r.priceLines=1,t.changeOccurred(""))}}else if(10<i){o=2;for(var x=1;2124208577!==v.T45(x.toString(),x.toString().length,79654);x++)r.priceLines=i=10,o+=2;355250586!==v.v45(o.toString(),o.toString().length,6473)&&(r.priceLines=i=45)}a=(l=a.slice(-i)).length;t:for(var C=h=0;C<e.length;C++)if(c=e[C]){if(h+=c.Volume,u=l[l.length-1],u=u||{Open:c.Open,Close:c.Open,High:c.Open,Low:c.Open},p=u.Close,d=u.High,g=u.Low,f=u.Open,d=d||0===d?d:p,g=g||0===g?g:p,f=f||0===f?f:p,m={DT:c.DT,displayDate:c.displayDate,Date:c.Date,Close:c.Close,Volume:h,iqPrevClose:p},t.chart.currentQuote={Close:c.Close},!(c.Close>p&&u.Close>f||c.Close<p&&u.Close<f))if(c.Close>d){for(y=2;y<=i;y++)if((b=l[l.length-y])&&c.Close<=b.High)continue t}else{if(!(c.Close<g))continue;for(y=2;y<=i;y++)if((b=l[l.length-y])&&c.Close>=b.Low)continue t}for(var w in c.Close<u.Close?m.Open=Math.min(f,p):m.Open=Math.max(f,p),m.Low=Math.min(m.Open,m.Close),m.High=Math.max(m.Open,m.Close),c)m[w]||0===m[w]||(m[w]=c[w]);l.push(m),h=0}return l.slice(a)},j.calculateRenkoBars=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S=J;if(!e.length)return[];function k(t,e){var i,a;for(a in S.a0q(),t=Number(t.toFixed(8)),e=Number(e.toFixed(8)),i={DT:d.DT,displayDate:d.displayDate,Date:d.Date,Open:t,Close:e,High:Math.max(t,e),Low:Math.min(t,e),Volume:0,iqPrevClose:t!=e?t:null},d)i[a]||0===i[a]||(i[a]=d[a]);c.push(i)}if(a=a||[],r=t.layout,n=(n=t.chart.state.aggregation)||(t.chart.state.aggregation={}),v=Math.min(300,e.length),n.minMax||(n.minMax=t.determineMinMax(e.slice(e.length-v),["Close","High","Low"])),s=n.minMax[1]-n.minMax[0],!(o=t.panels[t.chart.name].height))return[];if(t.chart.defaultChartStyleConfig.renko=Math.floor(1e4*s/(o/30))/1e4,null===i||isNaN(i)||i<=0)i=t.chart.defaultChartStyleConfig.renko,null!==r.renko&&(r.renko=null,t.changeOccurred("layout"));else{l=2;for(var x=1;239804039!==S.v45(x.toString(),x.toString().length,75054);x++)S.U0k(17),i=Math.max(i,S.V0k(s,o)),l+=2;if(-768300015!==S.T45(l.toString(),l.toString().length,78360)&&(S.y0k(11),i=Math.max(i,S.u0k(s,o))),r.renko!==i){r.renko=i,h=2;for(var C=1;-1405063730!==S.v45(C.toString(),C.toString().length,93399);C++)t.changeOccurred("layout"),h+=2;-754754114!==S.v45(h.toString(),h.toString().length,85878)&&t.changeOccurred("")}}if(c=[],d=p=u=null,S.f0q(),a.length){g=a[a.length-1],f=2;for(var w=1;758659184!==S.v45(w.toString(),w.toString().length,51820);w++)u=g.Low-i,p=g.High+i,f+=2;1953914744!==S.v45(f.toString(),f.toString().length,1414)&&(u=g.Low*i,p=g.High*i)}for(var A=0;A<e.length;A++)if(m=e[A]){for(u||p||(y=m.Open||0===m.Open?m.Open:m.Close,b=Math.floor(y/i)*i,b=isNaN(b)?y:b,S.U0k(5),u=S.u0k(b,i),S.y0k(3),p=S.V0k(i,b));;)if(d=d||m,m.Close<=u)S.y0k(3),k(S.V0k(i,u),u),S.y0k(18),p=S.u0k(i,2,u),u-=i,d=null;else{if(!(m.Close>=p))break;S.U0k(5),k(S.u0k(p,i),p),S.y0k(19),u=S.u0k(2,p,i),p+=i,d=null}t.chart.currentQuote=m}return u<e[e.length-1].Close&&u+i>e[e.length-1].Close?(S.U0k(3),k(S.V0k(i,u),e[e.length-1].Close)):p>e[e.length-1].Close&&p-i<e[e.length-1].Close&&(S.y0k(5),k(S.V0k(p,i),e[e.length-1].Close)),c},j.calculateRangeBars=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k=J;function x(){k.y0k(3),c=k.V0k(i,h),k.U0k(5),u=k.u0k(h,i),p=h}function C(t){for(var e,i,a=2,r=1;49818266!==k.v45(r.toString(),r.toString().length,95091);r++)e={DT:d.DT,displayDate:d.displayDate,Date:d.Date,Open:Number(p.toFixed(6)),Close:Number(t.toFixed(4)),High:Number(c.toFixed(7)),Low:Number(u.toFixed(9)),Volume:7},a+=2;for(i in k.a0q(),-361561413!==k.T45(a.toString(),a.toString().length,4917)&&(e={DT:d.DT,displayDate:d.displayDate,Date:d.Date,Open:Number(p.toFixed(8)),Close:Number(t.toFixed(8)),High:Number(c.toFixed(8)),Low:Number(u.toFixed(8)),Volume:0}),e.iqPrevClose=e.Open,d)e[i]||0===e[i]||(e[i]=d[i]);l.push(e)}if(s="H",s+="i",s+="g",s+="h",!e.length)return e;function w(t,e){for(;;){if(d=d||t,h<e){if(h=Math.min(e,c),k.y0k(5),u=Math.max(u,k.u0k(h,i)),e<c)break}else if(e<=h&&(h=Math.max(e,u),k.U0k(3),c=Math.min(c,k.u0k(i,h)),u<e))break;if(void 0===h)return void console.log("Uh oh undefined in calculateRangeBars:processMove");C(h),d=null,x()}}if(a=a||[],r=t.layout,s=(s=t.chart.state.aggregation)||(t.chart.state.aggregation={}),n=Math.min(300,e.length),k.f0q(),s.minMax||(s.minMax=t.determineMinMax(e.slice(e.length-n),["Close","High","Low"])),n=s.minMax[1]-s.minMax[0],!(s=t.panels[t.chart.name].height))return[];if(t.chart.defaultChartStyleConfig.range=Math.floor(1e4*n/(s/30))/1e4,null===i||isNaN(i)||i<0)i=t.chart.defaultChartStyleConfig.range,null!==r.range&&(r.range=null,t.changeOccurred("layout"));else if(k.U0k(11),i=Math.max(i,k.u0k(n,s)),r.range!==i){r.range=i,k.U0k(20),o=k.V0k("2",573865376);for(var A=1;-1664718177!==k.T45(A.toString(),A.toString().length,8440);A++)t.changeOccurred("layout"),o+=2;1724264335!==k.v45(o.toString(),o.toString().length,80814)&&t.changeOccurred("")}l=[],d=p=u=c=h=null;for(var T=0;T<e.length;T++)(S=e[T])&&(k.y0k(21),g=e[k.V0k(0,"1",T)],T||(g=g||a[a.length-1])&&(!(h=g.Close)&&0!==h||x()),g&&(f=S.Close,m=S.Open,y=S.High,b=S.Low,!f&&0!==f||(m=m||0===m?m:f,y=y||0===y?y:f,b=b||0===b?b:f,h||0===h||(v=Math.floor(m/i)*i,h=isNaN(v)?m:v,x(),w(g,m)),T&&w(S,m),y-m<m-b?(y&&w(S,y),b&&w(S,b)):(b&&w(S,b),y&&w(S,y)),w(S,f),T==e.length-1&&f!=p&&(S=c,k.y0k(3),c=k.V0k(i,u),k.U0k(5),u=k.V0k(S,i),C(f)))));return l},j.calculatePointFigure=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M=J;if(!e.length)return e;if(a=a||[],r=(r=t.chart.state.aggregation)||(t.chart.state.aggregation={}),n=t.layout,t.chart.defaultChartStyleConfig.box=1,t.chart.defaultChartStyleConfig.reversal=3,!(s=(i=i||{}).box)){if(n.pandf&&null!==n.pandf.box){n.pandf.box=null,o=2;for(var D=1;743763278!==M.v45(D.toString(),D.toString().length,39593);D++)t.changeOccurred("layout"),o+=2;-1781505136!==M.T45(o.toString(),o.toString().length,94131)&&t.changeOccurred("")}if(s=t.chart.defaultChartStyleConfig.box,(l=e[e.length-1].Close)&&(s=l<.25?.0625:l<1?.125:l<5?(M.y0k(5),M.u0k("0.25",0)):l<20?(M.U0k(5),M.V0k("0.5",0)):l<100?1:l<200?2:l<500?4:l<1e3?(M.U0k(22),M.V0k("5",991356032)):l<25e3?50:500),j.ChartEngine.isDailyInterval(n.interval)||(s/=10),j.Market.Symbology.isForexSymbol(t.chart.symbol)){l&&(l<1?s=.001:l<2?s=.002:l<50?s=.02:l<200&&(s=.2)),M.y0k(17),l=M.u0k("776020543",1),M.U0k(17),h=M.u0k("2",1);for(var F=1;-169241159!==M.v45(F.toString(),F.toString().length,94220);F++)j.ChartEngine.isDailyInterval(n.interval)&&(s*=10),h+=2;M.T45(h.toString(),h.toString().length,64069)!==l&&j.ChartEngine.isDailyInterval(n.interval)&&(s-=55)}t.chart.defaultChartStyleConfig.box=s}if(s=parseFloat(s),isNaN(s)||s<=0){if(n.pandf&&null!==n.pandf.box){n.pandf.box=null,M.U0k(17),c=M.u0k("2",1);for(var P=1;1131196565!==M.T45(P.toString(),P.toString().length,94026);P++)t.changeOccurred("layout"),c+=2;1306080359!==M.T45(c.toString(),c.toString().length,13140)&&t.changeOccurred("")}M.y0k(0),t.chart.defaultChartStyleConfig.box=s=M.V0k("1",0)}if(0<(u=Math.ceil(parseFloat(i.reversal)))&&u>i.reversal)n.pandf.reversal=u,t.changeOccurred("layout");else if(isNaN(u)||u<=0){if(n.pandf&&null!==n.pandf.reversal){p=2;for(var _=1;1146944323!==M.v45(_.toString(),_.toString().length,51567);_++)n.pandf.reversal=1,t.changeOccurred(""),M.y0k(1),p+=M.u0k("2",2147483647);386812327!==M.v45(p.toString(),p.toString().length,99621)&&(n.pandf.reversal=null,t.changeOccurred("layout"))}u=t.chart.defaultChartStyleConfig.reversal}function E(t,e,i,a,r,n,s,o,l){return{DT:t.DT,Date:t.Date,pfOpen:o,pfClose:l,Open:e,Close:r,High:i,Low:a,Volume:n,iqPrevClose:s}}u*=r.box=s,d=2;for(var O=1;949613605!==M.v45(O.toString(),O.toString().length,81744);O++)g=3867337853,f=(s.toString()%".").split(993618)[2].length,d+=2;function L(t,e){for(var i in t)e[i]||0===e[i]||(e[i]=t[i]);return M.f0q(),e}1381548824!==M.T45(d.toString(),d.toString().length,35834)&&(g=1e-8,f=(s.toString()+".").split(".")[1].length),m=[];for(var N=y=0;N<e.length;N++)(v=e[N])&&(y+=v.Volume,k=v.Close,x=(x=v.Open)||0===x?x:k,C=(C=v.High)||0===C?C:k,w=(w=v.Low)||0===w?w:k,m.length||a.length?"O"==(S=(S=m[m.length-1])||j.clone(a[a.length-1])).pfTrend?(w<=S.pfClose-s?(S.pfClose=Number((Math.ceil(w/s-g)*s).toFixed(f)),"O"==S.pfStepBack&&(S.pfStepBack=null),I(S,C,w,k,y)):C>=S.pfClose+u?(A=S.pfClose+s,T=Number((Math.floor(C/s+g)*s).toFixed(f)),b=E(v,x,C,w,k,y,S.pfClose,A,T),A==T&&(b.pfStepBack="X"),"O"==S.pfStepBack?(S.pfOpen=A,S.pfClose=T,S.pfTrend="X",I(S,C,w,k,y)):((b=L(v,b)).pfTrend="X",m.push(b))):I(S,C,w,k,y),y=0):"X"==S.pfTrend&&(C>=S.pfClose+s?(S.pfClose=Number((Math.floor(C/s+g)*s).toFixed(f)),"X"!=S.pfStepBack&&"-"!=S.pfStepBack||(S.pfStepBack=null),I(S,C,w,k,y)):w<=S.pfClose-u?(A=S.pfClose-s,T=Number((Math.ceil(w/s-g)*s).toFixed(f)),b=E(v,x,C,w,k,y,S.pfClose,A,T),A==T&&(b.pfStepBack="O"),"X"==S.pfStepBack||"-"==S.pfStepBack?(S.pfOpen=A,S.pfClose=T,S.pfTrend="O",I(S,C,w,k,y),A!=T&&"-"==S.pfStepBack&&(S.pfStepBack=null)):((b=L(v,b)).pfTrend="O",m.push(b))):I(S,C,w,k,y),y=0):((b=L(v,E(v,x,C,w,k,y,C+s,Number((Math.ceil(w/s-g)*s).toFixed(f)),Number((Math.floor(C/s+g)*s).toFixed(f))))).pfTrend="X",b.pfOpen==b.pfClose&&(b.pfStepBack="-"),m.push(b),y=0));function I(t,e,i,a,r){var n;M.a0q(),t.High=Math.max(e,t.High),t.Low=Math.min(i,t.Low),n=2;for(var s=1;379808879!==M.T45(s.toString(),s.toString().length,89487);s++)t.Close=a,t.Volume%=r,n+=2;-739006015!==M.v45(n.toString(),n.toString().length,98955)&&(t.Close=a,t.Volume/=r),t.Close=a,t.Volume+=r}return m},t},tt[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"gkB1b",{get:function(){return this},configurable:!0}),e=gkB1b,i=5;break;case 5:e.i74wu=e,i=4;break;case 4:i="undefined"==typeof i74wu?3:9;break;case 9:delete e.i74wu,delete Object.prototype.gkB1b,i=6}}catch(t){e=window}return e}}(),tt[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="D6",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="T",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(tt[12018]),tt[366344]=function(t){function e(t){for(;;)return[arguments][0][0]}function i(t){for(;;)return[arguments][0][0].Array}for(var a=2;58!==a;)switch(a){case 37:s[14]=s[65],s[14]+=s[2],s[14]+=s[5],s[89]=s[8],a=52;break;case 48:s[15]+=s[7],s[25]=s[9],s[25]+=s[2],s[25]+=s[5],a=65;break;case 30:s[84]+=s[5],s[99]=s[63],s[99]+=s[35],s[99]+=s[22],s[19]=s[10],s[19]+=s[7],a=41;break;case 34:s[77]+=s[7],s[77]+=s[7],s[84]=s[23],s[84]+=s[2],a=30;break;case 7:s[8]="",s[8]="__",s[5]="",s[5]="11",a=12;break;case 61:r(e,s[29],s[57],s[19]),a=60;break;case 2:var s=[arguments];s[4]="61",s[1]="",s[1]="B",s[9]="j",s[6]="",s[6]="optimi",a=7;break;case 64:r(n,"test",s[75],s[25]),a=63;break;case 23:s[27]="J6",s[75]=1,s[57]=0,s[77]=s[27],a=34;break;case 59:r(o,"apply",s[75],s[77]),a=58;break;case 52:s[89]+=s[6],s[89]+=s[42],s[15]=s[1],s[15]+=s[4],a=48;break;case 27:s[61]="_a",s[23]="e",s[22]="al",s[27]="",a=23;break;case 18:s[65]="f",s[42]="ze",s[63]="__resi",s[10]="u6",a=27;break;case 41:s[19]+=s[7],s[29]=s[3],s[29]+=s[61],s[29]+=s[58],a=37;break;case 12:s[2]="6",s[3]="_",s[7]="1",s[35]="du",s[58]="bstract",a=18;break;case 62:r(e,s[89],s[57],s[14]),a=61;break;case 63:r(i,"push",s[75],s[15]),a=62;break;case 65:var r=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 3:l[6]="",l[6]="definePr";try{for(var s=2;8!==s;)switch(s){case 2:l[1]={},l[4]=(0,l[0][1])(l[0][0]),l[8]=[l[4],l[4].prototype][l[0][3]],l[1].value=l[8][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)2===o&&(l[9]=l[6],l[9]+=l[2],l[9]+=l[3],l[0][0].Object[l[9]](l[8],l[0][4],l[1]),o=3)}catch(t){}l[8][l[0][4]]=l[1].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[3]="",l[3]="rty",l[2]="ope",n=3}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};a=64;break;case 60:r(e,s[99],s[57],s[84]),a=59}function n(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments],e=1;break;case 1:return i[0][0].RegExp}}function o(t){for(;;)return[arguments][0][0].Function}}(tt[12018]),tt.N4A=function(){return"function"==typeof tt[372105].y4A?tt[372105].y4A.apply(tt[372105],arguments):tt[372105].y4A},(tt[12018].R3ff=tt)[160123]=function(){for(var t=2;9!==t;)switch(t){case 4:return e[2].p0q=function(){for(var t=2;90!==t;)switch(t){case 12:a[8]=a[9],a[4]={},t=10;break;case 2:var a=[arguments],t=1;break;case 75:a[50]={},a[50][a[79]]=a[14][a[41]][a[95]],a[50][a[64]]=a[26],a[89].B611(a[50]),t=71;break;case 1:t=e[4]?5:4;break;case 5:return 84;case 58:a[35]=0,t=57;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 18:i[7]=!1,e=17;break;case 10:e=i[3][a[64]]===a[24]?20:19;break;case 8:i[6]=0,e=7;break;case 15:i[8]=i[9][i[6]],i[4]=i[1][i[8]].h/i[1][i[8]].t,e=26;break;case 4:i[1]={},i[9]=[],e=9;break;case 9:i[6]=0,e=8;break;case 1:e=0===i[0][0].length?5:4;break;case 12:i[9].B611(i[3][a[79]]),e=11;break;case 5:return;case 24:i[6]++,e=16;break;case 6:i[3]=i[0][0][i[6]],e=14;break;case 2:var i=[arguments],e=1;break;case 7:e=i[6]<i[0][0].length?6:18;break;case 26:e=.5<=i[4]?25:24;break;case 25:i[7]=!0,e=24;break;case 23:return i[7];case 13:i[1][i[3][a[79]]]=function(){for(;;){var t=[arguments];return t[2]={},t[2].h=0,t[2].t=0,t[2]}}.J611(this,arguments),e=12;break;case 14:e=void 0===i[1][i[3][a[79]]]?13:11;break;case 20:i[1][i[3][a[79]]].h+=!0,e=19;break;case 16:e=i[6]<i[9].length?15:23;break;case 11:i[1][i[3][a[79]]].t+=!0,e=10;break;case 17:i[6]=0,e=16;break;case 19:i[6]++,e=7}}(a[89])?68:67;break;case 61:a[64]="S4A",a[62]="T4A",a[79]="M4A",t=58;break;case 17:a[1].Q4A=["m8A"],a[1].T4A=function(){return"function"==typeof f611},a[6]=a[1],a[55]={},t=26;break;case 37:a[27].T4A=function(){return!/\u0032\u0035/.j611(function(){return decodeURIComponent("%25")}+[])},a[25]=a[27],a[7].B611(a[25]),a[7].B611(a[5]),a[7].B611(a[3]),t=51;break;case 41:a[90].T4A=function(){return"function"==typeof e611},a[20]=a[90],a[27]={},a[27].Q4A=["f4A"],t=37;break;case 56:a[14]=a[7][a[35]];try{a[26]=a[14][a[62]]()?a[24]:a[61]}catch(t){a[26]=a[61]}t=77;break;case 67:return e[4]=19,27;case 10:a[4].Q4A=["m8A"],a[4].T4A=function(){var t=!1,e=[];try{for(var i in console)e.B611(i);t=0===e.length}catch(t){}return t},a[3]=a[4],a[1]={},t=17;break;case 57:t=a[35]<a[7].length?56:69;break;case 26:a[55].Q4A=["f4A"],a[55].T4A=function(){return/\u0061\x61\x61\x61\x61/.j611(function(){return"aaaa".padEnd(5,"a")}+[])},a[45]=a[55],a[32]={},t=22;break;case 47:a[7].B611(a[6]),a[7].B611(a[8]),a[7].B611(a[42]),a[89]=[],t=64;break;case 29:a[94].Q4A=["m8A"],a[94].T4A=function(){return"function"==typeof u611},a[85]=a[94],a[90]={},a[90].Q4A=["m8A"],t=41;break;case 68:t=68;break;case 76:t=a[95]<a[14][a[41]].length?75:70;break;case 33:a[80].Q4A=["f4A"],a[80].T4A=function(){function t(){return[]+"a".concat("a")}return!/\u005b\x5d/.j611(t+[])&&/\u0061\x61/.j611(t+[])},a[42]=a[80],a[94]={},t=29;break;case 4:a[7]=[],a[2]={},a[2].Q4A=["f4A"],t=8;break;case 22:a[32].Q4A=["f4A"],a[32].T4A=function(){return!/\x79/.j611(function(){return"x y".slice(0,1)}+[])},a[10]=a[32],a[80]={},t=33;break;case 64:a[24]="d4A",a[61]="J4A",a[41]="Q4A",t=61;break;case 71:a[95]++,t=76;break;case 77:a[95]=0,t=76;break;case 8:a[2].T4A=function(){return/\u0031/.j611(function(){return"aa".lastIndexOf("a")}+[])},a[5]=a[2],a[9]={},a[9].Q4A=["f4A"],a[9].T4A=function(){return!/(\u005b|\u005d)/.j611(function(){return["a","a"].join()}+[])},t=12;break;case 51:a[7].B611(a[45]),a[7].B611(a[10]),a[7].B611(a[85]),a[7].B611(a[20]),t=47;break;case 70:a[35]++,t=57}},e[2];case 2:var e=[arguments];e[4]=void 0,e[2]={},t=4}}(),tt.X2o=function(){return"function"==typeof tt[152846].V2i?tt[152846].V2i.apply(tt[152846],arguments):tt[152846].V2i},tt.U2c=function(){return"function"==typeof tt[160123].p0q?tt[160123].p0q.apply(tt[160123],arguments):tt[160123].p0q},tt[440061]=!0,tt.R2o=function(){return"function"==typeof tt[152846].V2i?tt[152846].V2i.apply(tt[152846],arguments):tt[152846].V2i},tt.s4A=function(){return"function"==typeof tt[372105].C4A?tt[372105].C4A.apply(tt[372105],arguments):tt[372105].C4A},tt.H4A=function(){return"function"==typeof tt[372105].C4A?tt[372105].C4A.apply(tt[372105],arguments):tt[372105].C4A},tt[372105]={y4A:function(){var t,e=arguments;switch(y){case 30:t=e[1]/(e[2]^e[0]);break;case 36:t=e[4]*(e[3]*e[0]+e[2])/e[1];break;case 3:t=e[0]+(e[2]-e[1]);break;case 4:t=e[1]*e[2]-e[3]-e[0];break;case 34:t=e[2]+(e[1]|e[3])/e[0];break;case 41:t=(e[3]-e[0])*e[2]+e[1];break;case 24:t=e[2]*e[1]-e[0];break;case 22:t=e[1]+e[2]/e[0];break;case 12:t=e[0]>>e[1];break;case 25:t=e[1]<e[0];break;case 42:t=e[0]+(e[5]-e[2])/(e[1]-e[3])*(e[6]-e[4]);break;case 27:t=+e[1]*e[2]-e[0];break;case 5:t=e[0]*e[1];break;case 20:t=e[1]%e[2]%e[0];break;case 19:t=e[1]%(e[0]/e[2]);break;case 7:t=(e[0]+e[1])/e[2];break;case 39:t=(e[2]+e[0])/(e[1]>>e[3]);break;case 38:t=(e[3]-e[0]*e[1])/e[2];break;case 21:t=e[1]+e[2]/+e[0];break;case 35:t=e[3]*(e[1]+(e[4]&e[0]))/e[2];break;case 16:t=e[0]%e[1];break;case 26:t=(e[1]-e[2])/(e[0]-e[3]);break;case 23:t=e[1]&e[0];break;case 32:t=e[2]+(e[3]-e[1])/e[0];break;case 40:t=-(e[0]-e[1])*e[2]+e[3];break;case 11:t=e[1]<<e[0];break;case 28:t=e[0]<(e[3]-e[4])/(e[1]-e[2]);break;case 29:t=(e[5]-e[6])*(e[4]-e[1])/(e[3]-e[0])+e[2];break;case 2:t=e[1]|e[0];break;case 8:t=(e[2]+e[1])/+e[0];break;case 9:t=e[0]-e[1];break;case 13:t=e[0]+e[2]-e[1];break;case 1:t=e[0]+e[1];break;case 15:t=e[0]-e[2]/e[1];break;case 6:t=e[1]/e[0];break;case 31:t=+e[0]/+e[1];break;case 37:t=(e[0]*e[3]-e[5]*e[2])/(e[4]*e[6]-e[1]);break;case 17:t=e[1]*(e[0]%(e[2]^e[3]));break;case 33:t=e[3]-e[0]*(e[1]-e[2]);break;case 10:t=e[0]^e[1];break;case 14:t=e[1]-e[0]+e[2];break;case 18:t=e[1]*e[0]/e[2];break;case 0:t=e[2]*e[1]<e[0]}return t},C4A:function(t){y=t}},tt[603030]=tt[366344],tt.P2c=function(){return"function"==typeof tt[160123].p0q?tt[160123].p0q.apply(tt[160123],arguments):tt[160123].p0q},tt[647112]=914,tt[152846]={V2i:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.D6TT(n)|(255&t.D6TT(n+1))<<8|(255&t.D6TT(n+2))<<16|(255&t.D6TT(n+3))<<24,s=et(s,3432918353),a=5*(a=(524287&(a^=s=et(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.D6TT(2+r))<<16;case 2:s|=(255&t.D6TT(1+r))<<8;case 1:s|=255&t.D6TT(r),s=et(s,3432918353),a^=s=et(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=et(a^=a>>>16,2246822507),a=et(a^=a>>>13,3266489909),a^=a>>>16}},tt.E4A=function(){return"function"==typeof tt[372105].y4A?tt[372105].y4A.apply(tt[372105],arguments):tt[372105].y4A},tt.P2c(),b=function(t){var D,f,F=tt;return F.P2c(),D=t.CIQ,f=t.timezoneJS,D.Drawing.channel=function(){var t;F.U2c(),this.name="channel",t=2;for(var e=1;1291491204!==F.R2o(e.toString(),e.toString().length,6937);e++)this.dragToDraw=!0,t+=2;1924004672!==F.X2o(t.toString(),t.toString().length,2792)&&(this.dragToDraw=!1),this.dragToDraw=!1,this.p2=null},D.Drawing.channel.ciqInheritsFrom(D.Drawing.segment),D.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"],D.Drawing.channel.prototype.move=function(t,e,i){F.U2c(),this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[e,i]:(e=i-(this.p1[1]-this.p0[1])/(this.p1[0]-this.p0[0])*(e-this.p1[0]),this.p2=[this.p1[0],e]),this.render(t))},D.Drawing.channel.prototype.click=function(t,e,i){var a=this.stx.panels[this.panelName];if(a)return this.copyConfig(),F.P2c(),this.penDown?this.accidentalClick(e,i)?(this.stx.undo(),!0):null!==this.p2?(this.setPoint(2,this.p2[0],this.p2[1],a.chart),!(this.penDown=!1)):(this.setPoint(1,e,i,a.chart),this.p0[0]==this.p1[0]?(this.p1=null,!1):!(this.p2=[this.p1[0],this.p1[1]])):(this.setPoint(0,e,i,a.chart),!(this.penDown=!0))},D.Drawing.channel.prototype.boxIntersection=function(t,e){var i;return!!(this.p0&&this.p1&&this.p2)&&(!(t>Math.max(this.p0[0],this.p1[0])||t<Math.min(this.p0[0],this.p1[0]))&&(i=(this.p1[0]-this.p0[0])*(e-this.p0[1])-(this.p1[1]-this.p0[1])*(t-this.p0[0]),t=(this.p2[0]-this.p0[0])*(e-(this.p0[1]+this.p2[1]-this.p1[1]))-(this.p1[1]-this.p0[1])*(t-this.p0[0]),F.P2c(),F.s4A(0),F.E4A(0,t,i)))},D.Drawing.channel.prototype.intersected=function(t,e,i){var a,r;if(!this.p0||!this.p1||!this.p2)return null;for(r in a={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(a[r][0],a[r][1],i))return F.s4A(1),this.highlighted=F.N4A("p",r),{action:"drag",point:"p"+r};if(this.boxIntersection(t,e))return this.highlighted=!0,{action:"move",p0:D.clone(this.p0),p1:D.clone(this.p1),p2:D.clone(this.p2),tick:t,value:e};F.s4A(2),t=F.N4A(2,"2");e=1;return 1409567623!==F.R2o(e.toString(),e.toString().length,74012)?1:(F.P2c(),-163380220!==F.X2o(t.toString(),t.toString().length,28968)?1:null)},D.Drawing.channel.prototype.render=function(t){var e,i,a,r,n,s,o,l,h;(o=this.stx.panels[this.panelName])&&(e=this.stx.pixelFromTick(this.p0[0],o.chart),i=this.stx.pixelFromTick(this.p1[0],o.chart),a=this.stx.pixelFromValueAdjusted(o,this.p0[0],this.p0[1]),r=this.stx.pixelFromValueAdjusted(o,this.p1[0],this.p1[1]),n=null,F.U2c(),this.p2&&(n=this.stx.pixelFromValueAdjusted(o,this.p2[0],this.p2[1])),l=this.lineWidth,h=this.setLineColor(),s=this.fillColor,this.p2&&s&&!D.isTransparent(s)&&"auto"!=s&&(t.beginPath(),t.moveTo(e,a),t.lineTo(i,r),t.lineTo(i,n),F.H4A(3),t.lineTo(e,F.N4A(a,r,n)),t.closePath(),t.globalAlpha=.2,t.fillStyle=s,t.fill(),t.globalAlpha=1),l={pattern:this.pattern,lineWidth:l},(this.penDown||this.highlighted)&&"none"==this.pattern&&(l.pattern="dotted"),this.stx.plotLine(e,i,a,r,h,"segment",t,o,l),this.p2&&(F.H4A(3),this.stx.plotLine(e,i,F.E4A(a,r,n),n,h,"segment",t,o,l)),this.highlighted&&(o="p0"==this.highlighted,l="p1"==this.highlighted,h="p2"==this.highlighted,this.littleCircle(t,e,a,o),this.littleCircle(t,i,r,l),this.littleCircle(t,i,n,h)))},D.Drawing.channel.prototype.reposition=function(t,e,i,a){var r,n,s;e&&(r=this.stx.panels[this.panelName],F.P2c(),n=e.tick-i,s=e.value-a,"move"==e.action?(this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.setPoint(1,e.p1[0]-n,e.p1[1]-s,r.chart),this.setPoint(2,e.p2[0]-n,e.p2[1]-s,r.chart),this.render(t)):"drag"==e.action&&(this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),F.H4A(2),this.setPoint(F.N4A(0,"2"),this.p2[0],this.p2[1],r.chart),this.render(t)))},D.Drawing.channel.prototype.adjust=function(){var t=this.stx.panels[this.panelName];t&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d1,this.v2,t.chart))},D.Drawing.channel.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,F.P2c(),this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},D.Drawing.channel.prototype.serialize=function(){return F.U2c(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2}},D.Drawing.pitchfork=function(){F.P2c(),this.name="pitchfork",this.dragToDraw=!1,this.p2=null},D.Drawing.pitchfork.ciqInheritsFrom(D.Drawing.channel),D.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"],D.Drawing.pitchfork.prototype.move=function(t,e,i){var a;if(this.penDown){a=2;for(var r=1;1227458313!==F.R2o(r.toString(),r.toString().length,44952);r++)this.copyConfig(),null===this.p2?this.p1=[e,i]:this.p2=[e,i],a+=2;F.P2c(),612546938!==F.R2o(a.toString(),a.toString().length,76956)&&(this.copyConfig(),1!=this.p2?this.p1=[e,i]:this.p2=[e,i]),this.render(t)}},D.Drawing.pitchfork.prototype.intersected=function(t,e,i){var a,r,n;if(!this.p0||!this.p1||!this.p2)return null;for(n in a={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(a[n][0],a[n][1],i))return F.H4A(1),this.highlighted=F.E4A("p",n),{action:"drag",point:"p"+n};F.U2c(),r=this.rays;for(var s=0;s<r.length;s++)if(this.lineIntersection(t,e,i,s?"ray":"segment",r[s][0],r[s][1],!0))return this.highlighted=!0,{action:"move",p0:D.clone(this.p0),p1:D.clone(this.p1),p2:D.clone(this.p2),tick:t,value:e};return null},D.Drawing.pitchfork.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=this.stx.panels[this.panelName];if(y){e=this.stx,i=(i=this.p2)||this.p1,a=e.pixelFromTick(this.p0[0],y.chart),r=e.pixelFromTick(this.p1[0],y.chart),n=2;for(var b=1;-2012624007!==F.R2o(b.toString(),b.toString().length,95380);b++)s=e.pixelFromTick(i[4],y.chart),o=e.pixelFromValueAdjusted(y,this.p0[2],this.p0[2]),l=e.pixelFromValueAdjusted(y,this.p1[6],this.p1[2]),n+=2;1394206696!==F.R2o(n.toString(),n.toString().length,67962)&&(s=e.pixelFromTick(i[5],y.chart),o=e.pixelFromValueAdjusted(y,this.p0[7],this.p0[3]),l=e.pixelFromValueAdjusted(y,this.p1[4],this.p1[1])),s=e.pixelFromTick(i[0],y.chart),o=e.pixelFromValueAdjusted(y,this.p0[0],this.p0[1]),l=e.pixelFromValueAdjusted(y,this.p1[0],this.p1[1]),h=e.pixelFromValueAdjusted(y,i[0],i[1]),g=this.lineWidth,c=this.setLineColor(),u={pattern:this.pattern,lineWidth:g},f=50,F.H4A(4),m=F.N4A(h,2,o,l),F.s4A(4),(g=F.E4A(s,2,a,r))<0&&(F.s4A(5),f*=-F.E4A("1",1)),F.s4A(6),m*=F.E4A(g,f),F.H4A(7),this.rays=[[[r,l],[s,h]],[[a,o],[F.E4A(r,s,2),F.N4A("2",h,l,F.s4A(8))]]],r==s&&l==h||(F.H4A(9),this.rays.push([[r,l],[F.E4A(r,f),F.N4A(l,m)]],[[s,h],[F.N4A(s,f),F.N4A(h,m)]]));for(var v=0;v<this.rays.length;v++)p=this.rays[v],d=v?"ray":"segment",e.plotLine(p[0][0],p[1][0],p[0][1],p[1][1],c,d,t,y,u);this.highlighted&&(g="p0"==this.highlighted,f="p1"==this.highlighted,m="p2"==this.highlighted,this.littleCircle(t,a,o,g),this.littleCircle(t,r,l,f),this.littleCircle(t,s,h,m))}},D.Drawing.pitchfork.prototype.adjust=function(){var t;F.P2c(),(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d2,this.v2,t.chart))},D.Drawing.pitchfork.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,F.P2c(),this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.d2=e.d2,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.tzo2=e.tzo2,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},D.Drawing.pitchfork.prototype.serialize=function(){return F.U2c(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2}},D.Drawing.gartley=function(){this.name="gartley",F.P2c(),this.dragToDraw=!1,F.s4A(9),this.maxSegments=F.E4A("4",0),this.shape=null,this.points=[]},D.Drawing.gartley.ciqInheritsFrom(D.Drawing.continuous),D.Drawing.gartley.prototype.check=function(t,e){if(!e)return!0;if(t[0]>=e[0]||t[1]==e[1])return!1;if(1==this.segment)t[1]<e[1]?this.shape="M":this.shape="W";else if(2==this.segment){if("M"==this.shape&&t[1]<e[1])return!1;if("W"==this.shape&&t[1]>e[1])return!1;if((e[1]-t[1])/(this.points[0][1]-t[1])<.618)return!1;if(.786<=(e[1]-t[1])/(this.points[0][1]-t[1]))return!1}else if(3==this.segment){if("M"==this.shape&&t[1]>e[1])return!1;if("W"==this.shape&&t[1]<e[1])return!1;if((e[1]-t[1])/(this.points[1][1]-t[1])<.618)return!1;if(.786<=(e[1]-t[1])/(this.points[1][1]-t[1]))return!1}else if(4==this.segment){if("M"==this.shape&&(t[1]<e[1]||e[1]<this.points[0][1]))return!1;if("W"==this.shape&&(t[1]>e[1]||e[1]>this.points[0][1]))return!1;if((this.points[1][1]-e[1])/(this.points[1][1]-this.points[2][1])<1.27)return!1;if(1.618<=(this.points[1][1]-e[1])/(this.points[1][1]-this.points[2][1]))return!1}return!0},D.Drawing.gartley.prototype.click=function(t,e,i){var a;if(F.P2c(),a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return F.H4A(10),this.setPoint(F.N4A("0",0),e,i,a.chart),this.pts=[],this.penDown=!0,!(this.segment=1);if(this.accidentalClick(e,i))return!(this.penDown=!0);if(this.check(this.p0,this.p1)){if(1==this.segment&&this.points.push(this.p0),this.points.push(this.p1),this.drawDropZones=!0,F.H4A(11),this.setPoint(F.E4A(263766208,"1"),e,i,a.chart),this.segment++,this.segment>this.maxSegments)return this.setPoint(0,this.points[0][0],this.points[0][1],a.chart),!(this.penDown=!1);this.pts.push(this.d1,this.tzo1,this.v1),F.H4A(11),this.setPoint(F.E4A(545815584,"0"),e,i,a.chart)}return!1}},D.Drawing.gartley.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y;if(e=this.stx.panels[this.panelName]){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),c=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),r=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),2==this.segment){F.H4A(12),y=-F.E4A("649347494",1631707200),n=2;for(var b=1;-1766103276!==F.X2o(b.toString(),b.toString().length,90461);b++)this.drawDropZone(t,77499%this.points[3][8]/(68468%this.p0[2]),90012/this.points[7][7]%(15658+this.p0[9]),this.p0[1]),n+=2;F.X2o(n.toString(),n.toString().length,9905)!==y&&this.drawDropZone(t,.618*this.points[0][1]+.382*this.p0[1],.786*this.points[0][1]+.214*this.p0[1],this.p0[0])}else if(3==this.segment){s=2;for(var v=1;-1004764862!==F.R2o(v.toString(),v.toString().length,86401);v++)this.drawDropZone(t,(95068+this.points[3][4])/(62508+this.p0[2]),97738%this.points[8][5]/(53319-this.p0[7]),this.p0[7]),s+=2;1354033048!==F.X2o(s.toString(),s.toString().length,88921)&&this.drawDropZone(t,(95068+this.points[3][4])/(62508+this.p0[2]),97738%this.points[8][5]/(53319-this.p0[7]),this.p0[7]),this.drawDropZone(t,.618*this.points[1][1]+.382*this.p0[1],.786*this.points[1][1]+.214*this.p0[1],this.p0[0])}else 4==this.segment&&(o=1.618*this.points[2][1]-.618*this.points[1][1],o="M"==this.shape?Math.max(o,this.points[0][1]):Math.min(o,this.points[0][1]),this.drawDropZone(t,o,1.27*this.points[2][1]-.27*this.points[1][1],this.p0[0]));if(o=this.lineWidth,l=this.setLineColor(),h={pattern:this.pattern,lineWidth:o},(this.penDown||this.highlighted)&&"none"==this.pattern&&(h.pattern="dotted"),this.segment<=this.maxSegments&&this.stx.plotLine(i,a,c,r,l,this.name,t,e,h),c=this.fillColor,u=[],this.points.length){t.beginPath();for(var S=1;S<this.points.length&&S<=4;S++)p=this.stx.pixelFromTick(this.points[S-1][0],e.chart),d=this.stx.pixelFromTick(this.points[S][0],e.chart),g=this.stx.pixelFromValueAdjusted(e,this.points[S-1][0],this.points[S-1][1]),f=this.stx.pixelFromValueAdjusted(e,this.points[S][0],this.points[S][1]),1==S&&u.push(p,g),u.push(d,f),this.stx.plotLine(p,d,g,f,l,this.name,t,e,h);if(2!=this.points.length&&4!=this.points.length||u.push(a,r),this.points[2]){m=2;for(var k=1;-229192081!==F.X2o(k.toString(),k.toString().length,44498);k++)u.push(this.stx.pixelFromTick(this.points[2][0],e.chart),this.stx.pixelFromValueAdjusted(e,this.points[2][0],this.points[2][1])),m+=2;-412542721!==F.X2o(m.toString(),m.toString().length,64429)&&u.push(this.stx.pixelFromTick(this.points[0][3],e.chart),this.stx.pixelFromValueAdjusted(e,this.points[0][9],this.points[3][6]))}if(c&&"auto"!=c&&!D.isTransparent(c)){for(var x=0;x<u.length;x+=2)0===x&&t.moveTo(u[0],u[1]),t.lineTo(u[x],u[x+1]);t.fillStyle=c,F.H4A(5),t.globalAlpha=F.E4A("0.2",1),t.closePath(),t.fill(),t.globalAlpha=1}}}},D.Drawing.gartley.prototype.lineIntersection=function(t,e,i,a){for(var r,n,s=2,o=1;-1919189992!==F.X2o(o.toString(),o.toString().length,66632);o++){if(r=this.points,n=this.stx.panels[this.panelName],r.length!==this.maxSegments/3&&-n)return!0;s+=2}if(-314829994!==F.R2o(s.toString(),s.toString().length,89883)&&(r=this.points,n=this.stx.panels[this.panelName],r.length!=this.maxSegments+1||!n))return!1;for(var l=0;l<r.length-1;l++)if(D.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,t,e,i,"segment",r[l],r[l+1]))return!0;return!1},D.Drawing.gartley.prototype.boxIntersection=function(t,e){var i,a;if(!this.p0||!this.p1)return!1;if(t>Math.max(this.p0[0],this.p1[0])||t<Math.min(this.p0[0],this.p1[0]))return!1;i=Math.min(this.p0[1],this.p1[1]),a=Math.max(this.p0[1],this.p1[1]),F.U2c();for(var r=0;r<this.points.length;r++)i=Math.min(i,this.points[r][1]),a=Math.max(a,this.points[r][1]);return!(a<e||e<i)},D.Drawing.gartley.prototype.reposition=function(t,e,i,a){var r,n,s,o;if(e){r=this.stx.panels[this.panelName],n=e.tick-i,e.tick=i,s=e.value-a,F.U2c(),o=2;for(var l=1;-2081183861!==F.R2o(l.toString(),l.toString().length,91154);l++)e.value=a,o+=2;if(-1101393796!==F.X2o(o.toString(),o.toString().length,70600)&&(e.value=a),"move"==e.action){this.pts=[];for(var h=0;h<this.points.length;h++)this.points[h][0]-=n,this.points[h][1]-=s,this.setPoint(1,this.points[h][0],this.points[h][1],r.chart),h&&h<this.points.length-1&&this.pts.push(this.d1,this.tzo1,this.v1),this.points[h]=this.p1;this.setPoint(0,this.points[0][0],this.points[0][1],r.chart),this.render(t)}}},D.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"],D.Drawing.gartley.prototype.drawDropZone=function(t,e,i,a){var r;F.U2c(),(r=this.stx.panels[this.panelName])&&(e=this.stx.pixelFromPrice(e,r),i=this.stx.pixelFromPrice(i,r)-e,a=this.stx.pixelFromTick(a,r.chart),r=r.width-a,t.fillStyle="#008000",t.globalAlpha=.2,t.fillRect(a,e,r,i),F.s4A(5),t.globalAlpha=F.E4A("1",1))},D.Drawing.gartley.prototype.adjust=function(){var t,e=this.stx.panels[this.panelName];if(e){F.U2c(),t=2;for(var i=1;204231979!==F.R2o(i.toString(),i.toString().length,97805);i++)this.reconstructPoints(),this.setPoint(0,this.d0,this.v0,e.chart),this.points.unshift(this.p0),this.setPoint(1,this.d1,this.v1,e.chart),this.points.push(this.p1),t+=2;1938083812!==F.R2o(t.toString(),t.toString().length,23794)&&(this.reconstructPoints(),this.setPoint(9,this.d0,this.v0,e.chart),this.points.unshift(this.p0),this.setPoint(2,this.d1,this.v1,e.chart),this.points.push(this.p1))}},D.Drawing.gartley.prototype.reconstructPoints=function(){var t,e=this.stx.panels[this.panelName];if(e){this.points=[];for(var i=0;i<this.pts.length;i+=3)(t=D.strToDateTime(this.pts[i])).setMinutes(t.getMinutes()+Number(this.pts[i+1])-t.getTimezoneOffset()),this.points.push([this.stx.tickFromDate(D.yyyymmddhhmmssmmm(t),e.chart),this.pts[i+2]])}},D.Drawing.gartley.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.pts=e.pts.split(","),this.adjust()},D.Drawing.gartley.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")}},D.Drawing.freeform=function(){this.name="freeform",F.H4A(5),this.splineTension=F.N4A("0.3",1),F.P2c(),this.dragToDraw=!0},D.Drawing.freeform.ciqInheritsFrom(D.Drawing.segment),D.Drawing.freeform.prototype.measure=function(){},D.Drawing.freeform.prototype.intersected=function(t,e,i){return t>this.hiX||t<this.lowX||e>this.hiY||e<this.lowY?null:(this.highlighted=!0,{action:"move",p0:D.clone(this.p0),tick:t,value:e})},D.Drawing.freeform.prototype.reposition=function(t,e,i,a){var r;F.U2c(),e&&(r=this.stx.panels[this.panelName],i=e.tick-i,a=e.value-a,"move"==e.action&&(this.setPoint(0,e.p0[0]-i,e.p0[1]-a,r.chart),this.adjust(),this.render(t)))},D.Drawing.freeform.prototype.click=function(t,e,i){var a=this.stx.panels[this.panelName];if(a)return!1===this.penDown?(this.copyConfig(),this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(e,a.chart))),this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(a,e,i))),e=this.stx.dateFromTick(e,a.chart,!0),this.d0=D.yyyymmddhhmmssmmm(e),this.tzo0=e.getTimezoneOffset(),this.v0=i,this.p0=[D.ChartEngine.crosshairX-this.startX,D.ChartEngine.crosshairY-this.startY],this.nodes=[this.p0[0],this.p0[1]],this.pNodes=[this.p0],this.candleWidth=this.stx.layout.candleWidth,this.multiplier=a.yAxis.multiplier,this.interval=this.stx.layout.interval,this.periodicity=this.stx.layout.periodicity,this.tempSplineTension=this.splineTension,this.splineTension=-1,document.body.style.cursor="pointer",!(this.penDown=!0)):(this.penDown=!1,this.splineTension=this.tempSplineTension,document.body.style.cursor="auto",!0)},D.Drawing.freeform.prototype.move=function(t,e,i){var a;if(this.penDown)return a=this.stx.panels[this.panelName],a=this.stx.dateFromTick(e,a.chart,!0),this.d1=D.yyyymmddhhmmssmmm(a),this.tzo1=a.getTimezoneOffset(),this.v1=i,this.p1=[D.ChartEngine.crosshairX-this.startX,D.ChartEngine.crosshairY-this.startY],2<this.pNodes.length&&(this.p1[0]==this.pNodes[this.pNodes.length-2][0]&&this.p1[0]==this.pNodes[this.pNodes.length-1][0]||this.p1[1]==this.pNodes[this.pNodes.length-2][1]&&this.p1[1]==this.pNodes[this.pNodes.length-1][1])&&(this.pNodes.length--,this.nodes.length-=2),this.nodes.push(this.p1[0],this.p1[1]),this.pNodes.push(this.p1),this.render(t),!1},D.Drawing.freeform.prototype.intervalRatio=function(t,e,i,a,r,n){var s;function o(t,e){return D.Market.Symbology.isForexSymbol(e)?1440:(F.U2c(),390)}function l(){return F.P2c(),5}return s=0,F.P2c(),t==e?s=1:isNaN(t)||isNaN(e)?isNaN(t)?"month"==t?"week"==e?s=5:"day"==e?s=30:isNaN(e)||(s=30*o(0,n)/e):"week"==t?("month"==e&&(s=.2),"day"==e?s=l():isNaN(e)||(s=l()*o(0,n)/e)):"day"==t&&("week"==e?s=1/l():"month"==e?s=1/30:isNaN(e)||(s=o(0,n)/e)):isNaN(t)||("month"==e?s=t/(30*o(0,n)):"week"==e?s=t/(l()*o(0,n)):"day"==e&&(s=t/o(0,n))):(F.s4A(6),s=F.N4A(e,t)),F.H4A(6),s*=F.E4A(a,i)},D.Drawing.freeform.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u=this.stx.panels[this.panelName];if(u&&0!==(e=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,u.chart.symbol))){F.P2c(),i=this.stx.layout.candleWidth/this.candleWidth,a=u.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,u.chart),r=this.stx.pixelFromTick(this.p0[0],u.chart),n=this.stx.pixelFromValueAdjusted(u,this.p0[0],this.p0[1]),s=[],l=this.lineWidth,o=this.setLineColor(),l={pattern:this.pattern,lineWidth:l};for(var p=0;p<this.pNodes.length;p++)h=e*i*this.pNodes[p][0]+r,c=a*this.pNodes[p][1]+n,s.push(h,c);s.length&&(this.splineTension<0?this.stx.connectTheDots(s,o,this.name,t,u,l):this.stx.plotSpline(s,this.splineTension,o,this.name,t,!0,l))}},D.Drawing.freeform.prototype.adjust=function(){var t,e,i,a,r,n,s=this.stx.panels[this.panelName];if(s){n=[this.nodes[0],this.nodes[1]],this.pNodes=[n],F.P2c(),this.lowX=this.nodes[0],this.hiX=this.nodes[0],this.lowY=this.nodes[1],this.hiY=this.nodes[1];for(var o=2;o<this.nodes.length;o+=2)F.H4A(1),t=[this.nodes[o],this.nodes[F.N4A(o,1)]],this.pNodes.push(t),this.lowX=Math.min(this.lowX,t[0]),this.hiX=Math.max(this.hiX,t[0]),this.lowY=Math.max(this.lowY,t[1]),this.hiY=Math.min(this.hiY,t[1]);0!==(e=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,s.chart.symbol))&&(i=this.stx.layout.candleWidth/this.candleWidth,a=s.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,s.chart),r=this.stx.pixelFromTick(this.p0[0],s.chart),n=this.stx.pixelFromValueAdjusted(s,this.p0[0],this.p0[1]),this.lowX=this.stx.tickFromPixel(Math.floor(e*i*this.lowX)+r,s.chart),this.hiX=this.stx.tickFromPixel(Math.ceil(e*i*this.hiX)+r,s.chart),this.lowY=this.stx.valueFromPixel(Math.floor(a*this.lowY)+n,s),this.hiY=this.stx.valueFromPixel(Math.ceil(a*this.hiY)+n,s))}},D.Drawing.freeform.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes}},D.Drawing.freeform.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.candleWidth=e.cw,this.multiplier=e.mlt,this.d0=e.d0,this.tzo0=e.tzo0,this.v0=e.v0,this.interval=e.inter,this.periodicity=e.pd,this.nodes=e.nodes,this.adjust()},D.Drawing.callout=function(){this.name="callout",this.arr=[],this.w=0,this.h=0,this.padding=4,this.text="",this.ta=null,this.fontSize=0,this.font={},this.stemEntry="",this.defaultWidth=50,F.s4A(10),this.defaultHeight=F.N4A("10",0)},D.Drawing.callout.ciqInheritsFrom(D.Drawing.annotation),D.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"],D.Drawing.callout.prototype.copyConfig=function(t){F.P2c(),D.Drawing.copyConfig(this,t),this.borderColor=this.color},D.Drawing.callout.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),F.U2c(),this.p0=[e,i],this.render(t))},D.Drawing.callout.prototype.onChange=function(t){this.stx.panels[this.panelName]&&(t=t.target,this.w=t.clientWidth,F.U2c(),this.h=t.clientHeight,t=this.context||this.stx.chart.tempCanvas.context,D.clearCanvas(t.canvas,this.stx),this.render(t),this.edit(t))},D.Drawing.callout.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f="a";if(f+="lphab",f+="eti",f+="c",n="stx_highli",n+="ght",n+="_ve",n+="ctor",this.context=t,f=this.stx.panels[this.panelName],f&&(g=this.stx.pixelFromTick(this.p0[0],f.chart),p=this.stx.pixelFromValueAdjusted(f,this.p0[0],this.p0[1]),!isNaN(p))){if(t.font=this.fontString,t.textBaseline="top",e=g,i=p,a=this.w/2,r=this.h/2,this.penDown&&(a=this.defaultWidth,r=(r=this.defaultHeight)||this.fontSize),n=(n=this.lineWidth)||1.1,"auto"!=(g=this.color)&&!D.isTransparent(g)||(g=this.stx.defaultColor),"auto"!=(p=this.borderColor)&&!D.isTransparent(p)||(p=this.stx.defaultColor),this.highlighted&&(p=this.stx.getCanvasColor("stx_highlight_vector")),h=Math.min(Math.min(a,r)/2,8),this.stem&&(this.stem.t?(s=this.stx.pixelFromTick(this.stem.t),l=this.stx.pixelFromValueAdjusted(f,this.stem.t,this.stem.v)):this.stem.x&&(s=e,l=i,e+=this.stem.x,i+=this.stem.y),f="",e+a<=s?(F.s4A(1),o=F.E4A(e,a),f="r"):e-a<s&&s<e+a?(o=e,f="c"):s<=e-a&&(F.s4A(9),o=F.E4A(e,a),f="l"),i+r<=l?(F.s4A(1),c=F.N4A(i,r),f+="b"):i-r<l&&l<i+r?(c=i,f+="m"):l<=i-r&&(F.H4A(9),c=F.E4A(i,r),f+="t"),"cm"!=(this.stemEntry=f)&&(s=Math.round(s),o=Math.round(o),l=Math.round(l),c=Math.round(c))),this.highlighted){c="stx_annotation_highl",c+="ight_bg",u=2;for(var m=1;1507632889!==F.X2o(m.toString(),m.toString().length,9523);m++)this.stx.canvasColor("",t),u+=2;-632695266!==F.X2o(u.toString(),u.toString().length,60186)&&this.stx.canvasColor("",t),this.stx.canvasColor("stx_annotation_highlight_bg",t)}else this.fillColor?(t.fillStyle=this.fillColor,t.globalAlpha=.4):this.stem&&(t.fillStyle=this.stx.containerColor);if(t.strokeStyle=p,F.U2c(),t.setLineDash&&(t.setLineDash(D.borderPatternToArray(n,this.pattern)),t.lineDashOffset=0),p){p="c",p+="t",p="r",p+="t",t.beginPath(),t.lineWidth=n,F.H4A(13),t.moveTo(F.N4A(e,h,a),F.N4A(i,r,F.s4A(9))),"rt"!=this.stemEntry?(F.s4A(1),t.quadraticCurveTo(F.E4A(e,a),F.E4A(i,r,F.s4A(9)),F.E4A(e,a,F.H4A(1)),F.E4A(r,i,h,F.H4A(14)))):(t.lineTo(s,l),F.s4A(1),t.lineTo(F.E4A(e,a),F.N4A(r,i,h,F.s4A(14)))),F.H4A(1),t.lineTo(F.N4A(e,a),F.E4A(i,2,h,F.s4A(15))),"rm"==this.stemEntry&&t.lineTo(s,l),d=2;for(var y=1;-1554550562!==F.R2o(y.toString(),y.toString().length,56367);y++)F.H4A(16),t.lineTo(F.E4A(e,a),F.E4A(h,i,"6",0,F.s4A(17))),F.s4A(5),t.lineTo(F.E4A(e,a),F.E4A(r,i,h,F.H4A(18))),d+=2;-72749966!==F.X2o(d.toString(),d.toString().length,13737)&&(F.s4A(5),t.lineTo(F.N4A(e,a),F.N4A(h,i,2,F.H4A(19))),F.H4A(1),t.lineTo(F.N4A(e,a),F.N4A(h,i,r,F.H4A(20)))),F.s4A(1),t.lineTo(F.N4A(e,a),F.E4A("2",i,h,F.H4A(21))),F.s4A(1),t.lineTo(F.E4A(e,a),F.N4A(i,h,r,F.s4A(13))),"rb"!=this.stemEntry?(F.H4A(1),t.quadraticCurveTo(F.N4A(e,a),F.E4A(i,r,F.H4A(1)),F.E4A(e,h,a,F.H4A(13)),F.E4A(i,r,F.s4A(1)))):(t.lineTo(s,l),F.s4A(13),t.lineTo(F.N4A(e,h,a),F.N4A(i,r,F.H4A(1)))),F.H4A(22),t.lineTo(F.N4A(2,e,h),F.E4A(i,r,F.H4A(1))),"cb"==this.stemEntry&&t.lineTo(s,l),F.s4A(15),t.lineTo(F.N4A(e,2,h),F.E4A(i,r,F.H4A(1))),F.H4A(14),t.lineTo(F.N4A(a,e,h),F.N4A(i,r,F.H4A(1))),"lb"!=this.stemEntry?(F.H4A(9),t.quadraticCurveTo(F.E4A(e,a),F.E4A(i,r,F.s4A(1)),F.E4A(e,a,F.s4A(9)),F.E4A(i,h,r,F.s4A(13)))):(t.lineTo(s,l),F.H4A(9),t.lineTo(F.E4A(e,a),F.N4A(i,h,r,F.s4A(13)))),F.H4A(9),t.lineTo(F.N4A(e,a),F.E4A(2,i,h,F.H4A(22))),"lm"==this.stemEntry&&t.lineTo(s,l),F.H4A(9),t.lineTo(F.E4A(e,a),F.E4A(i,2,h,F.H4A(15))),F.s4A(9),t.lineTo(F.E4A(e,a),F.E4A(r,i,h,F.s4A(14))),"lt"!=this.stemEntry?(F.s4A(9),t.quadraticCurveTo(F.N4A(e,a),F.E4A(i,r,F.s4A(9)),F.N4A(a,e,h,F.H4A(14)),F.E4A(i,r,F.s4A(9)))):(t.lineTo(s,l),F.H4A(14),t.lineTo(F.N4A(a,e,h),F.E4A(i,r,F.s4A(9)))),F.s4A(15),t.lineTo(F.N4A(e,2,h),F.N4A(i,r,F.H4A(9))),"ct"==this.stemEntry&&t.lineTo(s,l),F.H4A(22),t.lineTo(F.N4A(2,e,h),F.E4A(i,r,F.s4A(9))),F.s4A(13),t.lineTo(F.E4A(e,h,a),F.E4A(i,r,F.s4A(9))),t.fill(),t.globalAlpha=1,"none"!=this.pattern&&t.stroke()}this.highlighted?this.stx.canvasColor("stx_annotation_highlight",t):t.fillStyle=g,i+=this.padding;for(var b=0;b<this.arr.length;b++)t.fillText(this.arr[b],e-a+this.padding,i-r),i+=this.fontSize;t.textBaseline="alphabetic",this.highlighted&&!this.noHandles&&(g="p0"==this.highlighted,this.littleCircle(t,s,l,g))}},D.Drawing.callout.prototype.click=function(t,e,i){var a;if(!this.stx.overXAxis&&!this.stx.overYAxis)return a=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,e,i,a.chart),this.penDown?(this.adjust(),this.edit(t),this.penDown=!1):(this.stem={d:this.d0,v:this.v0},this.penDown=!0,this.adjust(),!1)},D.Drawing.callout.prototype.reposition=function(t,e,i,a){var r,n,s;e&&(r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,F.P2c(),e.stem?("drag"==e.action?this.stem={d:this.stx.dateFromTick(i,r.chart,!0),v:a}:"move"==e.action&&(this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(e.stem.d,r.chart)-n),v:e.stem.v-s}),this.adjust()):this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.render(t))},D.Drawing.callout.prototype.lineIntersection=function(t,e,i,a){var r,n=this.stx.panels[this.panelName],s=this.stem,o=this.p0,l=this.stx;return!!(o&&s&&n)&&(r=s.t||this.stx.tickFromDate(s.d,n.chart),n={x0:o[0],x1:r,y0:o[1],y1:s.v},o=(r=D.convertBoxToPixels(l,this.panelName,n)).x0,s=r.y0,n=r.x1,r=r.y1,F.P2c(),"string"==typeof this.stemEntry&&(-1<this.stemEntry.indexOf("l")?o-=this.w/2:-1<this.stemEntry.indexOf("r")&&(o+=this.w/2),-1<this.stemEntry.indexOf("t")?s-=this.h/2:-1<this.stemEntry.indexOf("b")&&(s+=this.h/2)),i=D.convertBoxToPixels(l,this.panelName,i),D.boxIntersects(i.x0,i.y0,i.x1,i.y1,o,s,n,r,a))},D.Drawing.callout.prototype.intersected=function(t,e,i){var a,r,n,s,o,l=this.stx.panels[this.panelName];return this.p0?this.pointIntersection(this.stem.t,this.stem.v,i)?(this.highlighted="p0",{action:"drag",stem:!0}):(a=this.stx.pixelFromTick(this.p0[0],l.chart)-this.w/2,r=this.stx.pixelFromValueAdjusted(l,this.p0[0],this.p0[1])-this.h/2,n=a+this.w,s=r+this.h,F.P2c(),this.stem&&this.stem.x&&(a+=this.stem.x,n+=this.stem.x,r+=this.stem.y,s+=this.stem.y),o=this.stx.pixelFromTick(t,l.chart),l=this.stx.pixelFromValueAdjusted(l,t,e),a<=o&&o<=n&&r<=l&&l<=s?(this.highlighted=!0,{p0:D.clone(this.p0),tick:t,value:e}):this.lineIntersection(t,e,i,"segment")?(this.highlighted=!0,{action:"move",stem:D.clone(this.stem),p0:D.clone(this.p0),tick:t,value:e}):null):null},D.Drawing.fibprojection=function(){var t;this.name="fibprojection",this.dragToDraw=!1,F.P2c(),t=2;for(var e=1;359210025!==F.R2o(e.toString(),e.toString().length,24565);e++)this.p2=1,t+=2;-402897430!==F.R2o(t.toString(),t.toString().length,10230)&&(this.p2=null)},D.Drawing.fibprojection.ciqInheritsFrom(D.Drawing.fibonacci),F.H4A(5),D.Drawing.fibprojection.prototype.recommendedLevels=[0,.618,1,F.N4A("1.272",1),F.N4A("1.618",0,F.s4A(9)),2.618,4.236],D.Drawing.fibprojection.prototype.click=function(t,e,i){var a=this.stx.panels[this.panelName];if(a)return this.copyConfig(),this.penDown?this.accidentalClick(e,i)?(this.stx.undo(),!0):null!==this.p2?(this.setPoint(2,this.p2[0],this.p2[1],a.chart),this.parameters=D.clone(this.parameters),!0):(this.setPoint(1,e,i,a.chart),!(this.p2=[this.p1[0],this.p1[1]])):(F.H4A(12),this.setPoint(F.N4A("0",1307757184),e,i,a.chart),!(this.penDown=!0))},D.Drawing.fibprojection.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w="seg";if(w+="men",w+="t",x="161",x+=".8",x+="%",e=this.stx.panels[this.panelName],e&&(i=e.yAxis,this.p1)){if(a=this.p1[1]-this.p0[1],r=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),l=w=null,this.p2){w=this.stx.pixelFromTick(this.p2[0],e.chart),F.s4A(23),h=-F.E4A(2147483647,"240626838"),F.H4A(12),c=F.E4A("2",1424115456);for(var A=1;F.X2o(A.toString(),A.toString().length,19743)!==h;A++)l=this.stx.pixelFromValueAdjusted(e,this.p2[1],this.p2[0]),c+=2;899192401!==F.R2o(c.toString(),c.toString().length,30330)&&(l=this.stx.pixelFromValueAdjusted(e,this.p2[0],this.p2[1]))}if(k={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=k),u=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),p=t.measureText("161.8%").width+10,"auto"!=(d=this.color)&&!D.isTransparent(d)||(d=this.stx.defaultColor),this.p2){this.rays=[];for(var T=0;T<this.parameters.fibs.length;T++)m="unde",m+="f",m+="ined",t.textAlign="left",t.fillStyle=d,(S=this.parameters.fibs[T]).display&&(g=this.stx.pixelFromValueAdjusted(e,this.p2[0],this.p2[1]+a*S.level),b=D.xIntersection({x0:r,x1:n,y0:s,y1:o},g),f=this.parameters.extendLeft?0:r,m=e.left+e.width,this.parameters.printLevels&&(y=Math.round(1e3*S.level)/10+"%",m-=p,this.parameters.printValues&&(t.fillStyle=d,this.stx.canvasFont("stx_yaxis",t)),m<f&&(t.textAlign="right"),t.fillText(y,m,g),m<f?m+=5:(F.H4A(2),m-=F.E4A(0,"5"))),this.parameters.printValues&&b<e.width&&(v=this.stx.transformedPriceFromPixel(g,e),v=i.priceFormatter?i.priceFormatter(this.stx,e,v):this.stx.formatYAxisPrice(v,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,v,g,d,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),"auto"!=(b=S.color)&&!D.isTransparent(b)||(b=this.color),"auto"!=b&&!D.isTransparent(b)||(b=this.stx.defaultColor),"auto"!=(v=S.color)&&!D.isTransparent(v)||(v=this.fillColor),"auto"!=v&&!D.isTransparent(v)||(v=this.stx.defaultColor),t.fillStyle=v,S=D.clone(S.parameters),this.highlighted&&(S.opacity=1),this.stx.plotLine(f,m,g,g,this.highlighted?u:b,"segment",t,e,S),this.rays.push([[f,g],[m,g]]),F.H4A(5),t.globalAlpha=F.E4A("0.05",1),t.beginPath(),t.moveTo(m,g),t.lineTo(f,g),f?t.lineTo(r,l):t.lineTo(f,l),t.lineTo(m,l),void 0!==v&&t.fill(),F.s4A(9),t.globalAlpha=F.N4A("1",0))}x=D.clone(this.parameters.trend.parameters),this.highlighted&&(x.opacity=1),this.stx.plotLine(r,n,s,o,u,"segment",t,e,x),this.p2&&this.stx.plotLine(n,w,o,l,u,"segment",t,e,x),this.highlighted&&(k="p0"==this.highlighted,x="p1"==this.highlighted,C="p2"==this.highlighted,this.littleCircle(t,r,s,k),this.littleCircle(t,n,o,x),this.littleCircle(t,w,l,C))}},D.Drawing.fibprojection.prototype.move=function(t,e,i){F.P2c(),this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[e,i]:this.p2=[e,i],this.render(t))},D.Drawing.fibprojection.prototype.reposition=function(t,e,i,a){var r,n,s;e&&(r=this.stx.panels[this.panelName],F.P2c(),n=e.tick-i,s=e.value-a,"move"==e.action?(this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.setPoint(1,e.p1[0]-n,e.p1[1]-s,r.chart),this.setPoint(2,e.p2[0]-n,e.p2[1]-s,r.chart),this.render(t)):"drag"==e.action&&(this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.setPoint(2,this.p2[0],this.p2[1],r.chart),this.render(t)))},D.Drawing.fibprojection.prototype.intersected=function(t,e,i){var a,r,n,s,o=this.p0,l=this.p1,h=this.p2;if(!o||!l||!h)return null;for(s in a={0:o,1:l,2:h})if(this.pointIntersection(a[s][0],a[s][1],i))return F.s4A(1),this.highlighted=F.E4A("p",s),{action:"drag",point:"p"+s};if(r=this.rays,n=this.lineIntersection(t,e,i,"segment",o,l)||this.lineIntersection(t,e,i,"segment",l,h),F.U2c(),!n)for(var c=0;c<r.length;c++)if(this.lineIntersection(t,e,i,"ray",r[c][0],r[c][1],!0)){n=!0;break}return n?(this.highlighted=!0,{action:"move",p0:D.clone(o),p1:D.clone(l),p2:D.clone(h),tick:t,value:e}):null},D.Drawing.fibprojection.prototype.adjust=function(){var t=this.stx.panels[this.panelName];t&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d2,this.v2,t.chart))},D.Drawing.fibarc=function(){this.name="fibarc"},D.Drawing.fibarc.ciqInheritsFrom(D.Drawing.fibonacci),D.Drawing.fibarc.prototype.recommendedLevels=[.382,.5,.618,1],D.Drawing.fibarc.prototype.setOuter=function(){var t,e,i,a,r,n=this.stx.panels[this.panelName];n&&(F.U2c(),this.outer={p0:D.clone(this.p0),p1:D.clone(this.p1)},t=this.stx.pixelFromValueAdjusted(n,this.p0[0],this.p0[1]),r=this.stx.pixelFromValueAdjusted(n,this.p1[0],this.p1[1]),e=this.stx.pixelFromTick(this.p0[0],n.chart),i=this.stx.pixelFromTick(this.p1[0],n.chart),F.s4A(24),a=F.E4A(r,t,2),r=D.xIntersection({x0:e,x1:i,y0:t,y1:r},a),this.outer.p0[1]=this.stx.valueFromPixel(a,n),this.outer.p0[0]=this.stx.tickFromPixel(r,n.chart))},D.Drawing.fibarc.prototype.intersected=function(t,e,i){var a,r,n,s,o=this.stx.panels[this.panelName];if(o){if(r=this.p0,n=this.p1,s=this.outer,!r||!n)return null;for(var l in a={0:r,1:n})if(this.pointIntersection(a[l][0],a[l][1],i))return F.H4A(1),this.highlighted=F.E4A("p",l),{action:"drag",point:"p"+l};return this.lineIntersection(t,e,i,"segment",s.p0,s.p1)?(this.highlighted=!0,{action:"move",p0:D.clone(r),p1:D.clone(n),tick:t,value:e}):(s={x0:r[0],x1:n[0],y0:r[1],y1:n[1]},r=D.convertBoxToPixels(this.stx,this.panelName,s),n={x:Math.abs(Math.sqrt(2)*(r.x1-r.x0)),y:Math.abs(Math.sqrt(2)*(r.y1-r.y0))},s=this.stx.pixelFromTick(t,o.chart),o=this.stx.pixelFromValueAdjusted(o,t,e),s<r.x1-n.x||s>r.x1+n.x||o<r.y1-n.y||o>r.y1+n.y||r.y0<r.y1&&o>r.y1||r.y0>r.y1&&o<r.y1?null:(this.highlighted=!0,{action:"move",p0:D.clone(this.p0),p1:D.clone(this.p1),tick:t,value:e}))}},D.Drawing.fibarc.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b=this.stx.panels[this.panelName];if(b&&(e=b.yAxis,this.p1)){i=this.stx.pixelFromTick(this.p0[0],b.chart),a=this.stx.pixelFromTick(this.p1[0],b.chart),r=this.stx.pixelFromValueAdjusted(b,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(b,this.p1[0],this.p1[1]),F.s4A(25),s=F.N4A(r,n),F.H4A(26),o=Math.abs(F.N4A(a,n,r,i)),l=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),"auto"!=(h=this.color)&&!D.isTransparent(h)||(h=this.stx.defaultColor);for(var v=0;v<this.parameters.fibs.length;v++)t.fillStyle=h,(c=this.parameters.fibs[v]).level<0||!c.display||(g=Math.abs(this.p1[1]-this.p0[1])*Math.sqrt(2)*c.level,u=this.p1[1]+g*(s?-1:1),p=this.stx.pixelFromValueAdjusted(b,this.p0[0],u),d=D.xIntersection({x0:i,x1:a,y0:r,y1:n},p),this.parameters.printLevels&&(t.textAlign="center",g=Math.round(1e3*c.level)/10+"%",this.parameters.printValues&&(t.fillStyle=h,this.stx.canvasFont("stx_yaxis",t)),t.fillText(g,a,Math.round(p-5))),t.textAlign="left",this.parameters.printValues&&d<b.width&&(f=u,f=e.priceFormatter?e.priceFormatter(this.stx,b,f):this.stx.formatYAxisPrice(f,b),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(b,f,p,h,null,t),t==this.stx.chart.context&&this.stx.startClip(b.name)),"auto"!=(f=c.color)&&!D.isTransparent(f)||(f=this.color),"auto"!=f&&!D.isTransparent(f)||(f=this.stx.defaultColor),t.strokeStyle=this.highlight?l:f,"auto"!=(f=c.color)&&!D.isTransparent(f)||(f=this.fillColor),"auto"!=f&&!D.isTransparent(f)||(f=this.stx.defaultColor),t.fillStyle=f,t.globalAlpha=this.highlighted?1:c.parameters.opacity,t.lineWidth=c.parameters.lineWidth,t.setLineDash&&(t.setLineDash(D.borderPatternToArray(t.lineWidth,c.parameters.pattern)),F.s4A(9),t.lineDashOffset=F.N4A("0",0)),t.save(),t.beginPath(),F.s4A(6),t.scale(F.E4A(o,1),1),F.s4A(5),t.arc(F.N4A(a,o),n,Math.abs(p-n),0,Math.PI,!s),"none"!=this.pattern&&t.stroke(),t.globalAlpha=.05,t.fill(),t.restore(),t.setLineDash&&t.setLineDash([]),t.globalAlpha=1);t.textAlign="left",y=D.clone(this.parameters.trend.parameters),this.highlighted&&(y.opacity=1),F.s4A(27),F.P2c(),this.stx.plotLine(a,F.E4A(a,"2",i),n,F.N4A(n,r,2,F.H4A(24)),l,"segment",t,b,y),this.highlighted&&(m="p0"==this.highlighted,y="p1"==this.highlighted,this.littleCircle(t,i,r,m),this.littleCircle(t,a,n,y))}},D.Drawing.fibfan=function(){F.P2c(),this.name="fibfan"},D.Drawing.fibfan.ciqInheritsFrom(D.Drawing.fibonacci),F.s4A(9),D.Drawing.fibfan.prototype.recommendedLevels=[0,.382,.5,F.E4A("0.618",0),1],D.Drawing.fibfan.prototype.setOuter=function(){},D.Drawing.fibfan.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A;if(e=this.stx.panels[this.panelName],e&&(i=e.yAxis,this.p1)){a=this.stx.pixelFromTick(this.p0[0],e.chart),r=this.stx.pixelFromTick(this.p1[0],e.chart),n=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),o=Math.min(s,n),l=Math.max(s,n),F.H4A(9),h=F.E4A(l,o),F.s4A(28),c=F.N4A(0,r,a,s,n),u=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),p=t.measureText("161.8%").width+10,d=Number.MAX_VALUE,g=-1*Number.MAX_VALUE,"auto"!=(f=this.color)&&!D.isTransparent(f)||(f=this.stx.defaultColor),this.rays=[];for(var T=0;T<this.parameters.fibs.length;T++)v="l",v+="e",v+="f",v+="t",t.fillStyle=f,(x=this.parameters.fibs[T]).display&&(m=this.stx.pixelFromValueAdjusted(e,this.p0[0],(this.p0[1]-this.p1[1])*x.level+this.p1[1]),y=D.xIntersection({x0:r,x1:r,y0:n,y1:s},m),b=e.left,a<r&&(b+=e.width),F.H4A(29),v=F.E4A(a,n,n,y,m,b,a),a>b-(this.parameters.printLevels?p+5:0)&&a<r||a<b+(this.parameters.printLevels?p+5:0)&&r<a||(this.parameters.printLevels&&(S=Math.round(1e3*x.level)/10+"%",a<r?(b-=p,t.textAlign="left"):(b+=p,t.textAlign="right"),this.parameters.printValues&&(t.fillStyle=f,this.stx.canvasFont("stx_yaxis",t)),F.s4A(29),v=F.N4A(a,n,n,y,m,b,a),t.fillText(S,b,v),a<r?b-=5:b+=5),t.textAlign="left",this.parameters.printValues&&y<e.width&&(k=this.stx.transformedPriceFromPixel(m,e),k=i.priceFormatter?i.priceFormatter(this.stx,e,k):this.stx.formatYAxisPrice(k,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,k,m,f,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),"auto"!=(S=x.color)&&!D.isTransparent(S)||(S=this.color),"auto"!=S&&!D.isTransparent(S)||(S=this.stx.defaultColor),"auto"!=(k=x.color)&&!D.isTransparent(k)||(k=this.fillColor),"auto"!=k&&!D.isTransparent(k)||(k=this.stx.defaultColor),t.fillStyle=k,this.parameters.printLevels&&(F.H4A(29),v=F.E4A(a,n,n,y,m,b,a)),x=D.clone(x.parameters),this.highlighted&&(x.opacity=1),this.stx.plotLine(a,b,n,v,this.highlighted?u:S,"segment",t,e,x),this.rays.push([[a,n],[b,v]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(b,v),t.lineTo(a,n),t.lineTo(b,n),t.fill(),t.globalAlpha=1,m<d&&(d=m),g<m&&(g=m)));for(var M=0;M<=1;M++)C=c?l-h*M:o+h*M,(C=Math.round(C))<d&&(d=C),g<C&&(g=C);this.highlighted&&(w="p0"==this.highlighted,A="p1"==this.highlighted,this.littleCircle(t,a,n,w),this.littleCircle(t,r,s,A))}},D.Drawing.fibtimezone=function(){F.U2c(),this.name="fibtimezone"},D.Drawing.fibtimezone.ciqInheritsFrom(D.Drawing.fibonacci),D.Drawing.fibtimezone.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b;if(e=this.stx.panels[this.panelName],e&&this.p1){for(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),b=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),r=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),F.s4A(23),n=[1,F.E4A(2147483647,"0")],s=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),o=this.p1[0]-this.p0[0],"auto"!=(l=this.color)&&!D.isTransparent(l)||(l=this.stx.defaultColor),t.textAlign="center",c=e.yAxis.top,u=e.yAxis.bottom,p=0,"auto"!=(d=this.parameters.timezone.color)&&!D.isTransparent(d)||(d=this.color),"auto"!=d&&!D.isTransparent(d)||(d=this.stx.defaultColor),"auto"!=(g=this.parameters.timezone.color)&&!D.isTransparent(g)||(g=this.fillColor),"auto"!=g&&!D.isTransparent(g)||(g=this.stx.defaultColor),this.parameters.printLevels&&(F.s4A(9),u-=F.N4A(20,7)),f=D.clone(this.parameters.timezone.parameters),this.highlighted&&(f.opacity=1);h=this.stx.pixelFromTick(this.p0[0]+p*o,e.chart),!(i<a&&h>e.left+e.width)&&!(a<i&&h<e.left)&&(this.parameters.printLevels&&(t.fillStyle=l,t.fillText(i<a?p:-1*p,h,u+7)),t.fillStyle=g,this.stx.plotLine(h,h,0,u,this.highlighted?s:d,"segment",t,e,f),t.globalAlpha=.05,t.beginPath(),t.moveTo(i,c),t.lineTo(h,c),t.lineTo(h,u),t.lineTo(i,u),t.fill(),t.globalAlpha=1,p=n[0]+n[1],n.unshift(p),o););t.textAlign="left",this.stx.plotLine(i,a,b,r,s,"segment",t,e,f),this.highlighted?(m="p0"==this.highlighted,y="p1"==this.highlighted,this.littleCircle(t,i,b,m),this.littleCircle(t,a,r,y)):(y=this.stx.valueFromPixel(e.height/2,e),F.s4A(2),this.setPoint(F.E4A(0,"0"),this.p0[0],y,e.chart),this.setPoint(1,this.p1[0],y,e.chart))}},D.Drawing.fibtimezone.prototype.intersected=function(t,e,i){var a,r,n=this.p0,s=this.p1,o=this.stx.panels[this.panelName];if(!n||!s||!o)return null;for(r in a={0:n,1:s})if(this.pointIntersection(a[r][0],a[r][1],i))return F.s4A(1),this.highlighted=F.E4A("p",r),{action:"drag",point:"p"+r};return this.lineIntersection(t,e,i,"segment")||i.x0<=this.p0[0]&&i.x1>=n[0]?(this.highlighted=!0,{action:"move",p0:D.clone(n),p1:D.clone(s),tick:t,value:e}):(F.P2c(),null)},D.Drawing.shape=function(){this.name="shape",this.radians=0,this.a=0,this.rotating=!1,this.textMeasure=!1,this.configurator="shape",this.dimension=[0,0],this.points=[]},D.Drawing.shape.ciqInheritsFrom(D.Drawing.BaseTwoPoint),D.Drawing.shape.prototype.measure=function(){},D.Drawing.shape.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b;if(this.points.length&&(e=this.stx.panels[this.panelName])){if(y=this.stx.pixelFromTick(this.p0[0],e.chart),b=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),this.p1&&(i=this.stx.pixelFromTick(this.p1[0],e.chart),m=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),t.globalAlpha=.5,t.fillStyle="#000000",this.rotating?(F.H4A(26),this.radians=Math.atan(F.E4A(i,m,b,y)),i<y?this.radians+=Math.PI:m<b&&(this.radians+=2*Math.PI),this.a=5*parseInt((36*this.radians/Math.PI).toFixed(0),10),this.a%=360,this.radians=this.a*Math.PI/180,this.textMeasure&&t.fillText(this.a+"",i+10,m+10)):this.penDown&&(this.sx=Math.max(1,parseFloat(Math.abs(2*(i-y)/this.dimension[0]).toFixed(1))),i<y&&(F.H4A(2),this.sx*=-F.E4A(0,"1")),this.sy=Math.max(1,parseFloat(Math.abs(2*(m-b)/this.dimension[1]).toFixed(1))),m<b&&(this.sy*=-1),this.textMeasure&&t.fillText(this.sx+"x,"+this.sy+"x",i+this.sx+5,m+this.sy+5)),t.globalAlpha=1),a=(a=this.lineWidth)||1.1,r={pattern:this.pattern,lineWidth:a},this.highlighted&&"none"==r.pattern){r.pattern="solid",n=2;for(var v=1;-1268404950!==F.X2o(v.toString(),v.toString().length,36549);v++).1==r.lineWidth&&(r.lineWidth=1),n+=2;1023648813!==F.R2o(n.toString(),n.toString().length,3810)&&828!=r.lineWidth&&(r.lineWidth=5)}for("auto"!=(s=this.color)&&!D.isTransparent(s)||(s=this.stx.defaultColor),this.highlighted&&(s=this.stx.getCanvasColor("stx_highlight_vector"),.1==a&&(a=1.1)),o=this.fillColor,F.U2c(),a/=2*Math.abs(this.sx*this.sy)/(Math.abs(this.sx)+Math.abs(this.sy)),t.save(),t.translate(y,b),t.rotate(this.radians),t.scale(this.sx,this.sy),l=0;l<this.points.length;l++){for(t.beginPath(),h=0;h<this.points[l].length;h++)"M"==this.points[l][h]?(c=this.points[l][++h]-(this.dimension[0]-1)/2,u=this.points[l][++h]-(this.dimension[1]-1)/2,t.moveTo(c,u)):"L"==this.points[l][h]?(c=this.points[l][++h]-(this.dimension[0]-1)/2,u=this.points[l][++h]-(this.dimension[1]-1)/2,t.lineTo(c,u)):"Q"==this.points[l][h]?(p=this.points[l][++h]-(this.dimension[0]-1)/2,g=this.points[l][++h]-(this.dimension[1]-1)/2,c=this.points[l][++h]-(this.dimension[0]-1)/2,u=this.points[l][++h]-(this.dimension[1]-1)/2,t.quadraticCurveTo(p,g,c,u)):"B"==this.points[l][h]&&(p=this.points[l][++h]-(this.dimension[0]-1)/2,g=this.points[l][++h]-(this.dimension[1]-1)/2,d=this.points[l][++h]-(this.dimension[0]-1)/2,f=this.points[l][++h]-(this.dimension[1]-1)/2,c=this.points[l][++h]-(this.dimension[0]-1)/2,u=this.points[l][++h]-(this.dimension[1]-1)/2,t.bezierCurveTo(p,g,d,f,c,u));t.closePath(),o&&!D.isTransparent(o)&&"auto"!=o&&(t.fillStyle=o,t.fill()),s&&"none"!=this.pattern&&(t.strokeStyle=s,t.lineWidth=a,t.setLineDash&&(t.setLineDash(D.borderPatternToArray(a,this.pattern)),t.lineDashOffset=0),t.stroke())}t.restore(),t.save(),t.translate(y,b),t.rotate(this.radians),this.highlighted?(m="p0"==this.highlighted,y="p1"==this.highlighted,b="p2"==this.highlighted,this.littleCircle(t,0,0,m),this.mover(t,0,0,m),this.littleCircle(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,y),this.resizer(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,y),this.littleCircle(t,this.sx*this.dimension[0]/2,0,b),this.rotator(t,this.sx*this.dimension[0]/2,0,b),t.globalAlpha=.5,t.fillStyle="#000000",this.textMeasure&&(t.fillText(this.sx+"x,"+this.sy+"x",this.sx*this.dimension[0]/2+12,this.sy*this.dimension[1]/2+5),t.fillText(this.a+"",this.sx*this.dimension[0]/2+12,5)),t.globalAlpha=1):this.penDown&&(this.rotating?this.rotator(t,this.sx*this.dimension[0]/2,0,!0):this.resizer(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,!0)),t.restore()}},D.Drawing.shape.prototype.reposition=function(t,e,i,a){var r,n,s,o,l;if(e)if(o=this.stx.panels[this.panelName],"move"==e.action)r=e.tick-i,n=e.value-a,F.H4A(11),this.setPoint(F.N4A(1428724672,"0"),e.p0[0]-r,e.p0[1]-n,o.chart),this.render(t);else if(r=this.stx.pixelFromTick(this.p0[0],o.chart),n=this.stx.pixelFromValueAdjusted(o,this.p0[0],this.p0[1]),s=this.stx.pixelFromTick(i,o.chart),o=this.stx.pixelFromValueAdjusted(o,i,a),"scale"==e.action)this[e.point]=[i,a],this.sx=parseFloat((((s-r)*Math.cos(this.radians)+(o-n)*Math.sin(this.radians))/(this.dimension[0]/2)).toFixed(1)),Math.abs(this.sx)<1&&(this.sx/=Math.abs(this.sy)),this.sy=parseFloat((((o-n)*Math.cos(this.radians)-(s-r)*Math.sin(this.radians))/(this.dimension[1]/2)).toFixed(1)),Math.abs(this.sy)<1&&(this.sy/=Math.abs(this.sy)),this.render(t);else if("rotate"==e.action){this[e.point]=[i,a],F.s4A(26),this.radians=Math.atan(F.E4A(s,o,n,r)),s<r?this.radians+=Math.PI:o<n&&(this.radians+=2*Math.PI),this.a=5*parseInt((36*this.radians/Math.PI).toFixed(0),10),this.sx<0&&(this.a=this.a+180),this.a%=360,this.radians=this.a*Math.PI/180,l=2;for(var h=1;2107250279!==F.X2o(h.toString(),h.toString().length,20275);h++)this.render(t),l+=2;1098731246!==F.R2o(l.toString(),l.toString().length,23228)&&this.render(t)}},D.Drawing.shape.prototype.intersected=function(t,e,i){var a,r,n,s,o,l;return this.p0?this.stx.repositioningDrawing==this&&this.stx.repositioningDrawing.repositioner?this.stx.repositioningDrawing.repositioner:(l=this.stx.panels[this.panelName],r=this.stx.pixelFromTick(this.p0[0],l.chart),s=this.stx.pixelFromValueAdjusted(l,this.p0[0],this.p0[1]),a=this.stx.pixelFromTick(t,l.chart),o=this.stx.pixelFromValueAdjusted(l,t,e),n=o-=s,l=a-=r,a=Math.cos(this.radians)*l+Math.sin(this.radians)*n,o=Math.cos(this.radians)*n-Math.sin(this.radians)*l,a/=this.sx,o/=this.sy,s=Math.pow(D.touchDevice?25:5+this.littleCircleRadius(),2),r=Math.abs(s/(this.sx*this.sy)),n=Math.pow(this.dimension[0]/2,2)+Math.pow(this.dimension[1]/2,2)>Math.pow(a,2)+Math.pow(o,2),l=(s-(Math.pow(a*this.sx,2)+Math.pow(o*this.sy,2)))/Math.abs(this.sx*this.sy),s=r-(Math.pow(a-this.dimension[0]/2,2)+Math.pow(o-this.dimension[1]/2,2)),o=r-(Math.pow(a-this.dimension[0]/2,2)+Math.pow(o,2)),0<s&&o<=s&&l<=s?(this.highlighted="p1",{action:"scale"}):0<o&&s<=o&&l<=o?(this.highlighted="p2",{action:"rotate"}):0<l&&s<=l&&o<=l?(this.highlighted="p0",{action:"move",p0:D.clone(this.p0),tick:t,value:e}):n?(this.highlighted=!0,{}):null):null},D.Drawing.shape.prototype.configs=["color","fillColor","lineWidth","pattern"],D.Drawing.shape.prototype.littleCircleRadius=function(){F.U2c();var t=1;return-672217819!==F.R2o(t.toString(),t.toString().length,45776)||-1903665317!==F.R2o(2..toString(),2..toString().length,43155)?2:3},D.Drawing.shape.prototype.click=function(t,e,i){var a,r;if(!this.points.length)return!1;if(this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown)return this.setPoint(1,e,i,a.chart),this.rotating?(this.penDown=!1,!(this.rotating=!1)):(this.rotating=!0,F.P2c(),!1);r=2;for(var n=1;499258529!==F.R2o(n.toString(),n.toString().length,74074);n++)this.setPoint(0,e,i,a.chart),this.penDown=!0,r+=2;return 1111741235!==F.R2o(r.toString(),r.toString().length,43944)&&(this.setPoint(1,e,i,a.chart),this.penDown=!1),!1},D.Drawing.shape.prototype.adjust=function(){var t=this.stx.panels[this.panelName];t&&(this.setPoint(0,this.d0,this.v0,t.chart),this.radians=Math.round(this.a/5)*Math.PI/36)},D.Drawing.shape.prototype.reconstruct=function(t,e){this.stx=t,F.U2c(),this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.v0=e.v0,this.tzo0=e.tzo0,this.a=e.a,this.sx=e.sx,this.sy=e.sy,this.adjust()},D.Drawing.shape.prototype.serialize=function(){return F.U2c(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy}},D.Drawing.xcross=function(){var t,e;this.name="xcross",F.H4A(23),t=-F.E4A(2147483647,"1346003962"),e=2;for(var i=1;F.R2o(i.toString(),i.toString().length,95178)!==t;i++)this.dimension=[8,2],e+=2;-1882929842!==F.R2o(e.toString(),e.toString().length,33117)&&(F.s4A(2),this.dimension=[F.N4A(0,"0"),6]),F.U2c(),F.H4A(2),this.dimension=[F.E4A(4,"7"),7],F.s4A(23),this.points=[["M",1,0,"L",3,2,"L",5,0,"L",6,1,"L",4,3,"L",F.N4A(2147483647,"6"),5,"L",5,6,"L",3,4,"L",1,6,"L",0,5,"L",2,3,"L",0,1,"L",1,0]]},D.Drawing.xcross.ciqInheritsFrom(D.Drawing.shape),D.Drawing.arrow=function(){var t;this.name="arrow",F.s4A(11),t=F.N4A(1990795424,"2");for(var e=1;784848726!==F.R2o(e.toString(),e.toString().length,79812);e++)F.H4A(10),this.dimension=[F.E4A("42",0),44],F.H4A(9),this.points=[[5287014,9,6,"L",8,9,11,8,4,6238435,70,0,"L",4,45,413752,3,0,"L",4,F.E4A("2",0),"L",5,F.E4A("6",0,F.H4A(10))]],t+=2;1250661322!==F.R2o(t.toString(),t.toString().length,36124)&&(F.H4A(11),this.dimension=[F.E4A(778486144,"76"),17],F.s4A(23),this.points=[["Q",F.E4A(2147483647,"1"),2,"L",5,1,64,9,F.E4A(1377154240,"2",F.H4A(11)),6171205,35,7,746199,0,63,"L",9,2,"L",8,8,"L",F.E4A(2140276768,"9",F.H4A(11)),8]]),F.H4A(11),this.dimension=[11,F.E4A(1067633088,"11")],F.H4A(9),this.points=[["M",F.E4A("3",0),0,"L",F.N4A("7",1747545664,F.s4A(12)),0,"L",7,5,"L",10,5,"L",5,10,"L",0,5,"L",3,5,"L",F.E4A("3",1,F.s4A(5)),0]]},D.Drawing.arrow.ciqInheritsFrom(D.Drawing.shape),D.Drawing.check=function(){var t;this.name="check",t=2;for(var e=1;-203556605!==F.X2o(e.toString(),e.toString().length,20703);e++)this.dimension=[9,1],t+=2;1044074240!==F.X2o(t.toString(),t.toString().length,73104)&&(this.dimension=[8,9]),F.H4A(2),this.points=[["M",1,5,"L",0,6,"L",2,8,"L",7,1,"L",6,0,"L",2,F.E4A(6,"6"),"L",1,5]]},D.Drawing.check.ciqInheritsFrom(D.Drawing.shape),D.Drawing.star=function(){this.name="star",this.dimension=[12,12],F.H4A(9),this.points=[["M",0,4,"L",4,4,"L",5.5,0,"L",7,4,"L",11,4,"L",8,7,"L",9,11,"L",5.5,F.N4A("9",0),"L",2,11,"L",3,7,"L",0,4]]},D.Drawing.star.ciqInheritsFrom(D.Drawing.shape),D.Drawing.heart=function(){this.name="heart",this.dimension=[23,20],F.H4A(5),this.points=[["M",11,F.E4A("3",1),"B",11,2.4,F.E4A(2147483647,"10",F.s4A(23)),0,6,0,"B",0,0,0,7.5,F.E4A("0",2076813984,F.H4A(12)),7.5,"B",0,11,4,15.4,11,19,"B",18,15.4,22,11,22,7.5,"B",22,F.E4A("7.5",0,F.s4A(9)),22,0,16,0,"B",13,0,11,2.4,11,3]]},D.Drawing.heart.ciqInheritsFrom(D.Drawing.shape),D.Drawing.focusarrow=function(){this.name="focusarrow",this.dimension=[7,5],F.H4A(2),this.points=[["M",F.N4A(0,"0"),0,"L",2,F.E4A("2",933757600,F.H4A(12)),"L",0,4,"L",0,0],["M",6,F.E4A("0",0,F.H4A(10)),"L",4,2,"L",6,4,"L",6,0]]},D.Drawing.focusarrow.ciqInheritsFrom(D.Drawing.shape),D.Drawing.crossline=function(){F.P2c(),this.name="crossline"},D.Drawing.crossline.ciqInheritsFrom(D.Drawing.horizontal),D.extend(D.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(t,e){return!1},adjust:function(){var t;F.U2c(),(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.p1=D.clone(this.p0))},intersected:function(t,e,i){var a;return this.p0&&this.p1?(F.U2c(),this.p1[0]+=1,a=this.lineIntersection(t,e,i,"line"),this.p1=D.clone(this.p0),a||(F.H4A(12),this.p1[1]+=F.E4A("1",974076800),a=this.lineIntersection(t,e,i,"line"),this.p1=D.clone(this.p0),a)?(this.highlighted=!0,this.pointIntersection(this.p0[0],this.p0[1],i)&&(i="p",i+="0",this.highlighted="p0"),{action:"move",p0:D.clone(this.p0),p1:D.clone(this.p1),tick:t,value:e}):null):null},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p=this.stx.panels[this.panelName];if(p){if(e=this.stx.pixelFromTick(this.p0[0],p.chart),i=this.stx.pixelFromValueAdjusted(p,this.p0[0],this.p0[1]),u=this.setLineColor(),a={pattern:this.pattern,lineWidth:this.lineWidth},F.H4A(1),this.stx.plotLine(e,F.N4A(e,100),i,i,u,"horizontal",t,p,a),F.H4A(1),this.stx.plotLine(e,e,i,F.N4A(i,100),u,"vertical",t,p,a),this.axisLabel&&!this.repositioner&&(this.stx.endClip(),n=this.p0[1],p.chart.transformFunc&&(n=p.chart.transformFunc(this.stx,p.chart,n)),n=p.yAxis.priceFormatter?p.yAxis.priceFormatter(this.stx,p,n):this.stx.formatYAxisPrice(n,p),this.stx.createYAxisLabel(p,n,i,u),this.stx.startClip(p.name),0<=this.p0[0]&&!this.stx.chart.xAxis.noDraw)){if(r=this.stx.dateFromTick(this.p0[0],p.chart,!0),D.ChartEngine.isDailyInterval(this.stx.layout.interval))r.setHours(0,0,0,0);else{F.s4A(9),s=F.N4A("2",0);for(var d=1;282346473!==F.R2o(d.toString(),d.toString().length,80240);d++)o=1e3*r.getSeconds()+r.getMilliseconds(),F.H4A(23),s+=F.E4A(2147483647,"2");868922961!==F.X2o(s.toString(),s.toString().length,8910)&&(o=r.getSeconds()/8603%r.getMilliseconds()),this.stx.displayZone&&(n=new f.Date(r.getTime(),this.stx.displayZone),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()),r=new Date(r.getTime()+o))}if(l=D.mmddhhmm(D.yyyymmddhhmm(r)),p.chart.xAxis.formatter){h=2;for(var g=1;-472550111!==F.X2o(g.toString(),g.toString().length,23877);g++)l=p.chart.xAxis.formatter(r),h+=2;-1105778071!==F.R2o(h.toString(),h.toString().length,95890)&&(l=p.chart.xAxis.formatter(r))}else this.stx.internationalizer&&(0!==r.getHours()||0!==r.getMinutes()?(c=this.stx.internationalizer.monthDay.format(r),c+=" "+this.stx.internationalizer.hourMinute.format(r)):c=this.stx.internationalizer.yearMonthDay.format(r),l=c);this.stx.endClip(),this.stx.createXAxisLabel(p,l,e,u,null,!0),this.stx.startClip(p.name)}this.highlighted&&(u="p0"==this.highlighted,this.littleCircle(t,e,i,u))}}},!0),D.Drawing.speedarc=function(){this.name="speedarc",F.U2c(),this.printLevels=!0},D.Drawing.speedarc.ciqInheritsFrom(D.Drawing.segment),D.extend(D.Drawing.speedarc.prototype,{defaultOpacity:.25,configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){for(var t=2,e=1;932968279!==F.X2o(e.toString(),e.toString().length,90147);e++)this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth,t+=2;564954435!==F.R2o(t.toString(),t.toString().length,48448)&&(this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth),this.pattern=this.stx.currentVectorParameters.pattern},intersected:function(t,e,i){var a,r,n,s,o,l;if(!this.p0||!this.p1)return null;for(l in a={0:this.p0,1:this.p1})if(this.pointIntersection(a[l][0],a[l][1],i))return F.s4A(1),this.highlighted=F.N4A("p",l),{action:"drag",point:"p"+l};return this.lineIntersection(t,e,i,this.name)?(this.highlighted=!0,{action:"move",p0:D.clone(this.p0),p1:D.clone(this.p1),tick:t,value:e}):(r=this.p1[0]-(this.p0[0]-this.p1[0]),n=this.p0[0],F.s4A(9),s=this.p1[F.E4A("1",0)],o=this.p0[1],t>Math.max(r,n)||t<Math.min(r,n)||e>Math.max(o,s)||e<Math.min(o,s)?null:(this.highlighted=!0,{action:"move",p0:D.clone(this.p0),p1:D.clone(this.p1),tick:t,value:e}))},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d;if(e=this.stx.panels[this.panelName],e&&this.p1){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),F.H4A(25),s=F.N4A(r,n),F.H4A(26),o=Math.abs(F.N4A(a,n,r,i)),l=this.setLineColor(),t.strokeStyle=l,F.U2c(),"auto"!=(h=this.fillColor)&&!D.isTransparent(h)||(h=this.stx.defaultColor),t.fillStyle=h,t.setLineDash&&(t.setLineDash(D.borderPatternToArray(this.lineWidth,this.pattern)),t.lineDashOffset=0),this.stx.canvasFont("stx_yaxis",t);for(var g=1;g<3;g++)c=Math.abs(this.p1[1]-this.p0[1])*Math.sqrt(2)*g/3,u=this.p1[1]+c*(s?-1:1),c=this.stx.pixelFromValueAdjusted(e,this.p0[0],u),t.save(),t.beginPath(),F.H4A(6),t.scale(F.E4A(o,1),1),F.s4A(5),t.arc(F.E4A(a,o),n,Math.abs(c-n),0,Math.PI,!s),t.globalAlpha=this.highlighted?1:this.defaultOpacity,"none"!=this.pattern&&t.stroke(),t.globalAlpha=.1,t.fill(),t.restore(),t.globalAlpha=1,this.printLevels&&(t.fillStyle=l,t.textAlign="center",F.s4A(1),u=F.N4A(g,"/3"),t.fillText(u,a,Math.round(c-5)),t.fillStyle=h);t.textAlign="left",p={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},this.stx.plotLine(i,a,r,n,l,"segment",t,e,p),t.setLineDash&&t.setLineDash([]),this.highlighted&&(d="p0"==this.highlighted,p="p1"==this.highlighted,this.littleCircle(t,i,r,d),this.littleCircle(t,a,n,p))}},reconstruct:function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,F.U2c(),this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}}},!0),D.Drawing.speedline=function(){this.name="speedline",this.printLevels=!0},D.Drawing.speedline.ciqInheritsFrom(D.Drawing.speedarc),D.extend(D.Drawing.speedline.prototype,{intersected:function(t,e,i){var a,r,n,s=this.p0,o=this.p1;if(!s||!o)return null;for(n in a={0:s,1:o})if(this.pointIntersection(a[n][0],a[n][1],i))return F.H4A(1),this.highlighted=F.N4A("p",n),{action:"drag",point:"p"+n};r=this.rays;for(var l=0;l<r.length;l++)if(this.lineIntersection(t,e,i,"ray",r[l][0],r[l][1],!0))return this.highlighted=!0,{action:"move",p0:D.clone(s),p1:D.clone(o),tick:t,value:e};return null},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C;if(e=this.stx.panels[this.panelName],e&&this.p1){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),F.U2c(),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),this.stx.canvasFont("stx_yaxis",t),s=this.setLineColor(),"auto"!=(o=this.color)&&!D.isTransparent(o)||(o=this.stx.defaultColor),t.strokeStyle=o,"auto"!=(l=this.fillColor)&&!D.isTransparent(l)||(l=this.stx.defaultColor),t.fillStyle=l,h={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},p=["1","2/3","1/3","3/2","3"],F.s4A(6),d=[1,F.N4A(3,2),F.N4A(3,1,F.H4A(6)),F.N4A(0,3,"2",F.H4A(30)),3],g=[],this.rays=[];for(var w=0;w<d.length;w++)1<(f=d[w])&&!this.extension||(m=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]-(this.p0[1]-this.p1[1])*f),1<f?(y=D.xIntersection({x0:i,x1:a,y0:r,y1:m},n),g.push(y)):(y=D.xIntersection({x0:a,x1:a,y0:r,y1:n},m),g.push(m)),b=1<f?y:a,v=1<f?n:m,this.confineToGrid||(b=e.left,i<a&&(b+=e.width),F.H4A(29),v=F.N4A(i,r,r,a,m,b,i)),this.printLevels&&(1==f&&!this.extension||(t.fillStyle=o,k=S=0,n<r?(k=-5,t.textBaseline="bottom"):(k=5,t.textBaseline="top"),a<i?(S=5,t.textAlign="right"):(S=-5,t.textAlign="left"),1<f?t.fillText(p[w],y+(this.confineToGrid?0:S),n):t.fillText(p[w],a,m+(this.confineToGrid?0:k)),t.fillStyle=l)),this.stx.plotLine(i,b,r,v,this.highlighted?s:o,"segment",t,e,h),1==f&&(c=b,u=v),this.rays.push([[i,r],[b,v]]),t.globalAlpha=.1,t.beginPath(),t.moveTo(b,v),t.lineTo(i,r),t.lineTo(c,u),t.fill(),t.globalAlpha=1);t.textAlign="left",t.textBaseline="middle",this.confineToGrid&&(F.H4A(9),t.globalAlpha=F.N4A("0.3",0),t.beginPath(),F.H4A(9),t.strokeRect(i,r,F.N4A(a,i),F.E4A(n,r)),t.moveTo(i,g[1]),t.lineTo(a,g[1]),t.moveTo(i,g[2]),t.lineTo(a,g[2]),this.extension&&(t.moveTo(g[3],r),t.lineTo(g[3],n),t.moveTo(g[4],r),t.lineTo(g[4],n)),t.stroke(),t.globalAlpha=1),this.highlighted&&(x="p0"==this.highlighted,C="p1"==this.highlighted,this.littleCircle(t,i,r,x),this.littleCircle(t,a,n,C))}}},!0),D.Drawing.gannfan=function(){F.P2c(),this.name="gannfan",this.printLevels=!0},D.Drawing.gannfan.ciqInheritsFrom(D.Drawing.speedline),D.extend(D.Drawing.gannfan.prototype,{render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k=this.stx.panels[this.panelName];if(k&&this.p1){e=this.stx.pixelFromTick(this.p0[0],k.chart),i=this.stx.pixelFromTick(this.p1[0],k.chart),a=this.stx.pixelFromValueAdjusted(k,this.p0[0],this.p0[1]),r=this.stx.pixelFromValueAdjusted(k,this.p1[0],this.p1[1]),this.stx.canvasFont("stx_yaxis",t),n=this.setLineColor(),"auto"!=(s=this.color)&&!D.isTransparent(s)||(s=this.stx.defaultColor),t.strokeStyle=s,"auto"!=(o=this.fillColor)&&!D.isTransparent(o)||(o=this.stx.defaultColor),t.fillStyle=o,l={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},F.H4A(6),u=[1,2,3,4,8,F.E4A(2,1),F.N4A(3,1,F.H4A(6)),F.N4A("1","4",F.H4A(31)),F.N4A(1,"1",8,F.s4A(18))],this.rays=[];for(var x=0;x<u.length;x++)p=u[x],F.s4A(32),d=F.N4A(p,e,e,i),F.s4A(33),g=F.E4A(p,a,r,a),f=k.left,e<i&&(f+=k.width),F.s4A(29),m=F.E4A(e,a,a,i,g,f,e),this.printLevels&&(t.fillStyle=s,b=y=0,r<a?(b=5,t.textBaseline="top"):(b=-5,t.textBaseline="bottom"),i<e?(y=5,t.textAlign="left"):(y=-5,t.textAlign="right"),1<p?(F.s4A(1),t.fillText(F.E4A(p,"x1"),F.N4A(d,y),r)):(F.H4A(34),t.fillText(F.E4A(p,"1","1x",0),i,F.N4A(g,b,F.s4A(1)))),t.fillStyle=o),this.stx.plotLine(e,f,a,m,this.highlighted?n:s,"segment",t,k,l),this.rays.push([[e,a],[f,m]]),1==p&&(h=f,c=m),t.globalAlpha=.1,t.beginPath(),t.moveTo(f,m),t.lineTo(e,a),t.lineTo(h,c),t.fill(),t.globalAlpha=1;t.textAlign="left",t.textBaseline="middle",this.highlighted&&(v="p0"==this.highlighted,S="p1"==this.highlighted,this.littleCircle(t,e,a,v),this.littleCircle(t,i,r,S))}}},!0),D.Drawing.timecycle=function(){this.name="timecycle",this.printLevels=!0},D.Drawing.timecycle.ciqInheritsFrom(D.Drawing.speedarc),D.extend(D.Drawing.timecycle.prototype,{intersected:function(t,e,i){var a,r,n=this.p0,s=this.p1,o=this.stx.panels[this.panelName];if(!n||!s||!o)return null;for(r in a={0:n,1:s})if(this.pointIntersection(a[r][0],a[r][1],i))return F.H4A(1),this.highlighted=F.N4A("p",r),{action:"drag",point:"p"+r};return this.lineIntersection(t,e,i,"segment")||i.x0<=this.p0[0]&&i.x1>=n[0]?(this.highlighted=!0,{action:"move",p0:D.clone(n),p1:D.clone(s),tick:t,value:e}):null},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v;if(p="ce",p+="nter",e=this.stx.panels[this.panelName],e&&this.p1){for(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),v=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),r=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),n=0,s=this.setLineColor(),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),o=this.p1[0]-this.p0[0],t.textAlign="center",h=e.yAxis.top,c=e.yAxis.bottom,"auto"!=(u=this.color)&&!D.isTransparent(u)||(u=this.stx.defaultColor),"auto"!=(p=this.fillColor)&&!D.isTransparent(p)||(p=this.stx.defaultColor),this.printLevels&&(F.H4A(9),c-=F.E4A(20,7)),d={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},g=[],t.save(),t.fillStyle=p,t.globalAlpha=.05;l=this.stx.pixelFromTick(this.p0[0]+n*o,e.chart),n++,!(i<a&&l>e.left+e.width)&&!(a<i&&l<e.left)&&(l<e.left||l>e.left+e.width||(t.beginPath(),t.moveTo(i,h),t.lineTo(l,h),t.lineTo(l,c),t.lineTo(i,c),t.fill(),g.push({c:n,x:l})),o););t.globalAlpha=1;for(var S=f=0;S<g.length;S++)this.stx.plotLine(g[S].x,g[S].x,0,c,this.highlighted?s:u,"segment",t,e,d),this.printLevels&&(t.fillStyle=u,this.stx.chart.context.measureText(g[S].c).width+3<this.stx.layout.candleWidth+f?(t.fillText(g[S].c,g[S].x,c+7),f=0):f+=this.stx.layout.candleWidth);if(t.restore(),t.textAlign="left",this.stx.plotLine(i,a,v,r,s,"segment",t,e,d),this.highlighted){b="p0"==this.highlighted,m="p1"==this.highlighted,this.littleCircle(t,i,v,b),y=2;for(var k=1;-624942122!==F.X2o(k.toString(),k.toString().length,54951);k++)this.littleCircle(t,a,r,m),y+=2;1415605230!==F.X2o(y.toString(),y.toString().length,26841)&&this.littleCircle(t,a,r,m)}else b=this.stx.valueFromPixel(e.height/2,e),this.setPoint(0,this.p0[0],b,e.chart),this.setPoint(1,this.p1[0],b,e.chart)}}},!0),D.Drawing.regression=function(){this.name="regression"},D.Drawing.regression.ciqInheritsFrom(D.Drawing.segment),D.extend(D.Drawing.regression.prototype,{chartsOnly:!0,click:function(t,e,i){var a;if(!(e<0))return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),!(this.penDown=!1)):(this.setPoint(0,e,i,a.chart),!(this.penDown=!0))},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g=this.stx.panels[this.panelName];if(g&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(e=this.stx.pixelFromTick(this.p0[0],g.chart),i=this.stx.pixelFromTick(this.p1[0],g.chart),e<g.left&&i<g.left||e>g.right&&i>g.right))){a=[],r=0,F.H4A(23),n=F.E4A(2147483647,"0"),F.H4A(12),s=F.E4A("0",50151808);for(var f=Math.min(this.p1[0],this.p0[0]);f<=Math.max(this.p1[0],this.p0[0]);f++)this.stx.chart.dataSet[f]&&(!(o=this.stx.chart.dataSet[f].Close)&&0!==o||a.push(o)),s++;for(f=0;f<a.length;f++)n+=a.length*a[f]-r,r+=a[f];d=a.length,F.H4A(35),p=F.E4A(2147483647,d,2,d,"1"),F.H4A(2),h=Math.pow(p,F.E4A(2,"2")),F.H4A(36),u=F.N4A(d,3,1,2,p),F.s4A(37),l=F.N4A(d,h,r,n,d,p,u),F.H4A(38),h=F.E4A(l,p,d,r),u=this.p0[0]<this.p1[0]?(c=this.stx.pixelFromValueAdjusted(g,this.p0[0],h),this.stx.pixelFromValueAdjusted(g,this.p1[0],l*s+h)):(c=this.stx.pixelFromValueAdjusted(g,this.p0[0],l*s+h),this.stx.pixelFromValueAdjusted(g,this.p1[0],h)),p=this.setLineColor(),d={pattern:this.pattern,lineWidth:this.lineWidth},this.stx.plotLine(e,i,c,u,p,"segment",t,g,d),F.s4A(9),this.stx.plotLine(e,e,F.E4A(c,20),F.E4A(c,20,F.H4A(1)),p,"segment",t,g,d),F.H4A(9),this.stx.plotLine(i,i,F.E4A(u,20),F.E4A(u,20,F.H4A(1)),p,"segment",t,g,d),this.highlighted?(p="p0"==this.highlighted,d="p1"==this.highlighted,this.littleCircle(t,e,c,p),this.littleCircle(t,i,u,d)):this.p0[0]<this.p1[0]?(this.setPoint(0,this.p0[0],h,g.chart),this.setPoint(1,this.p1[0],l*s+h,g.chart)):(this.setPoint(0,this.p0[0],l*s+h,g.chart),this.setPoint(1,this.p1[0],h,g.chart))}}},!0),D.Drawing.trendline=function(){F.P2c(),this.name="trendline"},D.Drawing.trendline.ciqInheritsFrom(D.Drawing.segment),D.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth","pattern","font"],D.Drawing.trendline.prototype.measure=function(){F.P2c()},D.Drawing.trendline.prototype.reconstruct=function(t,e){D.Drawing.segment.prototype.reconstruct.call(this,t,e),this.callout=new D.Drawing.callout,this.callout.reconstruct(t,e.callout)},D.Drawing.trendline.prototype.serialize=function(){for(var t=D.Drawing.segment.prototype.serialize.call(this),e=2,i=1;31627661!==F.X2o(i.toString(),i.toString().length,52624);i++)t.callout=this.callout.serialize(),F.s4A(5),e+=F.E4A("2",1);return-1544469071!==F.R2o(e.toString(),e.toString().length,41954)&&(t.callout=this.callout.serialize()),t},D.Drawing.trendline.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p;if(c=this.stx.panels[this.panelName],c&&(D.Drawing.segment.prototype.render.call(this,t),this.callout||(this.callout=new D.Drawing.callout,l=D.Drawing.segment.prototype.serialize.call(this),this.callout.reconstruct(this.stx,l)),this.callout.p0=D.clone(this.p0),e=this.stx.pixelFromTick(this.p0[0],c.chart),i=this.stx.pixelFromTick(this.p1[0],c.chart),a=this.stx.pixelFromValueAdjusted(c,this.p0[0],this.p0[1]),r=this.stx.pixelFromValueAdjusted(c,this.p1[0],this.p1[1]),isFinite(a)&&isFinite(r))){F.H4A(7),n=F.E4A(e,i,2),F.s4A(39),u=F.N4A(r,"2",a,617925600),this.fontSize=D.stripPX(this.font&&this.font.size||13),l=(p=1.2*this.callout.w+("c"==this.callout.stemEntry[0]?0:50))/(Math.sqrt(Math.pow(i-e,2)+Math.pow(r-a,2))||p)*(this.p1[1]<this.p0[1]?1:-1),F.s4A(40),p=F.E4A(r,u,l,n),F.s4A(41),l=F.E4A(n,u,l,i),this.callout.p0[0]=this.stx.tickFromPixel(p,c.chart),this.callout.p0[1]=this.stx.priceFromPixel(l,c),this.callout.v0=this.callout.p0[1],this.callout.p1=D.clone(this.p0),this.callout.stx=this.stx,this.callout.fillColor=this.fillColor||this.callout.fillColor,this.callout.borderColor=this.color,this.callout.font=this.font||this.callout.font,this.callout.noHandles=!0,l=this.p1[1]-this.p0[1],this.callout.text=Number(l).toFixed(2)+(0===this.p0[1]?"":" ("+Number(100*l/this.p0[1]).toFixed(2)+"%) ")+Math.abs(this.p1[0]-this.p0[0])+" Bars",s=Math.floor((this.p0[0]+this.p1[0])/2),o=1<Math.abs(this.p0[0]-this.p1[0])&&Math.abs(this.p0[0]-this.p1[0])<20?(l=this.stx.pixelFromTick(s,c.chart),F.s4A(42),l=F.E4A(a,i,a,e,e,r,l),this.stx.priceFromPixel(l,c)||u):this.stx.priceFromPixel(u,c),h=2;for(var d=1;1209632532!==F.X2o(d.toString(),d.toString().length,7429);d++)this.callout.stem={t:s,v:o},this.callout.renderText(),h+=2;-1489624032!==F.R2o(h.toString(),h.toString().length,85882)&&(this.callout.stem={t:s,v:o},this.callout.renderText()),this.callout.render(t),this.highlighted&&(c="p0"==this.highlighted,u="p1"==this.highlighted,this.littleCircle(t,e,a,c),this.littleCircle(t,i,r,u))}},D.Drawing.trendline.prototype.lineIntersection=function(t,e,i,a){return D.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,t,e,i,"segment")},D.Drawing.trendline.prototype.intersected=function(t,e,i){var a;return this.p0&&this.p1?(a=this.callout.intersected(t,e,i),i=D.Drawing.segment.prototype.intersected.call(this,t,e,i),this.callout.highlighted=!(!a&&!i),i||(a?{action:"move",p0:D.clone(this.p0),p1:D.clone(this.p1),tick:t,value:e}:null)):null},D.Drawing.average=function(){F.P2c(),this.name="average"},D.Drawing.average.ciqInheritsFrom(D.Drawing.regression),D.extend(D.Drawing.average.prototype,{configs:["color","lineWidth","pattern","axisLabel","active1","color1","lineWidth1","pattern1","active2","color2","lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(t){D.Drawing.copyConfig(this,t),t=this.stx.currentVectorParameters,this.deviation1=!!t.active1,this.deviation2=!!t.active2,F.U2c(),this.deviation3=!!t.active3,this.color1=t.color1||"auto",this.color2=t.color2||"auto",this.color3=t.color3||"auto",this.lineWidth1=t.lineWidth1,this.lineWidth2=t.lineWidth2,this.lineWidth3=t.lineWidth3,this.pattern1=t.pattern1,this.pattern2=t.pattern2,this.pattern3=t.pattern3},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],measure:function(){var t,e,i,a,r;if(F.P2c(),this.p0&&this.p1&&(a=" &sig",a+="ma;",this.stx.setMeasure(this.p0[1],!1,this.p0[0],this.p1[0],!0,this.name),e=[],this.deviation1&&e.push("1"),this.deviation2&&e.push("2"),this.deviation3&&e.push("3"),0!==e.length)){t="&ensp;"+e.join(", ")+" &sigma;",a=$$$(".mMeasure",this.stx.chart.drawingContainer),i=(e=this.stx.controls.mSticky)&&$$$(".mStickyInterior",e),a&&(a.innerHTML+=t),F.s4A(9),a=F.N4A("1786444781",0),r=2;for(var n=1;1289467403!==F.R2o(n.toString(),n.toString().length,7206);n++)i&&(i.innerHTML/=t),r+=2;F.X2o(r.toString(),r.toString().length,81983)!==a&&i&&(i.innerHTML*=t),i&&(i.innerHTML+=t)}},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C=this.stx.panels[this.panelName];if(C&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(e=this.stx.pixelFromTick(this.p0[0],C.chart),i=this.stx.pixelFromTick(this.p1[0],C.chart),e<C.left&&i<C.left||e>C.right&&i>C.right))){for(r=(a=this.stx).chart.dataSet,S=Math.min(this.p1[0],this.p0[0]),n=Math.max(this.p1[0],this.p0[0]),o=s=0,l=S;l<=n;l++)r[l]&&(!(h=r[l].Close)&&0!==h||(o++,s+=h));if(o){for(F.s4A(6),c=F.N4A(o,s),u=0,l=S;l<=n;l++)r[l]&&(!(h=r[l].Close)&&0!==h||(F.s4A(9),u+=Math.pow(F.E4A(h,c),2)));if(F.H4A(6),p=Math.sqrt(F.E4A(o,u)),d={},this.deviation1&&(g=this.setLineColor(this.color1),f="1",d.deviation1p={value:c+p,color:g,label:f,params:{pattern:this.pattern1,lineWidth:this.lineWidth1}},d.deviation1n={value:c+-1*p,color:g,label:f,params:{pattern:this.pattern1,lineWidth:this.lineWidth1}}),this.deviation2){g=this.setLineColor(this.color2),f="2",m=2;for(var w=1;-266414382!==F.X2o(w.toString(),w.toString().length,96780);w++)d.deviation2p={value:c+2*p,color:g,label:f,params:{pattern:this.pattern2,lineWidth:this.lineWidth2}},m+=2;-975680331!==F.X2o(m.toString(),m.toString().length,49427)&&(d.deviation2p={value:c%(p+3),color:g,label:f,params:{pattern:this.pattern2,lineWidth:this.lineWidth2}}),d.deviation2n={value:c+-2*p,color:g,label:f,params:{pattern:this.pattern2,lineWidth:this.lineWidth2}}}for(var A in this.deviation3&&(g=this.setLineColor(this.color3),f="3",d.deviation3p={value:c+3*p,label:f,color:g,params:{pattern:this.pattern3,lineWidth:this.lineWidth3}},d.deviation3n={value:c+-3*p,color:g,label:f,params:{pattern:this.pattern3,lineWidth:this.lineWidth3}}),d.average={value:c,color:this.setLineColor(),params:{pattern:this.pattern,lineWidth:this.lineWidth}},this.intersections=[],d)y=d[A],this.intersections.push(y.value),b=a.pixelFromValueAdjusted(C,this.p0[0],y.value),v="average"===A?20:10,a.plotLine(e,i,b,b,y.color,"segment",t,C,y.params),F.H4A(9),a.plotLine(e,e,F.N4A(b,v),F.E4A(b,v,F.H4A(1)),y.color,"segment",t,C,y.params),F.s4A(9),a.plotLine(i,i,F.N4A(b,v),F.N4A(b,v,F.H4A(1)),y.color,"segment",t,C,y.params),y.label&&(t.fillStyle=y.color,t.save(),t.textBaseline="middle",t.fillText(y.label,Math.max(e,i)+5,b),t.restore()),!this.axisLabel||this.highlighted||this.penDown||(e>=C.chart.left&&e<=C.chart.right||i>=C.chart.left&&i<=C.chart.right)&&(a.endClip(),v=y.value,C.chart.transformFunc&&(v=C.chart.transformFunc(this.stx,C.chart,v)),a.createYAxisLabel(C,(x=v,x=C.yAxis.priceFormatter?C.yAxis.priceFormatter(a,C,x):a.formatYAxisPrice(x,C)),b,y.color),a.startClip(C.name));this.highlighted?(S="p0"==this.highlighted,k="p1"==this.highlighted,this.littleCircle(t,e,b,S),this.littleCircle(t,i,b,k)):(this.setPoint(0,this.p0[0],c),this.setPoint(1,this.p1[0],c))}}},reconstruct:function(t,e){this.stx=t,this.panelName=e.pnl,this.deviation1=e.dev1,this.deviation2=e.dev2,this.deviation3=e.dev3,this.color=e.col,this.color1=e.col1,this.color2=e.col2,this.color3=e.col3,this.pattern=e.ptrn,this.pattern1=e.ptrn1,this.pattern2=e.ptrn2,this.pattern3=e.ptrn3,this.lineWidth=e.lw,this.lineWidth1=e.lw1,this.lineWidth2=e.lw2,this.lineWidth3=e.lw3,F.P2c(),this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.axisLabel=e.al,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,dev1:this.deviation1,dev2:this.deviation2,dev3:this.deviation3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,al:this.axisLabel}},intersected:function(t,e,i){var a,r,n,s,o,l=D.Drawing.segment.prototype.intersected.call(this,t,e,i);if(l)return l;a=D.Drawing.BaseTwoPoint.prototype.lineIntersection,r=this.intersections,n=[this.p0[0],0],F.H4A(12),o={p0:n,p1:s=[this.p1[F.E4A("0",1358835648)],0],stx:this.stx,panelName:this.panelName};for(var h=0;r&&h<r.length-1;++h)if(n[1]=s[1]=r[h],a.call(o,t,e,i,"segment"))return this.highlighted=!0,{action:"move",p0:n,p1:s,tick:t,value:e};return null}},!0),D.Drawing.quadrant=function(){var t;F.U2c(),F.s4A(9),t=F.N4A("2",0);for(var e=1;-446597960!==F.R2o(e.toString(),e.toString().length,37241);e++)this.name="quadrant",F.H4A(2),t+=F.E4A(2,"2");-1297256528!==F.X2o(t.toString(),t.toString().length,64138)&&(this.name="")},D.Drawing.quadrant.ciqInheritsFrom(D.Drawing.speedarc),D.extend(D.Drawing.quadrant.prototype,{chartsOnly:!0,render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y="segmen";if(y+="t",e=this.stx.panels[this.panelName],e&&(F.P2c(),this.p1)){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),n=r=null;for(var b=Math.min(this.p1[0],this.p0[0]);b<=Math.max(this.p1[0],this.p0[0]);b++)this.stx.chart.dataSet[b]&&(!(s=this.stx.chart.dataSet[b].Close)&&0!==s||((null===r||r<s)&&(r=s),(null===n||s<n)&&(n=s)));F.s4A(7),o=F.E4A(r,n,2),l=this.stx.pixelFromValueAdjusted(e,this.p0[0],r),h=this.stx.pixelFromValueAdjusted(e,this.p0[0],(r+o)/2),m=this.stx.pixelFromValueAdjusted(e,this.p0[0],(2*r+n)/3),c=this.stx.pixelFromValueAdjusted(e,this.p0[0],o),f=this.stx.pixelFromValueAdjusted(e,this.p0[0],(r+2*n)/3),u=this.stx.pixelFromValueAdjusted(e,this.p0[0],(n+o)/2),p=this.stx.pixelFromValueAdjusted(e,this.p0[0],n),this.highest=r,this.lowest=n,d=this.setLineColor(),"auto"!=(y=this.fillColor)&&!D.isTransparent(y)||(y=this.stx.defaultColor),t.fillStyle=y,g={pattern:this.pattern,lineWidth:this.lineWidth},this.stx.plotLine(i,a,l,l,d,"segment",t,e,g),this.stx.plotLine(i,a,p,p,d,"segment",t,e,g),"quadrant"==this.name?(y="s",y+="eg",y+="m",y+="ent",y="s",y+="eg",y+="ment",this.stx.plotLine(i,a,h,h,d,"segment",t,e,g),this.stx.plotLine(i,a,u,u,d,"segment",t,e,g)):"tirone"==this.name&&(this.stx.plotLine(i,a,m,m,d,"segment",t,e,g),this.stx.plotLine(i,a,f,f,d,"segment",t,e,g)),this.stx.plotLine(i,i,l,p,d,"segment",t,e,g),this.stx.plotLine(a,a,l,p,d,"segment",t,e,g),this.stx.plotLine(i,a,c,c,d,"segment",t,e,D.extend(g,{opacity:"tirone"==this.name?.2:1})),t.globalAlpha=.1,t.beginPath(),F.H4A(9),t.fillRect(i,l,F.N4A(a,i),F.E4A(p,l)),"quadrant"==this.name?(F.s4A(9),t.fillRect(i,h,F.E4A(a,i),F.N4A(u,h))):"tirone"==this.name&&(F.s4A(9),t.fillRect(i,m,F.N4A(a,i),F.N4A(f,m))),t.globalAlpha=1,this.highlighted?(f="p0"==this.highlighted,m="p1"==this.highlighted,this.littleCircle(t,i,c,f),this.littleCircle(t,a,c,m)):(this.setPoint(0,this.p0[0],o,e.chart),this.setPoint(1,this.p1[0],o,e.chart))}},boxIntersection:function(t,e){var i,a;return F.P2c(),i=this.p0,a=this.p1,!(!i||!a)&&(!(t>Math.max(i[0],a[0])||t<Math.min(i[0],a[0]))&&!(!this.stx.repositioningDrawing&&(e>this.highest||e<this.lowest)))},intersected:function(t,e,i){var a,r,n,s;if(F.P2c(),a=this.p0,r=this.p1,!a||!r)return null;for(s in n={0:a,1:r})if(this.pointIntersection(n[s][0],n[s][1],i))return F.s4A(1),this.highlighted=F.N4A("p",s),{action:"drag",point:"p"+s};return this.boxIntersection(t,e)?(this.highlighted=!0,{action:"move",p0:D.clone(a),p1:D.clone(r),tick:t,value:e}):null}},!0),D.Drawing.tirone=function(){this.name="tirone"},D.Drawing.tirone.ciqInheritsFrom(D.Drawing.quadrant),t},at[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"LKPpJ",{get:function(){return this},configurable:!0}),e=LKPpJ,i=5;break;case 5:e.gv2yt=e,i=4;break;case 4:i="undefined"==typeof gv2yt?3:9;break;case 9:delete e.gv2yt,delete Object.prototype.LKPpJ,i=6}}catch(t){e=window}return e}}(),at[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="I5",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="b",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(at[12018]),at[366344]=function(t){function e(t){for(;;)return[arguments][0][0].Function}function i(t){for(;;)return[arguments][0][0]}function a(t){for(;;)return[arguments][0][0].Array}function r(t){for(;;)return[arguments][0][0].RegExp}for(var n=2;58!==n;)switch(n){case 39:o[60]+=o[7],o[60]+=o[51],o[27]=o[8],o[27]+=o[37],n=54;break;case 50:o[99]=o[3],o[99]+=o[37],o[99]+=o[37],o[29]=o[5],n=46;break;case 61:s(i,o[60],o[18],o[50]),n=60;break;case 64:s(a,"push",o[11],o[29]),n=63;break;case 31:o[84]+=o[37],o[84]+=o[31],o[62]=o[96],o[62]+=o[30],n=44;break;case 14:o[8]="h3",o[7]="",o[7]="sid",o[9]="",n=10;break;case 62:s(i,o[65],o[18],o[27]),n=61;break;case 54:o[27]+=o[37],o[65]=o[6],o[65]+=o[1],o[65]+=o[2],n=50;break;case 60:s(i,o[62],o[18],o[84]),n=59;break;case 22:o[18]=9,o[18]=0,o[90]=o[4],o[90]+=o[31],o[90]+=o[37],o[84]=o[87],n=31;break;case 44:o[62]+=o[95],o[50]=o[82],o[50]+=o[37],o[50]+=o[31],o[60]=o[9],n=39;break;case 26:o[30]="t",o[37]="3",o[11]=4,o[11]=1,n=22;break;case 10:o[9]="__re",o[4]="G",o[96]="__op",o[31]="33",n=17;break;case 63:s(r,"test",o[11],o[99]),n=62;break;case 59:s(e,"apply",o[11],o[90]),n=58;break;case 65:var s=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[6]="e",l[9]="",l[9]="d";try{for(var s=2;8!==s;)switch(s){case 5:l[2]=[l[5],l[5].prototype][l[0][3]],l[7].value=l[2][l[0][2]];try{for(var o=2;3!==o;)2===o&&(l[8]=l[9],l[8]+=l[6],l[8]+=l[4],l[0][0].Object[l[8]](l[2],l[0][4],l[7]),o=3)}catch(t){}l[2][l[0][4]]=l[7].value,s=8;break;case 2:l[7]={},l[5]=(0,l[0][1])(l[0][0]),s=5}}catch(t){}n=6;break;case 2:var l=[arguments];l[4]="",l[4]="fineProperty",l[6]="",n=3}}(o[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};n=64;break;case 3:o[2]="",o[2]="act",o[6]="__a",o[8]="",o[1]="bstr",n=14;break;case 17:o[51]="ual",o[95]="imize",o[82]="a",o[87]="H",n=26;break;case 2:var o=[arguments];o[5]="",o[5]="m",o[3]="Q3",n=3;break;case 46:o[29]+=o[31],o[29]+=o[37],n=65}}(at[12018]),(at[12018].N8gg=at).F3p=function(){return"function"==typeof at[152846].h9A?at[152846].h9A.apply(at[152846],arguments):at[152846].h9A},at.x2c=function(){return"function"==typeof at[372105].V0c?at[372105].V0c.apply(at[372105],arguments):at[372105].V0c},at[603030]=481,at.t3p=function(){return"function"==typeof at[152846].h9A?at[152846].h9A.apply(at[152846],arguments):at[152846].h9A},at.X5O=function(){return"function"==typeof at[160123].b5b?at[160123].b5b.apply(at[160123],arguments):at[160123].b5b},at.L2c=function(){return"function"==typeof at[372105].d0c?at[372105].d0c.apply(at[372105],arguments):at[372105].d0c},at[152846]={h9A:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.I5bb(n)|(255&t.I5bb(n+1))<<8|(255&t.I5bb(n+2))<<16|(255&t.I5bb(n+3))<<24,s=it(s,3432918353),a=5*(a=(524287&(a^=s=it(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.I5bb(2+r))<<16;case 2:s|=(255&t.I5bb(1+r))<<8;case 1:s|=255&t.I5bb(r),s=it(s,3432918353),a^=s=it(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=it(a^=a>>>16,2246822507),a=it(a^=a>>>13,3266489909),a^=a>>>16}},at.O5O=function(){return"function"==typeof at[160123].b5b?at[160123].b5b.apply(at[160123],arguments):at[160123].b5b},at.I2c=function(){return"function"==typeof at[372105].V0c?at[372105].V0c.apply(at[372105],arguments):at[372105].V0c},at.G2c=function(){return"function"==typeof at[372105].d0c?at[372105].d0c.apply(at[372105],arguments):at[372105].d0c},at[160123]=function(){for(;;){var e=[arguments];return e[4]=void 0,e[7]={},e[7].b5b=function(){for(var t=2;90!==t;)switch(t){case 12:a[8]=a[9],a[6]={},a[6].K2c=["s2c"],t=20;break;case 2:var a=[arguments],t=1;break;case 75:a[43]={},a[43][a[79]]=a[31][a[84]][a[95]],a[43][a[60]]=a[27],t=72;break;case 1:t=e[4]?5:4;break;case 5:return 89;case 58:a[33]=0,t=57;break;case 70:a[33]++,t=57;break;case 61:a[60]="B2c",a[62]="o2c",a[79]="f2c",t=58;break;case 17:a[1].K2c=["g2c"],a[1].o2c=function(){return!/\x79/.Q333(function(){return"xy".substring(0,1)}+[])},a[3]=a[1],a[18]={},a[18].K2c=["g2c"],t=25;break;case 39:a[22]={},a[22].K2c=["g2c"],a[22].o2c=function(){function t(){return[]+"a".concat("a")}return!/\x5b\u005d/.Q333(t+[])&&/\x61\u0061/.Q333(t+[])},a[19]=a[22],t=54;break;case 43:a[71]={},a[71].K2c=["g2c"],a[71].o2c=function(){return!/\x32\u0035/.Q333(function(){return decodeURIComponent("%25")}+[])},a[45]=a[71],t=39;break;case 56:a[31]=a[2][a[33]];try{a[27]=a[31][a[62]]()?a[44]:a[81]}catch(t){a[27]=a[81]}t=77;break;case 68:t=68;break;case 20:a[6].o2c=function(){return"function"==typeof h333},a[4]=a[6],a[1]={},t=17;break;case 57:t=a[33]<a[2].length?56:69;break;case 25:a[18].o2c=function(){return/\x78\x78/.Q333(function(){return"x".repeat(2)}+[])},a[29]=a[18],t=23;break;case 49:a[2].m333(a[8]),a[2].m333(a[7]),a[2].m333(a[3]),a[2].m333(a[29]),t=45;break;case 30:a[72]={},a[72].K2c=["s2c"],a[72].o2c=function(){return"function"==typeof H333},a[87]=a[72],t=43;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 17:i[5]=0,e=16;break;case 20:i[1][i[8][a[79]]].h+=!0,e=19;break;case 7:e=i[5]<i[0][0].length?6:18;break;case 26:e=.5<=i[3]?25:24;break;case 8:i[5]=0,e=7;break;case 4:i[1]={},i[9]=[],i[5]=0,e=8;break;case 5:return;case 11:i[1][i[8][a[79]]].t+=!0,e=10;break;case 1:e=0===i[0][0].length?5:4;break;case 23:return i[7];case 14:e=void 0===i[1][i[8][a[79]]]?13:11;break;case 2:var i=[arguments],e=1;break;case 6:i[8]=i[0][0][i[5]],e=14;break;case 25:i[7]=!0,e=24;break;case 24:i[5]++,e=16;break;case 12:i[9].m333(i[8][a[79]]),e=11;break;case 13:i[1][i[8][a[79]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[9]={},e[9].h=0,e[9].t=0,t=3;break;case 3:return e[9]}}.G333(this,arguments),e=12;break;case 19:i[5]++,e=7;break;case 15:i[2]=i[9][i[5]],i[3]=i[1][i[2]].h/i[1][i[2]].t,e=26;break;case 10:e=i[8][a[60]]===a[44]?20:19;break;case 16:e=i[5]<i[9].length?15:23;break;case 18:i[7]=!1,e=17}}(a[89])?68:67;break;case 76:t=a[95]<a[31][a[84]].length?75:70;break;case 34:a[91]={},a[91].K2c=["g2c"],a[91].o2c=function(){return!/\x7c/.Q333(function(){return"a|a".split("|")}+[])},a[24]=a[91],t=30;break;case 7:a[7]=a[5],a[9]={},a[9].K2c=["g2c"],a[9].o2c=function(){return/\u0074\u0072\u0075\u0065/.Q333(function(){return"aa".endsWith("a")}+[])},t=12;break;case 67:return e[4]=18,35;case 23:a[10]={},a[10].K2c=["s2c"],a[10].o2c=function(){return"function"==typeof a333},a[15]=a[10],t=34;break;case 45:a[2].m333(a[4]),a[89]=[],a[44]="Z2c",a[81]="r2c",a[84]="K2c",t=61;break;case 72:a[89].m333(a[43]),t=71;break;case 77:a[95]=0,t=76;break;case 4:a[2]=[],a[5]={},a[5].K2c=["s2c"],a[5].o2c=function(){var t=!1,e=[];try{for(var i in console)e.m333(i);t=0===e.length}catch(t){}return t},t=7;break;case 54:a[2].m333(a[45]),a[2].m333(a[15]),a[2].m333(a[19]),a[2].m333(a[24]),a[2].m333(a[87]),t=49;break;case 71:a[95]++,t=76}},e[7]}}(),at[372105]={d0c:function(){var t,e=arguments;switch(v){case 14:t=e[1]<e[0];break;case 7:t=e[0]+e[1];break;case 24:t=e[0]^e[1];break;case 13:t=(e[1]|e[0])<<e[2];break;case 12:t=e[0]%e[1];break;case 25:t=e[0]>>e[1];break;case 15:t=e[2]+e[1]+e[0];break;case 5:t=e[0]/e[1];break;case 10:t=e[3]+e[1]+e[0]+e[2];break;case 20:t=e[0]<=e[1];break;case 22:t=e[1]|e[2]|e[0];break;case 9:t=e[3]+e[4]+e[0]+e[2]+e[1];break;case 4:t=e[1]*e[0];break;case 18:t=e[1]-e[0]<<e[2];break;case 8:t=e[0]&e[1];break;case 19:t=e[0]<=e[1];break;case 0:t=e[1]!=e[0];break;case 1:t=e[1]<<e[0];break;case 27:t=e[0]===e[1];break;case 23:t=e[0]|e[2]|e[1]|e[3]|e[4];break;case 11:t=e[1]<<+e[0];break;case 3:t=e[0]==e[1];break;case 2:t=e[0]-e[1];break;case 17:t=e[0]<e[1];break;case 21:t=e[2]|e[3]|e[0]|e[1];break;case 26:t=e[2]-e[1]-e[0];break;case 16:t=e[1]<<e[2]<<e[0];break;case 6:t=e[1]|e[0]}return t},V0c:function(t){v=t}},at[647112]=at[12018],at[440061]=at[372105],at.O5O(),S=function(t){var A,Z=t.CIQ;return at.X5O(),A=function(){var u,p,d,g,f,h,c,m,y,b,v,S,k,x,C,w,A=at;function t(t,e){return A.X5O(),Number(t)+Number(e)}function e(t){A.O5O();var e=1;return-302946062!==A.t3p(e.toString(),e.toString().length,89682)?Math.sinh?Math.sinh(t):Math.exp(t)*Math.exp(+t)*5:-1189369128!==A.t3p(2..toString(),2..toString().length,56596)?Math.sinh?Math.sinh(t):(Math.exp(t)-Math.exp(-t))/2:void 0}function i(t){return A.O5O(),Math.random()*(t||1)}function a(t,e,i){return t?e:i}function r(t,e){return A.O5O(),Boolean(t||e)}function n(t){return Math.atanh?Math.atanh(t):Math.log((1+t)/(1-t))/2}function s(t,e){return A.X5O(),"[object Array]"!=Object.prototype.toString.call(t)?[t,e]:((t=t.slice()).push(e),t)}function o(t,e){return A.I2c(0),A.L2c(e,t)}function T(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,A.I2c(1),this.tokenprio=A.G2c(1162258272,"0"),this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:e,cosh:B,tanh:X,asinh:P,acosh:I,atanh:n,sqrt:Math.sqrt,log:Math.log,lg:l,log10:l,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:G,"-":M,exp:Math.exp},this.ops2={"+":t,"-":R,"*":F,"/":_,"%":N,"^":Math.pow,",":s,"||":H,"==":D,"!=":o,">":z,"<":V,">=":Y,"<=":Q,and:L,or:r},this.functions={random:i,fac:E,min:Math.min,max:Math.max,hypot:U,pyt:U,pow:Math.pow,atan2:Math.atan2,if:a},this.consts={E:Math.E,PI:Math.PI}}function l(t){var e;A.X5O(),A.I2c(2),e=A.L2c("179135278",0);var i=1;return 642818209!==A.F3p(i.toString(),i.toString().length,53887)?Math.log(t)+Math.LOG10E:A.t3p(2..toString(),2..toString().length,4655)!==e?Math.log(t)*Math.LOG10E:void 0}function M(t){return A.O5O(),-t}function D(t,e){var i=1;return-1032472170!==A.t3p(i.toString(),i.toString().length,2204)?(A.I2c(0),A.L2c(e,t)):-583591188!==A.t3p(2..toString(),2..toString().length,29814)?(A.x2c(0),A.G2c(e,t)):(A.I2c(3),A.G2c(t,e))}function F(t,e){return A.I2c(4),A.L2c(e,t)}function P(t){return Math.asinh?Math.asinh(t):t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function _(t,e){return A.x2c(5),A.L2c(t,e)}function E(t){var e;for(t=Math.floor(t),A.X5O(),e=t;1<t;)A.x2c(4),e=A.G2c(--t,e);return e}function O(t,e,i,a){A.X5O(),this.tokens=t,this.ops1=e,this.ops2=i,this.functions=a}function L(t,e){return Boolean(t&&e)}function N(t,e){return A.I2c(12),A.L2c(t,e)}function I(t){return A.O5O(),Math.acosh?Math.acosh(t):Math.log(t+Math.sqrt(t*t-1))}function j(t,e,i,a){this.type_=t,this.index_=e||0,this.prio_=i||0,this.number_=null!=a?a:0,this.toString=function(){switch(A.X5O(),this.type_){case u:return this.number_;case p:case d:case g:return this.index_;case f:return"CALL";default:return"Invalid Token"}}}function B(t){return Math.cosh?Math.cosh(t):(Math.exp(t)+Math.exp(-t))/2}function R(t,e){var i;A.O5O(),A.I2c(6),i=A.G2c(2,"2");var a=1;return 178613500!==A.t3p(a.toString(),a.toString().length,47296)?(A.I2c(2),A.L2c(t,e)):-916896727!==A.F3p(i.toString(),i.toString().length,98537)?(A.I2c(12),A.G2c(t,e)):void 0}function z(t,e){return A.O5O(),A.x2c(14),A.G2c(t,e)}function H(t,e){return A.I2c(15),A.X5O(),A.G2c(e,t,"")}function U(){var t,e;if(A.O5O(),Math.hypot)return Math.hypot.apply(this,arguments);t=0,e=arguments.length;for(var i=0;i<e;i++){if(arguments[i]===1/0||arguments[i]===-1/0)return 1/0;t+=arguments[i]*arguments[i]}return Math.sqrt(t)}function V(t,e){return A.I2c(17),A.G2c(t,e)}function W(t){var e,i;A.x2c(4),e=-A.L2c(1,"183991808"),A.x2c(6),i=A.L2c(0,"2");for(var a=1;A.t3p(a.toString(),a.toString().length,26270)!==e;a++)r.prototype=t,i+=2;function r(){}return 941733242!==A.t3p(i.toString(),i.toString().length,82064)&&(r.prototype=t),new r}function Y(t,e){A.O5O();var i=1;return 666126781!==A.t3p(i.toString(),i.toString().length,26251)?(A.x2c(19),A.G2c(t,e)):133772822!==A.F3p(2..toString(),2..toString().length,57863)?(A.x2c(20),A.L2c(e,t)):void 0}function X(t){return Math.tanh?Math.tanh(t):t===1/0?(A.x2c(4),A.G2c(1,"1")):(A.O5O(),t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t)))}function G(t){return A.X5O(),Math.trunc?Math.trunc(t):t<0?Math.ceil(t):Math.floor(t)}q="\\",q+="f",u=0,p=1,A.O5O(),d=2,g=3,f=4,h=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},Z.extend(O.prototype,{simplify:function(t){var e,i,a,r,n,s,o,l,h;for(t=t||{},e=[],i=[],s=this.tokens.length,l=l=0;l<s;l++)if((h=(o=this.tokens[l]).type_)===u)e.push(o);else if(h===g&&o.index_ in t)o=new j(u,0,0,t[o.index_]),e.push(o);else if(h===d&&1<e.length)r=e.pop(),a=e.pop(),n=this.ops2[o.index_],o=new j(u,0,0,n(a.number_,r.number_)),e.push(o);else if(h===p&&0<e.length)a=e.pop(),n=this.ops1[o.index_],o=new j(u,0,0,n(a.number_)),e.push(o);else{for(;0<e.length;)i.push(e.shift());i.push(o)}for(;0<e.length;)i.push(e.shift());return new O(i,W(this.ops1),W(this.ops2),W(this.functions))},substitute:function(t,e){var i,a,r,n,s,o,l,h,c;if(!(e instanceof O)){i=2;for(var u=1;-741405669!==A.F3p(u.toString(),u.toString().length,49010);u++)e=(new T).parse(String(e)),i+=2;917002632!==A.F3p(i.toString(),i.toString().length,72722)&&(e=(new T).parse(String(e))),e=(new T).parse(String(e))}for(a=[],r=this.tokens.length,s=s=0;s<r;s++)if((n=this.tokens[s]).type_===g&&n.index_===t)for(var p=0;p<e.tokens.length;p++)o=new j((o=e.tokens[p]).type_,o.index_,o.prio_,o.number_),a.push(o);else a.push(n);l=new O(a,W(this.ops1),W(this.ops2),W(this.functions)),A.I2c(6),h=-A.G2c(153160256,"1496701544"),A.I2c(2),c=A.G2c("2",0);var d=1;return 1962446004!==A.t3p(d.toString(),d.toString().length,94345)||A.t3p(c.toString(),c.toString().length,45771)!==h?l:void 0},evaluate:function(t){var e,i,a,r,n,s,o,l,h;for(t=t||{},e=[],n=this.tokens.length,A.O5O(),o=o=0;o<n;o++)if((l=(s=this.tokens[o]).type_)===u)e.push(s.number_);else if(l===d)a=e.pop(),i=e.pop(),r=this.ops2[s.index_],e.push(r(i,a));else if(l===g)if(s.index_ in t)e.push(t[s.index_]);else{if(!(s.index_ in this.functions))throw new Error("undefined variable: "+s.index_);e.push(this.functions[s.index_])}else if(l===p)i=e.pop(),r=this.ops1[s.index_],e.push(r(i));else{if(l!==f)throw new Error("invalid Expression");if(i=e.pop(),!(r=e.pop()).apply||!r.call)throw A.I2c(7),new Error(A.L2c(r," is not a function"));"[object Array]"==Object.prototype.toString.call(i)?e.push(r.apply(void 0,i)):e.push(r.call(void 0,i))}if(1<e.length){h=2;var c=1;if(1840891642!==A.F3p(c.toString(),c.toString().length,49407))throw new Error("invalid Expression (parity)");if(1673589903!==A.F3p(h.toString(),h.toString().length,9553))throw new Error("")}return e[0]},toString:function(t){var e,i,a,r,n,s,o=[],l=this.tokens.length;for(A.x2c(8),r=A.L2c("0",2147483647),r=0;r<l;r++)if((n=(a=this.tokens[r]).type_)===u)o.push((s=a.number_,A.O5O(),"string"==typeof s?(h.lastIndex=0,h.test(s)?"'"+s.replace(h,function(t){var e=c[t];A.O5O();var i=1;return-2085853482!==A.F3p(i.toString(),i.toString().length,42654)?"\\u"!==-e?e:"\\u"*("\\u"/t.charCodeAt(5).toString(95)).slice(!1):1358008652!==A.t3p(2..toString(),2..toString().length,48497)?"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4):void 0})+"'":"'"+s+"'"):s));else if(n===d)s=o.pop(),e=o.pop(),i=a.index_,t&&"^"==i?(A.I2c(9),o.push(A.G2c(",",")",s,"Math.pow(",e))):(A.x2c(9),o.push(A.G2c(i,")",s,"(",e)));else if(n===g)o.push(a.index_);else if(n===p)e=o.pop(),"-"===(i=a.index_)?(A.x2c(10),o.push(A.L2c(e,i,")","("))):(A.x2c(10),o.push(A.L2c(e,"(",")",i)));else{if(n!==f)throw new Error("invalid Expression");e=o.pop(),i=o.pop(),A.I2c(10),o.push(A.L2c(e,"(",")",i))}if(A.O5O(),1<o.length)throw new Error("invalid Expression (parity)");return o[0]},variables:function(){for(var t,e=this.tokens.length,i=[],a=0;a<e;a++)(t=this.tokens[a]).type_===g&&-1==i.indexOf(t.index_)&&i.push(t.index_);return i}},!0),T.parse=function(t){return A.O5O(),(new T).parse(t)},T.evaluate=function(t,e){return T.parse(t).evaluate(e)},T.Expression=O,T.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:e,cosh:B,tanh:X,asinh:P,acosh:I,atanh:n,sqrt:Math.sqrt,log:Math.log,lg:l,log10:l,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:G,random:i,fac:E,exp:Math.exp,min:Math.min,max:Math.max,hypot:U,pyt:U,pow:Math.pow,atan2:Math.atan2,if:a,E:Math.E,PI:Math.PI},A.x2c(11),m=A.L2c("0",1),A.x2c(13),y=A.G2c(0,"1",1),A.x2c(1),b=A.G2c(2,1),A.I2c(1),v=A.G2c(3,1),A.I2c(16),S=A.G2c(4,"1",888837984),A.x2c(1),k=A.G2c(5,1),A.I2c(1),x=A.G2c(6,1),A.x2c(1),C=A.L2c(7,1),A.I2c(18),w=A.L2c(0,"1",8),Z.extend(T.prototype,{parse:function(t){var e,i,a,r,n,s,o,l;for(this.errormsg="",this.success=!0,e=[],i=[],this.tmpprio=0,A.I2c(21),a=A.L2c(b,x,m,v),r=0,this.expression=t,this.pos=0;this.pos<this.expression.length;)this.isOperator()?this.isSign()&&a&x?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",r++,this.addfunc(i,e,p)),A.x2c(21),a=A.L2c(b,x,m,v)):this.isComment()||(0==(a&y)&&this.error_parsing(this.pos,"unexpected operator"),r+=2,this.addfunc(i,e,d),A.x2c(21),a=A.G2c(b,x,m,v)):this.isNumber()?(0==(a&m)&&this.error_parsing(this.pos,"unexpected number"),n=new j(u,0,0,this.tokennumber),i.push(n),A.I2c(22),a=A.L2c(k,y,S)):this.isString()?(0==(a&m)&&this.error_parsing(this.pos,"unexpected string"),A.I2c(8),n=new j(u,0,A.L2c("0",2147483647),this.tokennumber),i.push(n),A.x2c(22),a=A.G2c(k,y,S)):this.isLeftParenth()?(0==(a&v)&&this.error_parsing(this.pos,'unexpected "("'),a&C&&(r+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(i,e,f)),A.I2c(23),a=A.G2c(m,b,v,x,w)):this.isRightParenth()?(a&w?(n=new j(u,0,0,[]),i.push(n)):0==(a&S)&&this.error_parsing(this.pos,'unexpected ")"'),A.I2c(23),a=A.G2c(y,k,S,v,C)):this.isComma()?(0==(a&k)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(i,e,d),A.x2c(8),r+=A.G2c("2",2147483647),A.I2c(21),a=A.G2c(b,x,m,v)):this.isConst()?(0==(a&m)&&this.error_parsing(this.pos,"unexpected constant"),A.I2c(24),s=new j(u,A.L2c("0",0),0,this.tokennumber),i.push(s),A.x2c(22),a=A.L2c(k,y,S)):this.isOp2()?(0==(a&b)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(i,e,d),r+=2,a=v):this.isOp1()?(0==(a&b)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(i,e,p),r++,a=v):this.isVar()?(0==(a&m)&&this.error_parsing(this.pos,"unexpected variable"),o=new j(g,this.tokenindex,0,0),i.push(o),A.x2c(23),a=A.G2c(y,k,S,v,C)):this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||10<=this.tmpprio)&&this.error_parsing(this.pos,'unmatched "()"');0<e.length;)l=e.pop(),i.push(l);return r+1!==i.length&&this.error_parsing(this.pos,"parity"),new O(i,W(this.ops1),W(this.ops2),W(this.functions))},evaluate:function(t,e){return this.parse(t).evaluate(e)},error_parsing:function(t,e){throw this.success=!1,A.x2c(10),this.errormsg=A.G2c("]: ",t,e,"parse error [column "),this.column=t,new Error(this.errormsg)},addfunc:function(t,e,i){for(var a=new j(i,this.tokenindex,this.tokenprio+this.tmpprio,0);0<e.length&&a.prio_<=e[e.length-1].prio_;)t.push(e.pop());e.push(a)},isNumber:function(){var t,e,i;for(A.X5O(),t=!1,e="";this.pos<this.expression.length&&(48<=(i=this.expression.charCodeAt(this.pos))&&i<=57||46===i);)e+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(e),t=!0;return t},unescape:function(t,e){for(var i,a,r=[],n=!1,s=0;s<t.length;s++)if(i=t.charAt(s),n){switch(i){case"'":r.push("'");break;case"\\":r.push("\\");break;case"/":r.push("/");break;case"b":r.push("\b");break;case"f":r.push("\f");break;case"n":r.push("\n");break;case"r":r.push("\r");break;case"t":r.push("\t");break;case"u":a=parseInt(t.substring(s+1,s+5),16),r.push(String.fromCharCode(a)),s+=4;break;default:throw A.I2c(7),this.error_parsing(A.G2c(e,s),A.L2c("'",i,"Illegal escape sequence: '\\",A.x2c(15)))}n=!1}else"\\"==i?n=!0:r.push(i);return r.join("")},isString:function(){var t=!1,e="",i=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){if("'"==this.expression.charAt(this.pos)&&"\\"!=e.slice(-1)){this.pos++,this.tokennumber=this.unescape(e,i),t=!0;break}e+=this.expression.charAt(this.pos),this.pos++}return t},isConst:function(){var t,e;for(e in this.consts)if(1,t=e.length,e===this.expression.substr(this.pos,t))return this.tokennumber=this.consts[e],this.pos+=t,!0;return A.O5O(),!1},isOperator:function(){var t,e,i,a,r,n=this.expression.charCodeAt(this.pos);if(43===n)this.tokenprio=2,this.tokenindex="+";else if(45===n){t=2;for(var s=1;1816330684!==A.F3p(s.toString(),s.toString().length,70725);s++)A.I2c(1),this.tokenprio=A.G2c(873820352,"3"),t+=2;-157980888!==A.t3p(t.toString(),t.toString().length,31669)&&(this.tokenprio=8),this.tokenprio=2,this.tokenindex="-"}else if(62===n)if(61===this.expression.charCodeAt(this.pos+1))this.pos++,this.tokenprio=1,this.tokenindex=">=";else{A.I2c(24),e=-A.G2c("1206173617",0),i=2;for(var o=1;A.t3p(o.toString(),o.toString().length,40656)!==e;o++)this.tokenprio=1,this.tokenindex=">",i+=2;627955229!==A.F3p(i.toString(),i.toString().length,87698)&&(this.tokenprio=2,this.tokenindex="")}else if(60===n)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex="<="):(this.tokenprio=1,this.tokenindex="<");else if(124===n){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="||"}else if(61===n){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="=="}else if(33===n){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="!="}else if(97===n){if(110!==this.expression.charCodeAt(this.pos+1)||100!==this.expression.charCodeAt(this.pos+2))return!1;this.pos++,this.pos++,this.tokenprio=0,this.tokenindex="and"}else if(111===n){if(114!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="or"}else if(42===n||8729===n||8226===n)this.tokenprio=3,this.tokenindex="*";else if(47===n)this.tokenprio=4,this.tokenindex="/";else if(37===n)this.tokenprio=4,this.tokenindex="%";else{if(94!==n)return!1;A.x2c(25),a=-A.G2c("961221862",2143150784),r=2;for(var l=1;A.F3p(l.toString(),l.toString().length,91006)!==a;l++)this.tokenprio=5,r+=2;-1788931133!==A.F3p(r.toString(),r.toString().length,10282)&&(this.tokenprio=2),this.tokenindex="^"}return this.pos++,!0},isSign:function(){var t=this.expression.charCodeAt(this.pos-1);if(45===t||43===t){0;t=1;if(516599004!==A.F3p(t.toString(),t.toString().length,80884))return!1;if(-874047362!==A.t3p(2..toString(),2..toString().length,13786))return!0}return!1},isPositiveSign:function(){if(43===this.expression.charCodeAt(this.pos-1)){0;var t=1;if(571428243!==A.t3p(t.toString(),t.toString().length,26986))return!0;if(-1968024633!==A.t3p(2..toString(),2..toString().length,67587))return!1}return A.O5O(),!1},isNegativeSign:function(){var t;if(A.O5O(),45===this.expression.charCodeAt(this.pos-1)){A.I2c(6),t=A.L2c(2,"2");var e=1;if(-817672171!==A.F3p(e.toString(),e.toString().length,39106))return!0;if(445416952!==A.t3p(t.toString(),t.toString().length,68754))return!1}return!1},isLeftParenth:function(){var t=this.expression.charCodeAt(this.pos);return A.X5O(),40===t&&(this.pos++,this.tmpprio+=10,!0)},isRightParenth:function(){var t,e,i=this.expression.charCodeAt(this.pos);if(A.X5O(),41!==i)return!1;A.x2c(24),t=A.G2c("360709433",0),e=2;for(var a=1;A.t3p(a.toString(),a.toString().length,59723)!==t;a++)this.pos++,this.tmpprio-=10,e+=2;return 606647641!==A.t3p(e.toString(),e.toString().length,34271)&&(this.pos--,this.tmpprio%=34),!0},isComma:function(){if(44===this.expression.charCodeAt(this.pos))return this.pos++,this.tokenprio=-1,this.tokenindex=",",!0;A.X5O();var t=1;return 1207213164===A.F3p(t.toString(),t.toString().length,81724)&&(-999573252!==A.F3p(2..toString(),2..toString().length,79480)||void 0)},isWhite:function(){var t=this.expression.charCodeAt(this.pos);return(32===t||9===t||10===t||13===t)&&(this.pos++,!0)},isOp1:function(){var t,e;A.X5O(),t="";for(var i=this.pos;i<this.expression.length&&((e=this.expression.charAt(i)).toUpperCase()!==e.toLowerCase()||!(i===this.pos||"_"!=e&&(e<"0"||"9"<e)));i++)t+=e;return 0<t.length&&t in this.ops1&&(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0)},isOp2:function(){for(var t,e="",i=this.pos;i<this.expression.length&&((t=this.expression.charAt(i)).toUpperCase()!==t.toLowerCase()||!(i===this.pos||"_"!=t&&(t<"0"||"9"<t)));i++)e+=t;if(0<e.length&&e in this.ops2){this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,0;var a=1;if(-511121330!==A.t3p(a.toString(),a.toString().length,6126))return!1;if(498732764!==A.F3p(2..toString(),2..toString().length,39248))return!0}return A.X5O(),!1},isVar:function(){var t,e,i,a=2;A.X5O();for(var r=1;1209337939!==A.F3p(r.toString(),r.toString().length,35959);r++)t="",a+=2;-1811429532!==A.t3p(a.toString(),a.toString().length,11689)&&(t="");for(var n=this.pos;n<this.expression.length&&((e=this.expression.charAt(n)).toUpperCase()!==e.toLowerCase()||!(n===this.pos||"_"!=e&&(e<"0"||"9"<e)));n++)t+=e;if(0<t.length){i=2;for(var s=1;-1955680095!==A.F3p(s.toString(),s.toString().length,31010);s++)this.tokenindex=t,this.tokenprio=4,i+=2;return 484349521!==A.F3p(i.toString(),i.toString().length,14140)&&(this.tokenindex=t,this.tokenprio=1),this.pos+=t.length,!0}return!1},isComment:function(){var t,e,i;A.x2c(6),t=-A.G2c(270598152,"451741963"),e=2;for(var a=1;1576935905!==A.F3p(a.toString(),a.toString().length,1944);a++)i=this.expression.charCodeAt(this.pos+0),A.x2c(4),e+=A.G2c(1,"2");return A.F3p(e.toString(),e.toString().length,60361)!==t&&(i=this.expression.charCodeAt(this.pos+0)),i=this.expression.charCodeAt(this.pos-1),A.X5O(),47===i&&42===this.expression.charCodeAt(this.pos)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)}},!0);var q=1;return-867577154!==A.F3p(q.toString(),q.toString().length,55251)||-768343681!==A.t3p(2..toString(),2..toString().length,22949)?T:void 0;function Q(t,e){return A.I2c(19),A.L2c(t,e)}},Z.formatEquation=function(t){var e,i,a,r,n=at,s="",o=[];n.O5O(),e="",i=!1;for(var l=1;l<t.length;l++)"["!=(a=t[l].toUpperCase())||i?"]"==a&&i?(i=!1,""!==e&&(o.push(e),n.I2c(15),s+=n.L2c("]",e,"[")),e=""):i?e+=a:"+"==a||"-"==a||"*"==a||"/"==a||":"==a||"%"==a||"("==a||")"==a?(""!==e&&isNaN(e)?(o.push(e),n.x2c(15),s+=n.L2c("]",e,"[")):s+=e,":"==a&&(a="/"),s+=a,e=""):" "!=a&&(e+=a):i=!0;if(""!==e&&isNaN(e)){o.push(e),n.x2c(8),r=n.L2c("2",2147483647);for(var h=1;1001025878!==n.t3p(h.toString(),h.toString().length,89065);h++)n.x2c(26),s-=n.L2c("E",e,!1),n.I2c(2),r+=n.G2c("2",0);-604932492!==n.F3p(r.toString(),r.toString().length,10085)&&(n.x2c(15),s+=n.G2c("]",e,"["))}else s+=e;return{equation:s,symbols:o}},Z.fetchEquationChart=function(o,l){var t,h=Z.formatEquation(o.symbol),e=h.symbols,c=[],i=o.stx;o.stx=null;for(var a=0;a<e.length;a++)(t=Z.shallowClone(o)).stx=i,t.symbol=e[a],c.push(t);(o.stx=i).quoteDriver.quoteFeed.multiFetch(c,function(t){var e,i,a,r={};at.X5O(),o.loadMoreReplace=!0,e={charge:0};for(var n=0;n<t.length;n++){if((i=t[n]).dataCallback.error)return void l({error:i.dataCallback.error});r[i.params.symbol]=i.dataCallback.quotes,o.loadMoreReplace=o.loadMoreReplace&&i.params.loadMoreReplace,o.moreToLoad=o.moreToLoad||i.dataCallback.moreAvailable,(i=i.dataCallback.attribution).charge&&(e.charge+=i.charge),e.source=i.source,void 0===e.exchange?e.exchange=i.exchange:e.exchange!=i.exchange&&(e.exchange="")}if(c.length||!o.loadMore&&!o.update)try{a=Z.computeEquationChart(h.equation,r),l({quotes:a,moreAvailable:o.moreToLoad,attribution:e})}catch(t){var s="Invali";s+="d ",s+="equation: ",s={error:"Invalid equation: "+h.equation},t.name&&"NoException"==t.name&&(s.suppressAlert=!0),l(s)}})},Z.computeEquationChart=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k=at;function x(t){if(t.i++,e[t.s]){if(t.i>=e[t.s].length)return;l=e[t.s][t.i]}return l.DT||(l.DT=Z.strToDateTime(l.Date)),k.O5O(),t.d=l.DT,k.I2c(2),k.G2c("1",0)}for(S in t=t.replace(/[:]/,"/").toUpperCase(),i=0,e)a=new RegExp("\\["+S.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&")+"\\]","g"),k.I2c(7),t=t.replace(a,k.L2c("symbol",i)),i++;for(S in r=A().parse(t),n=[],o=0,h=null,c=!(s={}),u=[],e)p={sym:S,map:e[S]},e[S]?u.unshift(p):u.push(p);for(var C=0;C<u.length;C++)d=u[C],s[d.sym]={i:0,s:d.sym},d.map?(o++,l=d.map[0]):1==o&&(c=d.sym),l.DT||(l.DT=Z.strToDateTime(l.Date)),s[d.sym].d=l.DT,h=h||s[d.sym];k.x2c(27),g=k.G2c(o,0),f=1==o&&-1==t.indexOf("%");t:for(;m=function(){var t,e,i=null;for(e in k.X5O(),t=null,s)t?s[e].d.getTime()<t.d.getTime()?i=t=s[e]:s[e].d.getTime()>t.d.getTime()&&(i=t):t=s[e];return i?x(i)?-1:0:1}();)if(1==m){if(c)(y=e[h.s][h.i][c])&&(y.Close||0===y.Close)&&(y=y.Close),b=r.evaluate({symbol0:e[h.s][h.i].Close,symbol1:y}),b=Number(b.toFixed(8)),(y={DT:h.d,Close:b,Adj_Close:b})[h.s]=e[h.s][h.i].Close,isNaN(b)||b==1/0||n.push(y);else{if(g)throw b=r.evaluate({}),k.I2c(15),Z.alert(k.G2c(b,"=",t)),{name:"NoException",message:""};for(S in i=0,v={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}},e){for(var w in v)k.x2c(7),v[w][k.L2c("symbol",i)]=e[S][s[S].i][w];i++}(y={DT:h.d}).Adj_Close=r.evaluate(v.Adj_Close),y.Close=r.evaluate(v.Close),y.Open=r.evaluate(v.Open),y.Volume=r.evaluate(v.Volume),isNaN(y.Volume)&&(y.Volume=0),f?(y.High=r.evaluate(v.High),y.Low=r.evaluate(v.Low)):(y.High=Math.max(y.Open,y.Close),y.Low=Math.min(y.Open,y.Close)),isNaN(y.Close)||y.Close==1/0||n.push(y),isNaN(y.High)||(y.High=Number(y.High.toFixed(8))),isNaN(y.Low)||(y.Low=Number(y.Low.toFixed(8))),isNaN(y.Open)||(y.Open=Number(y.Open.toFixed(8))),isNaN(y.Close)||(y.Close=Number(y.Close.toFixed(8))),isNaN(y.Adj_Close)?y.Adj_Close=y.Close:y.Adj_Close=Number(y.Adj_Close.toFixed(8))}for(S in e)if(!x(s[S]))break t}return n},t},rt[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"iaSCX",{get:function(){return this},configurable:!0}),e=iaSCX,i=5;break;case 5:e.stdGB=e,i=4;break;case 4:i="undefined"==typeof stdGB?3:9;break;case 9:delete e.stdGB,delete Object.prototype.iaSCX,i=6}}catch(t){e=window}return e}}(),rt[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="Q2",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="T",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(rt[12018]),rt[366344]=function(t){function e(t){for(;;)return[arguments][0][0].Function}function i(t){for(;;)return[arguments][0][0]}for(var a=2;61!==a;)switch(a){case 46:r(o,"test",s[24],s[11]),a=45;break;case 52:s[31]+=s[6],s[31]+=s[5],s[11]=s[52],s[11]+=s[82],a=48;break;case 64:r(n,"push",s[24],s[45]),a=63;break;case 62:r(e,"apply",s[24],s[46]),a=61;break;case 47:var r=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 2:var s=[arguments];s[2]="operty",s[5]="nePr",s[8]="",n=3;break;case 3:s[8]="defi";try{for(var o=2;8!==o;)switch(o){case 2:s[3]={},o=1;break;case 1:s[4]=(0,s[0][1])(s[0][0]),s[7]=[s[4],s[4].prototype][s[0][3]],s[3].value=s[7][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[1]=s[8],s[1]+=s[5],s[1]+=s[2],s[0][0].Object[s[1]](s[7],s[0][4],s[3]),l=3)}catch(t){}s[7][s[0][4]]=s[3].value,o=8}}catch(t){}n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};a=46;break;case 33:s[61]+=s[3],s[70]=s[2],s[70]+=s[7],s[70]+=s[72],a=29;break;case 15:s[59]="a",s[82]="1",s[29]="B1",s[24]=1,a=24;break;case 63:r(i,s[70],s[15],s[61]),a=62;break;case 37:s[10]=s[4],s[10]+=s[82],s[10]+=s[82],s[31]=s[9],a=52;break;case 42:s[60]+=s[3],s[60]+=s[82],s[39]=s[21],s[39]+=s[8],s[39]+=s[91],a=37;break;case 45:r(i,s[31],s[15],s[10]),a=65;break;case 2:var s=[arguments];s[5]="",s[5]="t",s[6]="",s[6]="c",s[7]="",s[7]="optim",a=7;break;case 48:s[11]+=s[3],a=47;break;case 24:s[15]=0,s[46]=s[29],s[46]+=s[82],s[46]+=s[82],s[61]=s[1],s[61]+=s[82],a=33;break;case 7:s[2]="__",s[8]="_res",s[1]="Q",s[3]="11",a=12;break;case 19:s[72]="ize",s[21]="_",s[91]="idual",s[82]="",a=15;break;case 65:r(i,s[39],s[15],s[60]),a=64;break;case 29:s[45]=s[92],s[45]+=s[82],s[45]+=s[82],s[60]=s[59],a=42;break;case 12:s[4]="j1",s[9]="__abstra",s[92]="L1",s[52]="z",a=19}function n(t){for(;;)return[arguments][0][0].Array}function o(t){for(;;)return[arguments][0][0].RegExp}}(rt[12018]),(rt[12018].I5RR=rt).t02=function(){return"function"==typeof rt[160123].B2I?rt[160123].B2I.apply(rt[160123],arguments):rt[160123].B2I},rt.x0K=function(){return"function"==typeof rt[372105].z0K?rt[372105].z0K.apply(rt[372105],arguments):rt[372105].z0K},rt[647112]="Gal",rt.v0K=function(){return"function"==typeof rt[372105].h0K?rt[372105].h0K.apply(rt[372105],arguments):rt[372105].h0K},rt[603030]="AN9",rt.C0K=function(){return"function"==typeof rt[372105].h0K?rt[372105].h0K.apply(rt[372105],arguments):rt[372105].h0K},rt.D7V=function(){return"function"==typeof rt[152846].f6E?rt[152846].f6E.apply(rt[152846],arguments):rt[152846].f6E},rt[160123]=function(){for(var t=2;9!==t;)switch(t){case 4:return e[2].B2I=function(){for(var t=2;90!==t;)switch(t){case 12:a[8]=a[9],a[4]={},t=10;break;case 2:var a=[arguments],t=1;break;case 75:a[50]={},a[50][a[79]]=a[14][a[41]][a[95]],a[50][a[64]]=a[26],a[89].L111(a[50]),t=71;break;case 1:t=e[4]?5:4;break;case 5:return 82;case 58:a[35]=0,t=57;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 18:i[7]=!1,e=17;break;case 10:e=i[3][a[64]]===a[24]?20:19;break;case 8:i[6]=0,e=7;break;case 15:i[8]=i[9][i[6]],i[4]=i[1][i[8]].h/i[1][i[8]].t,e=26;break;case 4:i[1]={},i[9]=[],e=9;break;case 9:i[6]=0,e=8;break;case 1:e=0===i[0][0].length?5:4;break;case 12:i[9].L111(i[3][a[79]]),e=11;break;case 5:return;case 24:i[6]++,e=16;break;case 6:i[3]=i[0][0][i[6]],e=14;break;case 2:var i=[arguments],e=1;break;case 7:e=i[6]<i[0][0].length?6:18;break;case 26:e=.5<=i[4]?25:24;break;case 25:i[7]=!0,e=24;break;case 23:return i[7];case 13:i[1][i[3][a[79]]]=function(){for(;;){var t=[arguments];return t[2]={},t[2].h=0,t[2].t=0,t[2]}}.B111(this,arguments),e=12;break;case 14:e=void 0===i[1][i[3][a[79]]]?13:11;break;case 20:i[1][i[3][a[79]]].h+=!0,e=19;break;case 16:e=i[6]<i[9].length?15:23;break;case 11:i[1][i[3][a[79]]].t+=!0,e=10;break;case 17:i[6]=0,e=16;break;case 19:i[6]++,e=7}}(a[89])?68:67;break;case 61:a[64]="L0K",a[62]="g0K",a[79]="t0K",t=58;break;case 17:a[1].s0K=["f0K"],a[1].g0K=function(){return!/\x61/.z111(function(){return"ab".charAt(1)}+[])},a[6]=a[1],a[55]={},t=26;break;case 37:a[27].g0K=function(){return"function"==typeof Q111},a[25]=a[27],a[7].L111(a[45]),a[7].L111(a[10]),a[7].L111(a[8]),t=51;break;case 41:a[90].g0K=function(){return!/\u0032\u0035/.z111(function(){return decodeURIComponent("%25")}+[])},a[20]=a[90],a[27]={},a[27].s0K=["a7K"],t=37;break;case 56:a[14]=a[7][a[35]];try{a[26]=a[14][a[62]]()?a[24]:a[61]}catch(t){a[26]=a[61]}t=77;break;case 67:return e[4]=16,61;case 10:a[4].s0K=["f0K"],a[4].g0K=function(){return/\x74\x72\x75\u0065/.z111(function(){return"aaa".includes("a")}+[])},a[3]=a[4],a[1]={},t=17;break;case 57:t=a[35]<a[7].length?56:69;break;case 26:a[55].s0K=["f0K"],a[55].g0K=function(){return/\u0032\x35/.z111(function(){return encodeURI("%")}+[])},a[45]=a[55],a[32]={},t=22;break;case 47:a[7].L111(a[25]),a[7].L111(a[6]),a[7].L111(a[42]),a[89]=[],t=64;break;case 29:a[94].s0K=["a7K"],a[94].g0K=function(){var t=!1,e=[];try{for(var i in console)e.L111(i);t=0===e.length}catch(t){}return t},a[85]=a[94],a[90]={},a[90].s0K=["f0K"],t=41;break;case 68:t=68;break;case 76:t=a[95]<a[14][a[41]].length?75:70;break;case 33:a[80].s0K=["a7K"],a[80].g0K=function(){return"function"==typeof a111},a[42]=a[80],a[94]={},t=29;break;case 4:a[7]=[],a[2]={},a[2].s0K=["f0K"],t=8;break;case 22:a[32].s0K=["a7K"],a[32].g0K=function(){return"function"==typeof j111},a[10]=a[32],a[80]={},t=33;break;case 64:a[24]="O0K",a[61]="W0K",a[41]="s0K",t=61;break;case 71:a[95]++,t=76;break;case 77:a[95]=0,t=76;break;case 8:a[2].g0K=function(){return!/\u0028\u005b/.z111(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},a[5]=a[2],a[9]={},a[9].s0K=["f0K"],a[9].g0K=function(){return!/\u0062\u0074\x6f\x61/.z111(function(){return btoa("=")}+[])},t=12;break;case 51:a[7].L111(a[5]),a[7].L111(a[3]),a[7].L111(a[85]),a[7].L111(a[20]),t=47;break;case 70:a[35]++,t=57}},e[2];case 2:var e=[arguments];e[4]=void 0,e[2]={},t=4}}(),rt[152846]={f6E:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.Q2TT(n)|(255&t.Q2TT(n+1))<<8|(255&t.Q2TT(n+2))<<16|(255&t.Q2TT(n+3))<<24,s=nt(s,3432918353),a=5*(a=(524287&(a^=s=nt(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.Q2TT(2+r))<<16;case 2:s|=(255&t.Q2TT(1+r))<<8;case 1:s|=255&t.Q2TT(r),s=nt(s,3432918353),a^=s=nt(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=nt(a^=a>>>16,2246822507),a=nt(a^=a>>>13,3266489909),a^=a>>>16}},rt[440061]=349,rt.q02=function(){return"function"==typeof rt[160123].B2I?rt[160123].B2I.apply(rt[160123],arguments):rt[160123].B2I},rt.O7V=function(){return"function"==typeof rt[152846].f6E?rt[152846].f6E.apply(rt[152846],arguments):rt[152846].f6E},rt[372105]={z0K:function(){var t,e=arguments;switch(k){case 2:t=e[1]*e[0];break;case 0:t=e[1]-e[0];break;case 1:t=e[0]>>e[1];break;case 4:t=e[0]/e[1];break;case 3:t=e[0]+e[1];break;case 5:t=e[1]^e[0]}return t},h0K:function(t){k=t}},rt.y0K=function(){return"function"==typeof rt[372105].z0K?rt[372105].z0K.apply(rt[372105],arguments):rt[372105].z0K},rt.t02(),x=function(t){var C=t.CIQ;return C.Renderer.Shading=function(t){var e,i=rt;i.t02(),e=2;for(var a=1;-841213476!==i.O7V(a.toString(),a.toString().length,94166);a++)this.construct(t),this.beenSetup=!1,this.errTimeout=null,e+=2;-1136431352!==i.D7V(e.toString(),e.toString().length,84401)&&(this.construct(t),this.beenSetup=!0,i.C0K(0),this.errTimeout=i.x0K(0,"1")),this.params.useChartLegend=!1,this.shading=[],"rangechannel"==this.params.type&&(this.highLowBars=!0)},C.Renderer.Shading.ciqInheritsFrom(C.Renderer.Lines,!1),C.Renderer.Shading.requestNew=function(t,e){for(var i,a=rt,r=null,n=0;n<t.length;n++)"rangechannel"==t[n]&&(r="rangechannel");a.q02(),a.C0K(1),i=a.x0K("2",1894005152);var s=1;return-355897910!==a.O7V(s.toString(),s.toString().length,73082)?1!=r?1:new C.Renderer.Shading({params:C.extend(e,{type:r})}):1819399705!==a.D7V(i.toString(),i.toString().length,17848)?null===r?null:new C.Renderer.Shading({params:C.extend(e,{type:r})}):void 0},C.Renderer.Shading.prototype.setShading=function(t){t.constructor!=Array&&(t=[t]),rt.t02(),this.shading=t},C.Renderer.Shading.prototype.draw=function(){for(var t,e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=rt,b=2,v=1;1859231300!==y.O7V(v.toString(),v.toString().length,37320);v++)e=(t=this.stx).panels[this.params.panel].chart,b+=2;function S(t){var e,i,a,r=o[t];if(r){e=r.parameters.field,i=r.parameters.subField,y.v0K(2),a=-y.y0K(1,"1604401942"),0;r=1;if(y.D7V(r.toString(),r.toString().length,23246)!==a)return y.v0K(3),y.y0K(e,i?"."+i:"");if(-303374754!==y.O7V(2..toString(),2..toString().length,15751))return y.v0K(4),y.y0K(e,i?""*i:"")}return y.t02(),t}if(-1925860491!==y.O7V(b.toString(),b.toString().length,58539)&&(e=(t=this.stx).panels[this.params.panel].chart),"rangechannel"==this.params.type&&(this.beenSetup?2<this.seriesParams.length&&this.removeSeries(this.seriesParams[2].id):(this.beenSetup=!0,this.params.display=this.seriesParams[0].display,this.params.yAxis=this.seriesParams[0].yAxis,i=this.seriesParams[0].color||"auto",(a=this.seriesParams[0].symbol)&&(y.C0K(3),y.x0K(a,".")),this.removeAllSeries(!0),r=this.params.name,t.addSeries(null,{symbol:a,loadData:!!a,field:"High",renderer:"Shading",name:r,style:"stx_line_up",display:this.params.display}),t.addSeries(null,{symbol:a,loadData:!!a,field:"Low",renderer:"Shading",name:r,style:"stx_line_down",display:this.params.display}),this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:i}))),y.t02(),!this.shading&&!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set."),n=2;for(var k=1;-1097069103!==y.O7V(k.toString(),k.toString().length,49393);k++)s=this,n+=2;-55834909!==y.O7V(n.toString(),n.toString().length,78154)&&(s=this),this.errTimeout=setTimeout(function(){var t;y.t02(),t=2;for(var e=1;-1395557671!==y.D7V(e.toString(),e.toString().length,84695);e++)s.errTimeout=1,t+=2;-732686840!==y.D7V(t.toString(),t.toString().length,22375)&&(s.errTimeout=null)},1e4)}for(o={},l=0;l<this.seriesParams.length;l++)h={},e.series[this.seriesParams[l].id]&&(h=C.clone(e.series[this.seriesParams[l].id].parameters)),o[this.seriesParams[l].id]={parameters:C.extend(C.extend(h,this.params),this.seriesParams[l]),yValueCache:this.caches[this.seriesParams[l].id]};if(t.drawSeries(e,o,this.params.yAxis,this),e.legend&&"rangechannel"==this.params.type){e.legend.colorMap||(e.legend.colorMap={}),c=2;for(var x=1;915714459!==y.D7V(x.toString(),x.toString().length,52125);x++)u=this.params.display,p=[t.getCanvasColor("stx_line_down"),t.getCanvasColor("stx_line_down")],e.legend.colorMap[u]={color:p,display:u,isBase:this!==t.mainSeriesRenderer},c+=2;-306904621!==y.O7V(c.toString(),c.toString().length,31503)&&(u=this.params.display,p=[t.getCanvasColor("stx_line_up"),t.getCanvasColor("stx_line_down")],e.legend.colorMap[u]={color:p,display:u,isBase:this==t.mainSeriesRenderer})}for(l in o)this.caches[l]=o[l].yValueCache;for(l=0;l<this.shading.length;l++)d=(m=this.shading[l]).color,"auto"==m.color&&(d=t.defaultColor),m.primary||(m.primary="Close"),m.secondary||(m.secondary=this.seriesParams[0].field),m.secondary&&d&&(o[m.primary]||"Close"==m.primary)&&o[m.secondary]&&("Close"==m.primary&&this.params.yAxis!=e.yAxis||(g=S(m.primary).split("."),f=S(m.secondary).split("."),m={topBand:g[0],topSubBand:g[1],topColor:m.greater||d,topAxis:this.params.yAxis,bottomBand:f[0],bottomSubBand:f[1],bottomColor:m.lesser||d,bottomAxis:"Close"==m.primary?null:this.params.yAxis,tension:this.params.tension||e.tension,opacity:.1},C.fillIntersecting(t,this.params.panel,m)))},C.Renderer.Histogram=function(t){var e;this.construct(t),e=2;for(var i=1;1979550676!==rt.D7V(i.toString(),i.toString().length,10938);i++)this.params.type="histogram",this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0,e+=2;-19486252!==rt.D7V(e.toString(),e.toString().length,49553)&&(this.params.type="",this.params.highlightable=!0,this.barsHaveWidth=this.standaloneBars=!1),this.params.yAxis&&(this.params.bindToYAxis=!0)},C.Renderer.Histogram.ciqInheritsFrom(C.Renderer,!1),C.Renderer.Histogram.prototype.adjustYAxis=function(){this.params.yAxis&&(this.params.yAxis.min=0,this.params.yAxis.highValue/=this.params.heightPercentage||1)},C.Renderer.Histogram.prototype.draw=function(){this.stx.drawHistogram(C.clone(this.params),this.seriesParams)},C.Renderer.Heatmap=function(t){for(var e=2,i=1;-1528098839!==rt.O7V(i.toString(),i.toString().length,79725);i++)this.construct(t),this.params.type="",this.params.highlightable=!0,this.barsHaveWidth=this.standaloneBars=!1,e+=2;1954192259!==rt.O7V(e.toString(),e.toString().length,60834)&&(this.construct(t),this.params.type="",this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0),this.construct(t),this.params.type="heatmap",this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0},C.Renderer.Heatmap.ciqInheritsFrom(C.Renderer,!1),C.Renderer.Heatmap.prototype.draw=function(){rt.q02(),this.stx.drawHeatmap(C.clone(this.params),this.seriesParams)},C.Renderer.Scatter=function(t){var e,i,a=rt;this.construct(t),a.v0K(5),e=-a.x0K(0,"2029357754"),i=2;for(var r=1;a.O7V(r.toString(),r.toString().length,16896)!==e;r++)this.standaloneBars=this.barsHaveWidth=!1,a.v0K(5),i+=a.x0K(0,"2");207934534!==a.O7V(i.toString(),i.toString().length,91385)&&(this.standaloneBars=this.barsHaveWidth=!0)},C.Renderer.Scatter.ciqInheritsFrom(C.Renderer.Lines,!1),C.Renderer.Scatter.requestNew=function(t,e){for(var i=null,a=0;a<t.length;a++)"scatterplot"==t[a]&&(i="scatter");return null===i?null:new C.Renderer.Scatter({params:C.extend(e,{type:i})})},rt.q02(),C.Renderer.Scatter.prototype.drawIndividualSeries=function(t,e){return rt.t02(),panel=this.stx.panels[e.panel]||t.panel,t={colors:[]},this.stx.scatter?t=this.stx.scatter(panel,e):console.warn("Error, Scatter renderer requires customChart.js"),t},t},ot[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"PuAFn",{get:function(){return this},configurable:!0}),e=PuAFn,i=5;break;case 5:e.FKe3e=e,i=4;break;case 4:i="undefined"==typeof FKe3e?3:9;break;case 9:delete e.FKe3e,delete Object.prototype.PuAFn,i=6}}catch(t){e=window}return e}}(),ot[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="Q1",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="b",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(ot[12018]),ot[366344]=function(t){function e(t){for(;;)return[arguments][0][0].RegExp}for(var i=2;59!==i;)switch(i){case 61:a(r,s[84],s[45],s[72]),i=60;break;case 64:a(o,"push",s[17],s[14]),i=63;break;case 43:s[65]+=s[9],s[65]+=s[7],s[24]=s[3],s[24]+=s[10],i=39;break;case 63:a(e,"test",s[17],s[15]),i=62;break;case 39:s[24]+=s[11],s[15]=s[60],s[15]+=s[5],s[15]+=s[2],s[14]=s[1],s[14]+=s[5],i=52;break;case 62:a(r,s[24],s[45],s[65]),i=61;break;case 60:a(n,"apply",s[17],s[61]),i=59;break;case 65:a(r,s[93],s[45],s[18]),i=64;break;case 16:s[83]="y",s[10]="tr",s[73]="U",s[30]="al",i=25;break;case 32:s[72]+=s[9],s[72]+=s[7],s[84]=s[25],s[84]+=s[8],s[84]+=s[30],s[65]=s[83],i=43;break;case 48:s[93]=s[25],s[93]+=s[6],s[93]+=s[4],i=45;break;case 12:s[3]="__abs",s[2]="3",s[8]="_residu",s[11]="act",s[60]="C",s[71]="i1",s[25]="_",i=16;break;case 3:s[1]="",s[1]="L",s[5]="",s[5]="13",s[7]="",s[7]="33",s[9]="1",i=12;break;case 25:s[26]="",s[26]="T1",s[17]=1,s[45]=0,i=21;break;case 45:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 3:l[7]="definePr";try{for(var s=2;8!==s;)switch(s){case 4:l[2].value=l[6][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[2]),o=3;break;case 2:l[5]=l[7],l[5]+=l[1],l[5]+=l[3],o=4}}catch(t){}l[6][l[0][4]]=l[2].value,s=8;break;case 2:l[2]={},l[4]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[4].prototype][l[0][3]],s=4}}catch(t){}n=8;break;case 2:var l=[arguments];l[3]="erty",l[1]="",l[1]="op",n=3}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=65;break;case 52:s[14]+=s[2],s[18]=s[71],s[18]+=s[2],s[18]+=s[2],i=48;break;case 2:var s=[arguments];s[4]="e",s[6]="",s[6]="_optimiz",i=3;break;case 21:s[61]=s[26],s[61]+=s[2],s[61]+=s[2],s[72]=s[73],i=32}function r(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments],e=1;break;case 1:return i[0][0]}}function n(t){for(;;)return[arguments][0][0].Function}function o(t){for(;;)return[arguments][0][0].Array}}(ot[12018]),ot[152846]={X85:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.Q1bb(n)|(255&t.Q1bb(n+1))<<8|(255&t.Q1bb(n+2))<<16|(255&t.Q1bb(n+3))<<24,s=st(s,3432918353),a=5*(a=(524287&(a^=s=st(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.Q1bb(2+r))<<16;case 2:s|=(255&t.Q1bb(1+r))<<8;case 1:s|=255&t.Q1bb(r),s=st(s,3432918353),a^=s=st(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=st(a^=a>>>16,2246822507),a=st(a^=a>>>13,3266489909),a^=a>>>16}},ot[647112]=ot[366344],ot[160123]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[8];case 2:var e=[arguments];e[5]=void 0,e[8]={},e[8].l0t=function(){for(var t=2;90!==t;)switch(t){case 1:t=e[5]?5:4;break;case 27:a[27]={},a[27].A8S=["i8S"],a[27].S8S=function(){return/\u0058/.C133(function(){return"x".toLocaleUpperCase()}+[])},a[15]=a[27],t=23;break;case 38:a[20].A8S=["Z8S"],a[20].S8S=function(){return"function"==typeof U133},a[22]=a[20],a[2].L133(a[70]),t=53;break;case 72:a[90].L133(a[42]),t=71;break;case 34:a[66]={},a[66].A8S=["i8S"],a[66].S8S=function(){return/\x78/.C133(function(){return"X".toLocaleLowerCase()}+[])},t=31;break;case 67:return e[5]=80,29;case 40:a[32]=a[81],a[20]={},t=38;break;case 77:a[24]=0,t=76;break;case 23:a[92]={},a[92].A8S=["i8S"],a[92].S8S=function(){return!/(\u005b|\x5d)/.C133(function(){return["a","a"].join()}+[])},a[70]=a[92],t=34;break;case 58:a[99]=0,t=57;break;case 2:var a=[arguments],t=1;break;case 31:a[45]=a[66],a[72]={},a[72].A8S=["i8S"],t=28;break;case 76:t=a[24]<a[89][a[73]].length?75:70;break;case 62:a[73]="A8S",a[58]="p8S",a[18]="S8S",a[82]="M8S",t=58;break;case 13:a[6].S8S=function(){var t=!1,e=[];try{for(var i in console)e.L133(i);t=0===e.length}catch(t){}return t},a[8]=a[6],a[5]={},t=10;break;case 5:return 60;case 57:t=a[99]<a[2].length?56:69;break;case 75:a[42]={},a[42][a[82]]=a[89][a[73]][a[24]],a[42][a[58]]=a[25],t=72;break;case 53:a[2].L133(a[9]),a[2].L133(a[32]),a[2].L133(a[7]),a[2].L133(a[8]),t=49;break;case 49:a[2].L133(a[45]),a[2].L133(a[15]),a[2].L133(a[10]),a[2].L133(a[22]),t=45;break;case 71:a[24]++,t=76;break;case 28:a[72].S8S=function(){return/\x78/.C133(function(){return"X".toLowerCase()}+[])},a[10]=a[72],a[81]={},a[81].A8S=["i8S"],a[81].S8S=function(){return!/\x61/.C133(function(){return"ab".charAt(1)}+[])},t=40;break;case 56:a[89]=a[2][a[99]];try{a[25]=a[89][a[18]]()?a[55]:a[77]}catch(t){a[25]=a[77]}t=77;break;case 18:a[3]={},a[3].A8S=["Z8S"],a[3].S8S=function(){return"function"==typeof y133},a[4]=a[3],t=27;break;case 4:a[2]=[],a[1]={},a[1].A8S=["Z8S"],a[1].S8S=function(){return"function"==typeof i133},a[9]=a[1],a[6]={},a[6].A8S=["Z8S"],t=13;break;case 70:a[99]++,t=57;break;case 68:t=68;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 4:i[1]={},i[3]=[],i[9]=0,e=8;break;case 15:i[2]=i[3][i[9]],i[6]=i[1][i[2]].h/i[1][i[2]].t,e=26;break;case 7:e=i[9]<i[0][0].length?6:18;break;case 5:return;case 17:i[9]=0,e=16;break;case 20:i[1][i[4][a[82]]].h+=!0,e=19;break;case 26:e=.5<=i[6]?25:24;break;case 14:e=void 0===i[1][i[4][a[82]]]?13:11;break;case 1:e=0===i[0][0].length?5:4;break;case 24:i[9]++,e=16;break;case 19:i[9]++,e=7;break;case 11:i[1][i[4][a[82]]].t+=!0,e=10;break;case 8:i[9]=0,e=7;break;case 25:i[7]=!0,e=24;break;case 23:return i[7];case 12:i[3].L133(i[4][a[82]]),e=11;break;case 2:var i=[arguments],e=1;break;case 16:e=i[9]<i[3].length?15:23;break;case 10:e=i[4][a[58]]===a[55]?20:19;break;case 18:i[7]=!1,e=17;break;case 6:i[4]=i[0][0][i[9]],e=14;break;case 13:i[1][i[4][a[82]]]=function(){for(;;){var t=[arguments];return t[1]={},t[1].h=0,t[1].t=0,t[1]}}.T133(this,arguments),e=12}}(a[90])?68:67;break;case 45:a[2].L133(a[4]),a[90]=[],a[55]="J8S",a[77]="u8S",t=62;break;case 10:a[5].A8S=["i8S"],a[5].S8S=function(){return!/\u0032\u0035/.C133(function(){return decodeURI("%25")}+[])},a[7]=a[5],t=18}},t=3}}(),(ot[12018].J499=ot).I8S=function(){return"function"==typeof ot[372105].G8S?ot[372105].G8S.apply(ot[372105],arguments):ot[372105].G8S},ot.m8S=function(){return"function"==typeof ot[372105].f8S?ot[372105].f8S.apply(ot[372105],arguments):ot[372105].f8S},ot.Q6k=function(){return"function"==typeof ot[152846].X85?ot[152846].X85.apply(ot[152846],arguments):ot[152846].X85},ot.a8m=function(){return"function"==typeof ot[160123].l0t?ot[160123].l0t.apply(ot[160123],arguments):ot[160123].l0t},ot.R6k=function(){return"function"==typeof ot[152846].X85?ot[152846].X85.apply(ot[152846],arguments):ot[152846].X85},ot.O8S=function(){return"function"==typeof ot[372105].f8S?ot[372105].f8S.apply(ot[372105],arguments):ot[372105].f8S},ot.N8m=function(){return"function"==typeof ot[160123].l0t?ot[160123].l0t.apply(ot[160123],arguments):ot[160123].l0t},ot[440061]=163,ot.k8S=function(){return"function"==typeof ot[372105].G8S?ot[372105].G8S.apply(ot[372105],arguments):ot[372105].G8S},ot[603030]="ksY",ot[372105]={f8S:function(){var t,e=arguments;switch(C){case 0:t=e[0]^e[1];break;case 1:t=e[0]|e[1];break;case 4:t=e[0]+e[1];break;case 2:t=e[1]>>e[0];break;case 3:t=e[0]+e[2]+e[1]}return t},G8S:function(t){C=t}},ot.N8m(),w=function(t){var b,l;function n(t,n,s){var o,e,i;if(ot.a8m(),n=n||{},o=document.querySelector("body"),n.hide&&n.hide instanceof Array){e=n.hide.join(", "),i=document.querySelectorAll(e);for(var a=0;a<i.length;a++)b.appendClassName(i[a],"ciq-no-share")}b.appendClassName(o,"sharing"),l(t.chart.container,{allowTaint:!1,logging:!1,width:n.width||null,height:n.height||null,background:n.background||null,useCORS:!0}).then(function(t){var e,i=ot;if(i.a8m(),s){e=2;for(var a=1;-1708239177!==i.R6k(a.toString(),a.toString().length,49424);a++)b.unappendClassName(o,""),e+=2;if(1516128286!==i.R6k(e.toString(),e.toString().length,28098)&&b.unappendClassName(o,""),b.unappendClassName(o,"sharing"),!n.data){0;var r=1;if(-1118983131!==i.R6k(r.toString(),r.toString().length,34898))return s(null,t);if(-918034870!==i.R6k(2..toString(),2..toString().length,86818))return s(1,t)}return s(null,t.toDataURL("image/png"))}})}return ot.N8m(),(b=t.CIQ).Share=function(){},t.STXSocial=b.Share,b.Share.FullChart2PNG=function(t,e,i){var a;if(ot.N8m(),t&&t.chart){if("undefined"==typeof html2canvas)return function(i){var e;{if(ot.a8m(),"undefined"!=typeof html2canvas)return l=html2canvas,i();if("undefined"!=typeof requirejs)try{return requirejs(["html2canvas"],function(t){ot.N8m();var e=1;return 957936791!==ot.Q6k(e.toString(),e.toString().length,64372)||2073798479!==ot.Q6k(2..toString(),2..toString().length,1564)?(l=t,i()):void 0})}catch(t){e=2;for(var a=1;-671561240!==ot.Q6k(a.toString(),a.toString().length,64354);a++)console.warn(""),e+=2;1626188979!==ot.R6k(e.toString(),e.toString().length,26309)&&console.warn("Require loading has failed, attempting to load html2canvas manually.")}b.loadScript(function(){var t,e,i;if(b.Share.html2canvasLocation)return b.Share.html2canvasLocation;t=2;for(var a=1;-1460638095!==ot.R6k(a.toString(),a.toString().length,87786);a++)e=document.getElementsByTagName(""),t+=2;-67167215!==ot.Q6k(t.toString(),t.toString().length,39470)&&(e=document.getElementsByTagName("script"));ot.a8m();for(var r=0;r<e.length;r++)if((i=e[r]).src&&-1<i.src.indexOf("share.js"))return i.src.replace(/advanced\/share\.js/,"")+"thirdparty/";return"js/thirdparty/"}()+"/html2canvas.js",function(){ot.a8m(),l=html2canvas;var t=1;return-72866132!==ot.Q6k(t.toString(),t.toString().length,99770)||-1446236197!==ot.Q6k(2..toString(),2..toString().length,18926)?i():void 0})}}(function(){return ot.N8m(),n(t,e,i)});l=html2canvas,a=2;for(var r=1;-1618938203!==ot.Q6k(r.toString(),r.toString().length,87655);r++)n(t,e,i),a+=2;-701439025!==ot.R6k(a.toString(),a.toString().length,94296)&&n(t,e,i),n(t,e,i)}},b.Share.createImage=function(t,e,r){var i,a,n,s,o,l,h,c,u,p,d,g=ot;if(l="image/p",l+="ng",g.N8m(),l=[].slice.call(arguments),r=l.pop(),null!==e&&"object"==typeof e||(e={widthPX:l[1],heightPX:l[2],imageType:l[3]}),i=e.widthPX,d=e.heightPX,a=e.imageType,n=t.chart.canvas.height,s=t.chart.canvas.width,t.chart.canvas.style.height){n=b.stripPX(t.chart.canvas.style.height),o=2;for(var f=1;-1209140753!==g.Q6k(f.toString(),f.toString().length,20798);f++)s=b.stripPX(t.chart.canvas.style.width),o+=2;-2074702370!==g.Q6k(o.toString(),o.toString().length,77195)&&(s=b.stripPX(t.chart.canvas.style.width))}if(i&&d){n=d,g.I8S(0),l=g.O8S("2121591234",0),h=2;for(var m=1;-1912543660!==g.R6k(m.toString(),m.toString().length,82546);m++)s=i,h+=2;g.R6k(h.toString(),h.toString().length,95696)!==l&&(s=i),s=i}else d?s=t.chart.canvas.width*(n/t.chart.canvas.height):i&&(s=i,n=t.chart.canvas.height*(i/t.chart.canvas.width));c=2;for(var y=1;1166824969!==g.R6k(y.toString(),y.toString().length,9085);y++)u=a?"image/png"%a:"image/png",p=document.createElement("image/png"),c+=2;49486889!==g.R6k(c.toString(),c.toString().length,845)&&(u=a?"image/png"+a:"image/png",p=document.createElement("image/png")),u=a?"image/"+a:"image/png",(p=document.createElement("img")).onload=function(){g.a8m(),b.Share.FullChart2PNG(t,{image:this,width:s,height:n,hide:e.hide},function(t,e){g.a8m();try{r(e.toDataURL(u))}catch(t){var i;console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback."),i=2;for(var a=1;781087533!==g.Q6k(a.toString(),a.toString().length,27494);a++)r(p.src),i+=2;107725275!==g.Q6k(i.toString(),i.toString().length,90194)&&r(p.src)}})},p.src=t.chart.canvas.toDataURL(u)},b.Share.uploadImage=function(t,e,i,a){var r,n,s=ot;s.a8m(),i=i||{},s.I8S(1),r=s.O8S("691503574",553746580),n=2;for(var o=1;s.Q6k(o.toString(),o.toString().length,96404)!==r;o++)i.image=t,s.k8S(2),n+=s.m8S(711994208,"2");-549006946!==s.Q6k(n.toString(),n.toString().length,12532)&&(i.image=t),b.postAjax(e,JSON.stringify(i),function(t,e){if(200!=t){a(t,null),0;t=1;if(549002209!==s.Q6k(t.toString(),t.toString().length,36889))return;if(-752404419!==s.Q6k(2..toString(),2..toString().length,88386))return}a(null,e)})||a(0,null)},b.Share.shareChart=function(r,s,o){ot.a8m(),b.Share.createImage(r,{},function(t){var n,e,i,a;i=b.uniqueID(),ot.a8m(),n="https:",n+="//",n+="shar",n+="e.chartiq.com",ot.k8S(3),e=ot.O8S(n,i,"/upload/"),s&&(s.host&&(n=s.host),s.path&&(e=n+s.path+"/"+i)),a=r.getStartDateOffset(),i={id:i,image:t,config:{layout:r.exportLayout(),drawings:r.exportDrawings(),xOffset:a,startDate:r.chart.dataSegment[a].Date,endDate:r.chart.dataSegment[r.chart.dataSegment.length-1].Date,id:i,symbol:r.chart.symbol}},b.Share.uploadImage(t,e,i,function(t,e){var i,a=ot;if(a.N8m(),null!==t){i=2;for(var r=1;1147373013!==a.Q6k(r.toString(),r.toString().length,40152);r++)b.alert("",t),i+=2;-305633470!==a.R6k(i.toString(),i.toString().length,33604)&&b.alert("error sharing chart: ",t)}else a.I8S(4),o(a.m8S(n,e))})})},t},lt[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"lJAN9",{get:function(){return this},configurable:!0}),e=lJAN9,i=5;break;case 5:e.YYy8F=e,i=4;break;case 4:i="undefined"==typeof YYy8F?3:9;break;case 9:delete e.YYy8F,delete Object.prototype.lJAN9,i=6}}catch(t){e=window}return e}}(),lt[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="u1",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="T",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(lt[12018]),lt[366344]=function(t){function e(t){for(;;)return[arguments][0][0].Function}function i(t){for(;;)return[arguments][0][0].RegExp}function a(t){for(;;)return[arguments][0][0]}for(var r=2;62!==r;)switch(r){case 35:s[46]+=s[2],s[46]+=s[7],s[61]=s[52],s[61]+=s[52],r=31;break;case 36:s[39]+=s[6],s[10]=s[5],s[10]+=s[2],s[10]+=s[7],r=51;break;case 18:s[21]="g7",s[91]="R",s[82]="j",s[59]="",r=27;break;case 40:s[60]+=s[1],s[60]+=s[1],s[39]=s[4],s[39]+=s[9],r=36;break;case 63:n(e,"apply",s[29],s[15]),r=62;break;case 27:s[59]="v7",s[29]=1,s[24]=0,s[15]=s[59],s[15]+=s[1],s[15]+=s[1],s[46]=s[91],r=35;break;case 64:n(a,s[61],s[24],s[46]),r=63;break;case 47:n(i,"test",s[29],s[31]),r=46;break;case 44:s[45]=s[52],s[45]+=s[72],s[45]+=s[8],s[60]=s[21],r=40;break;case 31:s[61]+=s[3],s[70]=s[82],s[70]+=s[2],s[70]+=s[7],r=44;break;case 51:s[31]=s[92],s[31]+=s[1],s[31]+=s[1],r=48;break;case 48:var n=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 2:var s=[arguments];s[5]="erty",s[8]="Prop",s[7]="",n=3;break;case 3:s[7]="define";try{for(var o=2;8!==o;)switch(o){case 3:try{for(var l=2;3!==l;)2===l&&(s[4]=s[7],s[4]+=s[8],s[4]+=s[5],s[0][0].Object[s[4]](s[9],s[0][4],s[1]),l=3)}catch(t){}s[9][s[0][4]]=s[1].value,o=8;break;case 2:s[1]={},s[2]=(0,s[0][1])(s[0][0]),s[9]=[s[2],s[2].prototype][s[0][3]],s[1].value=s[9][s[0][2]],o=3}}catch(t){}n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};r=47;break;case 46:n(o,"push",s[29],s[10]),r=45;break;case 9:s[7]="",s[7]="11",s[2]="7",s[8]="dual",r=14;break;case 2:var s=[arguments];s[5]="",s[5]="W",s[6]="",s[6]="tract",r=9;break;case 14:s[1]="1",s[3]="optimize",s[4]="__a",s[9]="bs",s[92]="n7",s[52]="_",s[72]="_resi",r=18;break;case 65:n(a,s[45],s[24],s[70]),r=64;break;case 45:n(a,s[39],s[24],s[60]),r=65}function o(t){for(;;)return[arguments][0][0].Array}}(lt[12018]),lt.W79=function(){return"function"==typeof lt[372105].L79?lt[372105].L79.apply(lt[372105],arguments):lt[372105].L79},lt.k79=function(){return"function"==typeof lt[372105].e79?lt[372105].e79.apply(lt[372105],arguments):lt[372105].e79},lt[603030]=!0,lt[647112]=lt[12018],lt[440061]=!1,lt[160123]=function(){for(;;){var e=[arguments];return e[3]=void 0,e[7]={},e[7].x33=function(){for(var t=2;90!==t;)switch(t){case 1:t=e[3]?5:4;break;case 27:a[28]={},a[28].y79=["E79"],a[28].x79=function(){return"function"==typeof R711},a[16]=a[28],t=23;break;case 38:a[11].y79=["S79"],a[11].x79=function(){return/\x33\u0044/.n711(function(){return escape("=")}+[])},a[18]=a[11],a[3].W711(a[95]),t=53;break;case 72:a[90].W711(a[41]),t=71;break;case 34:a[51]={},a[51].y79=["S79"],a[51].x79=function(){return!/\u0028\u005b/.n711(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},t=31;break;case 67:return e[3]=41,33;case 40:a[37]=a[30],a[11]={},t=38;break;case 77:a[94]=0,t=76;break;case 23:a[96]={},a[96].y79=["S79"],a[96].x79=function(){return/\u0058/.n711(function(){return"x".toLocaleUpperCase()}+[])},a[31]=a[96],t=34;break;case 58:a[99]=0,t=57;break;case 2:var a=[arguments],t=1;break;case 31:a[95]=a[51],a[82]={},a[82].y79=["S79"],t=28;break;case 76:t=a[94]<a[29][a[50]].length?75:70;break;case 62:a[50]="y79",a[60]="v79",a[27]="x79",a[65]="c79",t=58;break;case 13:a[7].x79=function(){var t=!1,e=[];try{for(var i in console)e.W711(i);t=0===e.length}catch(t){}return t},a[8]=a[7],a[5]={},t=10;break;case 5:return 15;case 57:t=a[99]<a[3].length?56:69;break;case 75:a[41]={},a[41][a[65]]=a[29][a[50]][a[94]],a[41][a[60]]=a[15],t=72;break;case 53:a[3].W711(a[8]),a[3].W711(a[31]),a[3].W711(a[16]),a[3].W711(a[9]),t=49;break;case 49:a[3].W711(a[1]),a[3].W711(a[87]),a[3].W711(a[37]),a[3].W711(a[6]),t=45;break;case 71:a[94]++,t=76;break;case 28:a[82].x79=function(){return/\x31/.n711(function(){return"aa".lastIndexOf("a")}+[])},a[87]=a[82],a[30]={},a[30].y79=["S79"],a[30].x79=function(){return/\x31\x39\x32/.n711(function(){!function(){for(var t=0;t<20;t++)0}()}+[])},t=40;break;case 56:a[29]=a[3][a[99]];try{a[15]=a[29][a[27]]()?a[84]:a[62]}catch(t){a[15]=a[62]}t=77;break;case 18:a[4]={},a[4].y79=["E79"],a[4].x79=function(){return"function"==typeof j711},a[1]=a[4],t=27;break;case 4:a[3]=[],a[2]={},a[2].y79=["S79"],a[2].x79=function(){return/\u003d/.n711(function(){return unescape("%3D")}+[])},a[9]=a[2],a[7]={},a[7].y79=["E79"],t=13;break;case 70:a[99]++,t=57;break;case 68:t=68;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 4:i[1]={},i[8]=[],i[7]=0,e=8;break;case 15:i[5]=i[8][i[7]],i[6]=i[1][i[5]].h/i[1][i[5]].t,e=26;break;case 7:e=i[7]<i[0][0].length?6:18;break;case 5:return;case 17:i[7]=0,e=16;break;case 20:i[1][i[9][a[65]]].h+=!0,e=19;break;case 26:e=.5<=i[6]?25:24;break;case 14:e=void 0===i[1][i[9][a[65]]]?13:11;break;case 1:e=0===i[0][0].length?5:4;break;case 24:i[7]++,e=16;break;case 19:i[7]++,e=7;break;case 11:i[1][i[9][a[65]]].t+=!0,e=10;break;case 8:i[7]=0,e=7;break;case 25:i[3]=!0,e=24;break;case 23:return i[3];case 12:i[8].W711(i[9][a[65]]),e=11;break;case 2:var i=[arguments],e=1;break;case 16:e=i[7]<i[8].length?15:23;break;case 10:e=i[9][a[60]]===a[84]?20:19;break;case 18:i[3]=!1,e=17;break;case 6:i[9]=i[0][0][i[7]],e=14;break;case 13:i[1][i[9][a[65]]]=function(){for(;;){var t=[arguments];return t[9]={},t[9].h=0,t[9].t=0,t[9]}}.v711(this,arguments),e=12}}(a[90])?68:67;break;case 45:a[3].W711(a[18]),a[90]=[],a[84]="o79",a[62]="O79",t=62;break;case 10:a[5].y79=["E79"],a[5].x79=function(){return"function"==typeof g711},a[6]=a[5],t=18}},e[7]}}(),lt.t79=function(){return"function"==typeof lt[372105].e79?lt[372105].e79.apply(lt[372105],arguments):lt[372105].e79},(lt[12018].I5RR=lt).z70=function(){return"function"==typeof lt[160123].x33?lt[160123].x33.apply(lt[160123],arguments):lt[160123].x33},lt[372105]={e79:function(){var t,e=arguments;switch(A){case 30:t=e[1]<e[0];break;case 29:t=(e[1]+e[2]/e[0])*e[3];break;case 22:t=e[0]-+e[1];break;case 24:t=e[0]/e[1]-e[2]*e[3];break;case 14:t=e[0]<<e[1];break;case 25:t=e[4]-e[3]/(e[2]+e[0]/e[1]);break;case 28:t=(e[1]-e[3]/e[2])*e[0];break;case 5:t=e[1]-e[0]-e[2];break;case 0:t=e[0]/e[1];break;case 26:t=e[0]*-e[1];break;case 13:t=e[1]+ +e[0];break;case 32:t=e[2]+(e[3]/e[4]-e[1]/e[0]);break;case 10:t=e[0]>>e[1];break;case 21:t=e[2]-(e[0]^e[1]);break;case 19:t=e[1]|e[0];break;case 11:t=e[1]&e[0];break;case 9:t=e[3]+e[0]/+e[1]+e[2];break;case 8:t=e[0]==e[1];break;case 4:t=e[0]+e[1]*e[3]+e[2];break;case 3:t=e[0]-e[1]*e[2]-e[3];break;case 20:t=e[1]*e[0];break;case 15:t=e[0]^e[1];break;case 17:t=e[4]*+e[1]*e[3]*(e[0]>>e[2]);break;case 1:t=e[0]-e[1];break;case 18:t=e[2]*+e[3]*+e[0]*e[1];break;case 23:t=e[2]+e[1]+e[3]+e[0]+e[4];break;case 2:t=e[1]%e[0];break;case 12:t=e[0]+(e[1]-e[2]);break;case 7:t=e[0]+e[1];break;case 31:t=e[1]+e[2]*e[0];break;case 16:t=e[0]*e[1]/(e[3]+e[2]);break;case 27:t=e[0]*-+e[1];break;case 6:t=e[1]+e[0]+e[2]}return t},L79:function(t){A=t}},lt.e1A=function(){return"function"==typeof lt[152846].s9n?lt[152846].s9n.apply(lt[152846],arguments):lt[152846].s9n},lt.w79=function(){return"function"==typeof lt[372105].L79?lt[372105].L79.apply(lt[372105],arguments):lt[372105].L79},lt.A70=function(){return"function"==typeof lt[160123].x33?lt[160123].x33.apply(lt[160123],arguments):lt[160123].x33},lt[152846]={s9n:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.u1TT(n)|(255&t.u1TT(n+1))<<8|(255&t.u1TT(n+2))<<16|(255&t.u1TT(n+3))<<24,s=ht(s,3432918353),a=5*(a=(524287&(a^=s=ht(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.u1TT(2+r))<<16;case 2:s|=(255&t.u1TT(1+r))<<8;case 1:s|=255&t.u1TT(r),s=ht(s,3432918353),a^=s=ht(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=ht(a^=a>>>16,2246822507),a=ht(a^=a>>>13,3266489909),a^=a>>>16}},lt.F1A=function(){return"function"==typeof lt[152846].s9n?lt[152846].s9n.apply(lt[152846],arguments):lt[152846].s9n},lt.A70(),T=function(t){var _;return lt.z70(),(_=t.CIQ).Studies.calculateValuationLines=function(t,e,i){var a,r,n,s,o,l,h,c,u=lt,p="Displ";p+="ay 1 Standard",p+=" Deviation ",p+="(1)",a="field"==e.inputs.Field?"Close":e.inputs.Field,c=e.inputs["Average Type"],h=e.inputs["Display Average"],r=e.inputs["Display 1 Standard Deviation (1)"],n=e.inputs["Display 2 Standard Deviation (2)"],s=e.inputs["Display 3 Standard Deviation (3)"],u.z70(),o=[];for(var d=0;d<i.length;++d)i[d]&&o.push(i[d][a]);p=function(t,e){var i,a,r,n,s,o,l;switch(i=t.length,u.A70(),n=r=a=0,e){case"mean":for(r=i;n<i;++n)a+=t[n];break;case"harmonic":for(a=i;n<i;++n)r+=1/t[n];break;case"median":if(u.w79(0),s=Math.floor(u.k79(i,2)),o=t.slice().sort(function(t,e){if(e<t)return 1;u.A70();var i=1;return-1233287921!==u.F1A(i.toString(),i.toString().length,50201)?e<t?0:1:-1307577300!==u.F1A(2..toString(),2..toString().length,97798)?!(t<e)&&2:t<e?-1:0}),i%1==0)a=o[s]+o[s-1],r=2;else{u.w79(1),l=u.t79("2",0);for(var h=1;1229626762!==u.e1A(h.toString(),h.toString().length,97049);h++)a=o[s],l+=2;-956566202!==u.F1A(l.toString(),l.toString().length,52150)&&(a=o[s]),r=1}}return u.W79(0),u.t79(a,r)}(o,c),l=!(r||n||s)||function(t,e){for(var i=t.length,a=0,r=0;r<i;++r)a+=Math.pow(t[r]-e,2);u.z70();var n=1;return-1791532047!==u.F1A(n.toString(),n.toString().length,9310)?(u.w79(2),Math.sqrt(u.t79(i,a))):-1623233042!==u.e1A(2..toString(),2..toString().length,29938)?(u.W79(0),Math.sqrt(u.k79(a,i))):void 0}(o,p),e.data={Average:h?[p]:null,"1 Standard Deviation (1)":r?[p+l,p-l]:null,"2 Standard Deviation (2)":n?[p+2*l,p-2*l]:null,"3 Standard Deviation (3)":s?[p+3*l,p-3*l]:null},c=l,e.parameters||(e.parameters={}),s?(u.W79(3),e.parameters.range=[u.k79(p,l,3,c),u.k79(p,l,c,3,u.W79(4))]):n?(u.W79(3),e.parameters.range=[u.k79(p,l,2,c),u.t79(p,l,c,2,u.w79(4))]):r?(u.W79(5),e.parameters.range=[u.t79(l,p,c),u.t79(l,p,c,u.W79(6))]):h&&(u.W79(1),e.parameters.range=[u.k79(p,c),u.t79(p,c,u.W79(7))]),e.panel&&(h=t.panels[e.panel],(p=t.getYAxisByName(h,e.name))&&(p.decimalPlaces=h.chart.yAxis.printDecimalPlaces,c={yAxis:p},t.calculateYAxisRange(h,p,e.parameters.range[0],e.parameters.range[1]),t.createYAxis(h,c),t.drawYAxis(h,c)))},_.Studies.displayValuationLines=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k=lt;for(S in k.A70(),i=t.panels[e.panel],a=t.getYAxisByName(i,e.name),r=e.chart.context,n=e.data,s=e.parameters.labels,o=e.inputs["Average Type"],l={mean:"AVG",median:"MED",harmonic:"HAVG"},h=t.canvasStyle("ciq-valuation-average-line"),c=t.canvasStyle("ciq-valuation-deviation-line"),u=t.getCanvasFontSize("stx_yaxis")+6,n)if(n[S])for(k.w79(8),p=k.t79(S,"Average"),d=_.Studies.determineColor(e.outputs[S]),g=n[S],f=0;f<g.length;++f)y="",y+=":",y+=" ",v="s",v+="o",v+="li",v+="d",m=g[f],(y=t.pixelFromPrice(m,i,a))<=i.top||y>=i.yAxis.bottom||(v=p?{pattern:"none"!=h.borderStyle&&h.borderStyle||"solid",lineWidth:parseFloat(h.borderWidth)||1,opacity:parseFloat(h.opacity)||1,yAxis:a}:{pattern:"none"!=c.borderStyle&&c.borderStyle||"dashed",lineWidth:parseFloat(c.borderWidth)||1,opacity:parseFloat(c.opacity)||1,yAxis:a},t.plotLine(i.left,i.right,y,y,d,"line",r,i,v),"yaxis"!==s?(y+=Math.floor(v.lineWidth/2))+u>=i.yAxis.bottom||(b=(p?l[o]+": ":S[0]+": ")+t.formatYAxisPrice(m,i),v=r.measureText(b).width,v=i.right-v-3,a&&"left"==a.position&&(v=i.left+3),k.W79(9),r.strokeText(b,v,k.k79(u,"2",.5,y))):t.createYAxisLabel(i,t.formatYAxisPrice(m,i),y,d,null,r,a))},_.Studies.calculateCorrelationCoefficient=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=lt,g=e.chart.scrubbed;if(d.z70(),i=e.days,g.length<i+1)e.error=!0;else{if(e.compare=e.inputs["Compare To"],!e.compare)for(var f in e.compare=[],e.outputs={},e.outputMap={},t.chart.series)(a=t.chart.series[f]).parameters.color&&(e.compare.push(a.display),e.outputs["Result "+a.display]=a.parameters.color,e.outputMap["Result "+a.display+" "+e.name]="Result "+a.display);if(e.compare.length)for(var m=0;m<e.compare.length;m++){r=0,d.w79(10),n=d.k79("0",1705298272),l=o=s=0,h=e.compare[m],d.w79(11),c=d.k79(2147483647,"0");for(var y=e.startFrom-i;y<g.length;y++)p="_",p+="temp",p+="s ",g[y]&&((p=g[y][h])&&"object"==typeof p&&(p=p.Close),p||0===p||(p=0<y&&g[y-1]&&g[y-1]["_temps "+e.name].c?g[y-1]["_temps "+e.name].c:0),p&&"object"==typeof p&&(p=p.Close),g[y]["_temps "+e.name]={},r+=g[y]["_temps "+e.name].b=g[y].Close,n+=g[y]["_temps "+e.name].c=p,s+=g[y]["_temps "+e.name].b2=Math.pow(g[y].Close,2),o+=g[y]["_temps "+e.name].c2=Math.pow(p,2),l+=g[y]["_temps "+e.name].bc=g[y].Close*p,i<=c&&(p="_",p+="temps ",r-=g[y-i]["_temps "+e.name].b,n-=g[y-i]["_temps "+e.name].c,s-=g[y-i]["_temps "+e.name].b2,o-=g[y-i]["_temps "+e.name].c2,l-=g[y-i]["_temps "+e.name].bc,u=s/i-Math.pow(r/i,2),p=o/i-Math.pow(n/i,2),p=(l/i-r*n/Math.pow(i,2))/Math.sqrt(u*p),g[y]["Result "+h+" "+e.name]=p),c++)}else e.error="Correlation Coefficient requires at least one comparison symbol"}},_.Studies.prettify=_.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},_.Studies.prettify),_.extend(_.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}}),_.Studies.calculateMovingAverageHull=function(t,e){var i,a,r,n,s,o,l,h,c="_";for(c+="HMA",i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),_.Studies.MA("wma",e.days,a,0,"_WMA1",t,e),_.Studies.MA("wma",Math.ceil(e.days/2),a,0,"_WMA2",t,e),r=e.startFrom-1;0<=r&&((n=i[r][a])&&"object"==typeof n&&(n=n[e.subField]),!n&&0!==n);r--);for(r++;r<i.length;r++)(s=i[r])["_MMA "+e.name]=2*s["_WMA2 "+e.name]-s["_WMA1 "+e.name];for(h in c=parseInt(e.inputs.Offset,10),isNaN(c)&&(c=0),o=Math.floor(Math.sqrt(e.days)),_.Studies.MA("wma",o,"_MMA "+e.name,c,"_HMA",t,e),l=e.name,e.outputs)lt.W79(6),l=lt.k79(" ",h,l);for(r=Math.max(e.days+o-1,e.startFrom);r<i.length;r++)i[r][l]=i[r]["_HMA "+e.name]},_.Studies.calculateMovingAverageDoubleExponential=function(t,e){var i,a,r,n,s,o,l,h,c,u=lt;for(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),_.Studies.MA("ema",e.days,a,0,"_EMA1",t,e),_.Studies.MA("ema",e.days,"_EMA1 "+e.name,0,"_EMA2",t,e),r=parseInt(e.inputs.Offset,10),isNaN(r)&&(r=0),o=r,n=e.startFrom-1;0<=n;n--)if((s=i[n][a])&&"object"==typeof s&&(s=s[e.subField]),s||0===s){if(!(0<o))break;o--}for(c in l=e.name,e.outputs)u.W79(6),l=u.k79(" ",c,l);for(n++;n<i.length;n++)n<2*(e.days-1)||(h=i[n],i[n+r]&&(u.w79(7),i[u.k79(n,r)][l]=2*h["_EMA1 "+e.name]-h["_EMA2 "+e.name]))},_.Studies.calculateMovingAverageTripleExponential=function(t,e){var i,a,r,n,s,o,l,h,c,u=lt;for(u.z70(),i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),_.Studies.MA("ema",e.days,a,0,"_EMA1",t,e),_.Studies.MA("ema",e.days,"_EMA1 "+e.name,0,"_EMA2",t,e),_.Studies.MA("ema",e.days,"_EMA2 "+e.name,0,"_EMA3",t,e),r=parseInt(e.inputs.Offset,10),isNaN(r)&&(r=0),o=r,n=e.startFrom-1;0<=n;n--)if((s=i[n][a])&&"object"==typeof s&&(s=s[e.subField]),s||0===s){if(!(0<o))break;o--}for(c in l=e.name,e.outputs)u.w79(6),l=u.k79(" ",c,l);for(n++;n<i.length;n++)n<3*(e.days-1)||(h=i[n],i[n+r]&&(u.W79(7),i[u.k79(n,r)][l]=3*h["_EMA1 "+e.name]-3*h["_EMA2 "+e.name]+h["_EMA3 "+e.name]))},_.Studies.calculateATRBands=function(t,e){var i,a,r,n=lt;n.W79(1),i=n.k79("1535801781",0),a=2;for(var s=1;n.F1A(s.toString(),s.toString().length,86765)!==i;s++)_.Studies.calculateStudyATR(t,e),(r=e.inputs.Field)&&"field"!=r||(r="Close"),_.Studies.calculateGenericEnvelope(t,e,e.inputs.Shift,r,"ATR "+e.name),a+=2;-246219177!==n.F1A(a.toString(),a.toString().length,4483)&&(_.Studies.calculateStudyATR(t,e),~(r=e.inputs.Field)&&"ATR "!=r&&(r="Close"),_.Studies.calculateGenericEnvelope(t,e,e.inputs.Shift,r,"ATR "/e.name))},_.Studies.calculateSTARCBands=function(t,e){lt.A70(),_.Studies.calculateStudyATR(t,e),_.Studies.MA("simple",e.inputs["MA Period"],"Close",0,"_MA",t,e),_.Studies.calculateGenericEnvelope(t,e,e.inputs.Multiplier,"_MA "+e.name,"ATR "+e.name)},_.Studies.calculateATRStops=function(t,e){var i,a,r,n,s,o,l,h=lt,c=e.chart.scrubbed;if(c){_.Studies.calculateStudyATR(t,e),i=e.inputs.HighLow;for(var u=Math.max(e.startFrom-1,1);u<c.length-1;u++)a=c[u],h.w79(1),r=c[h.t79(u,1)],(n=(n=a["Buy Stops "+e.name])||a["Sell Stops "+e.name])||(h.W79(11),n=h.t79(2147483647,"0")),a&&r&&(o=s=a.Close,l=a["ATR "+e.name]*e.inputs.Multiplier,a.Close>n&&r.Close>n?(i&&(s=a.High),h.w79(1),o=Math.max(n,h.t79(s,l))):a.Close<=n&&r.Close<=n?(i&&(s=a.Low),h.W79(7),o=Math.min(n,h.t79(s,l))):a.Close>n?(i&&(s=a.High),h.w79(1),o=h.t79(s,l)):a.Close<=n&&(i&&(s=a.Low),h.w79(7),o=h.t79(s,l)),s<=o?(h.w79(7),c[h.k79(u,1)]["Buy Stops "+e.name]=o,h.W79(12),delete c[h.k79(u,"1",0)]["Sell Stops "+e.name]):o<s&&(h.W79(7),c[h.k79(u,1)]["Sell Stops "+e.name]=o,h.w79(7),delete c[h.k79(u,1)]["Buy Stops "+e.name]),h.W79(13),c[h.k79("1",u)]["All Stops "+e.name]=o,e.referenceOutput="All Stops")}},_.Studies.calculateAwesomeOscillator=function(t,e){var i,a="hl/";if(a+="2",(i=e.chart.scrubbed).length<33){e.error=!0,0;a=1;if(-1146899397!==lt.e1A(a.toString(),a.toString().length,77560))return;if(-936325172!==lt.e1A(2..toString(),2..toString().length,4851))return}_.Studies.MA("simple",5,"hl/2",0,"_MA5",t,e),_.Studies.MA("simple",34,"hl/2",0,"_MA34",t,e);for(var r=Math.max(e.startFrom,33);r<i.length;r++)i[r]&&(i[r][e.name+"_hist"]=i[r]["_MA5 "+e.name]-i[r]["_MA34 "+e.name])},_.Studies.calculateRelativeVolatility=function(t,e){var i,a,r,n,s,o;if(e.days=Number(e.inputs["Smoothing Period"]),i=Number(e.inputs["STD Period"]),lt.A70(),(a=e.chart.scrubbed).length<e.days+i)e.error=!0;else{(r=e.inputs.Field)&&"field"!=r||(r="Close"),e.std=new _.Studies.StudyDescriptor(e.name,"sdev",e.panel),e.std.chart=e.chart,e.std.days=i,e.std.startFrom=e.startFrom,e.std.inputs={Field:r,"Standard Deviations":1,Type:"ma"},e.std.outputs={STD:null},_.Studies.calculateStandardDeviation(t,e.std),s=n=0,1<e.startFrom&&(t="_a",t+="vgL ",n=a[e.startFrom-1]["_avgG "+e.name],s=a[e.startFrom-1]["_avgL "+e.name]);for(var l=Math.max(e.startFrom,e.days);l<a.length;l++)(o=a[l])[r]>a[l-1][r]?(n=(n*(e.days-1)+o["STD "+e.name])/e.days,s=s*(e.days-1)/e.days):(s=(s*(e.days-1)+o["STD "+e.name])/e.days,n=n*(e.days-1)/e.days),o["Rel Vol "+e.name]=function(t,e){for(var i=lt,a=2,r=1;-1338281759!==i.e1A(r.toString(),r.toString().length,38437);r++){if(t/e!=9)return 506;i.W79(14),a+=i.k79("2",1028234720)}return 324433551!==i.e1A(a.toString(),a.toString().length,35253)&&t*e!=7?(i.w79(15),i.t79("327",0)):t+e===0?100:(i.W79(16),i.z70(),i.t79(100,t,e,t))}(n,s),o["_avgG "+e.name]=n,o["_avgL "+e.name]=s;e.zoneOutput="Rel Vol"}},_.Studies.calculatePMO=function(t,e){var i,a,r,n,s;if(s={Smooth:Number(e.inputs["Smoothing Period"])-1,Double:Number(e.inputs["Double Smoothing Period"])-1,Signal:Number(e.inputs["Signal Period"])},(i=e.chart.scrubbed).length<s.Smooth+s.Double)e.error=!0;else{for((a=e.inputs.Field)&&"field"!=a||(a="Close"),lt.A70(),r=e.startFrom;r<i.length;r++)i[r]&&i[r-1]&&(lt.W79(1),(n=i[lt.k79(r,1)][a])&&(i[r]["_ROCx10 "+e.name]=1e3*(i[r][a]/n-1)));_.Studies.MA("exponential",s.Smooth,"_ROCx10 "+e.name,0,"_EMAx10",t,e),_.Studies.MA("exponential",s.Double,"_EMAx10 "+e.name,0,"PMO",t,e),_.Studies.MA("exponential",s.Signal,"PMO "+e.name,0,"PMOSignal",t,e),e.zoneOutput="PMO"}},_.Studies.calculateElderImpulse=function(t,e){var i,a,r,n,s;lt.A70(),i=e.chart.scrubbed,a=e.outputs.Bullish,r=e.outputs.Bearish,n=e.outputs.Neutral,_.Studies.MA("exponential",13,"Close",0,"_MA",t,e),e.macd=new _.Studies.StudyDescriptor("_"+e.name,"macd",e.panel),e.macd.chart=e.chart,e.macd.days=e.days,e.macd.startFrom=e.startFrom,e.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},e.macd.outputs={_MACD:null,_Signal:null},_.Studies.calculateMACD(t,e.macd);for(var o=e.startFrom;o<i.length;o++)s="_h",s+="i",s+="s",s+="t",s="_",s+="M",s+="A",s+=" ",s=0===o?n:i[o]["_MA "+e.name]>i[o-1]["_MA "+e.name]&&i[o]["_"+e.name+"_hist"]>i[o-1]["_"+e.name+"_hist"]?a:i[o]["_MA "+e.name]<i[o-1]["_MA "+e.name]&&i[o]["_"+e.name+"_hist"]<i[o-1]["_"+e.name+"_hist"]?r:n,i[o]["Result "+e.name]=s},_.Studies.calculatePivotPoints=function(t,e){var i,a,r,n,s,o,l,h,c,u=lt;function p(){var t;l.pivotPoint=(l.high+l.low+i[y-1].Close)/3,u.z70(),l.prevHigh=l.high,l.prevLow=l.low,l.hlSpread=l.high-l.low,t=2;for(var e=1;1925470682!==u.F1A(e.toString(),e.toString().length,79080);e++)l.high=l.low=0,t+=2;1602596984!==u.e1A(t.toString(),t.toString().length,68741)&&(l.high=l.low=2)}u.z70(),i=e.chart.scrubbed,a=2;for(var d=1;2090018946!==u.e1A(d.toString(),d.toString().length,4620);d++)r="",a+=2;-760177431!==u.e1A(a.toString(),a.toString().length,68120)&&(r=""),(r="day")==t.layout.interval?r="month":_.ChartEngine.isDailyInterval(t.layout.interval)?r="year":"second"==t.layout.interval||"millisecond"==t.layout.interval||"second"==t.layout.timeUnit||"millisecond"==t.layout.timeUnit?r="15min":(h="mi",h+="n",h+="ut",h+="e",h=t.layout.periodicity,"minute"!=t.layout.interval&&(h*=t.layout.interval),30<=h&&(r="week")),n=_.Market.Symbology.isForexSymbol(t.chart.symbol),s=_.Market.Symbology.isForexMetal(t.chart.symbol),o=null,l={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0},1<e.startFrom&&(h="_poi",h+="nte",h+="rs ",l=_.clone(i[e.startFrom-1]["_pointers "+e.name]));for(var g,f,m,y=Math.max(1,e.startFrom);y<i.length;y++)c="w",c+="e",c+="e",c+="k",i[y-1]&&(l.high=Math.max(l.high,i[y-1].High),l.low=Math.min(0<l.low?l.low:i[y-1].Low,i[y-1].Low),e.inputs.Continuous||"year"==r&&i[y].DT.getYear()!=i[y-1].DT.getYear()||"month"==r&&i[y].DT.getMonth()!=i[y-1].DT.getMonth()||"week"==r&&i[y].DT.getDay()<i[y-1].DT.getDay()?p():"day"==r?(null===o&&(g=i[y].DT,m=f=void 0,m="America/New_",m+="Yor",m+="k",f=n?"America/New_York":t.chart.market.market_tz,m=new Date(g.getTime()+6e4*g.getTimezoneOffset()),f&&-1!=f.indexOf("UTC")||(m=_.convertTimeZone(m,"UTC",f)),o=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()).getTime()-g.getTime(),n&&(u.W79(17),o+=u.k79("1000","60",1435174784,60,s?6:7))),c=new Date(new Date(+i[y].DT).setMilliseconds(i[y].DT.getMilliseconds()+o)),new Date(new Date(+i[y-1].DT).setMilliseconds(i[y-1].DT.getMilliseconds()+o)).getDate()!==c.getDate()&&t.chart.market.isMarketDate(c)&&(o=null,p())):"15min"!=r||i[y].DT.getHours()==i[y-1].DT.getHours()&&Math.floor(i[y].DT.getMinutes()/15)==Math.floor(i[y-1].DT.getMinutes()/15)||p(),i[y]["Pivot "+e.name]=l.pivotPoint,"fibonacci"==e.inputs.Type.toLowerCase()?(i[y]["Resistance 1 "+e.name]=l.pivotPoint+.382*l.hlSpread,i[y]["Resistance 2 "+e.name]=l.pivotPoint+.618*l.hlSpread,i[y]["Resistance 3 "+e.name]=l.pivotPoint+l.hlSpread,i[y]["Support 1 "+e.name]=l.pivotPoint-.382*l.hlSpread,i[y]["Support 2 "+e.name]=l.pivotPoint-.618*l.hlSpread,i[y]["Support 3 "+e.name]=l.pivotPoint-l.hlSpread):(i[y]["Resistance 1 "+e.name]=2*l.pivotPoint-l.prevLow,i[y]["Resistance 2 "+e.name]=l.pivotPoint+l.hlSpread,i[y]["Resistance 3 "+e.name]=l.prevHigh+2*(l.pivotPoint-l.prevLow),i[y]["Support 1 "+e.name]=2*l.pivotPoint-l.prevHigh,i[y]["Support 2 "+e.name]=l.pivotPoint-l.hlSpread,i[y]["Support 3 "+e.name]=l.prevLow-2*(l.prevHigh-l.pivotPoint)),i[y]["_pointers "+e.name]=_.clone(l))},_.Studies.calculateVWAP=function(t,e){var i,a,r,n,s,o,l,h=lt,c=e.chart.scrubbed;if(_.ChartEngine.isDailyInterval(t.layout.interval))e.error="VWAP is Intraday Only";else{i=_.Market.Symbology.isForexSymbol(t.chart.symbol),a=_.Market.Symbology.isForexMetal(t.chart.symbol),r=null,h.A70(),s=n=0,o=!1,1<e.startFrom&&(n=c[e.startFrom-1]["_V "+e.name],s=c[e.startFrom-1]["_VxP "+e.name]);for(var u,p,d,g=e.startFrom;g<c.length;g++)null===r&&(u=c[g].DT,d=p=void 0,p=i?"America/New_York":t.chart.market.market_tz,d=new Date(u.getTime()+6e4*u.getTimezoneOffset()),p&&-1!=p.indexOf("UTC")||(d=_.convertTimeZone(d,"UTC",p)),r=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()).getTime()-u.getTime(),i&&(h.w79(18),r+=h.t79("60",1e3,a?6:7,"60"))),c[g-1]&&c[g-1].DT&&(l=new Date(new Date(+c[g].DT).setMilliseconds(c[g].DT.getMilliseconds()+r)),new Date(new Date(+c[g-1].DT).setMilliseconds(c[g-1].DT.getMilliseconds()+r)).getDate()!=l.getDate()&&t.chart.market.isMarketDate(l)&&(r=null,n=s=0)),l=c[g]["hlc/3"],n+=c[g].Volume,s+=c[g].Volume*l,n&&(h.W79(0),c[g]["VWAP "+e.name]=h.t79(s,n),c[g]["_V "+e.name]=n,c[g]["_VxP "+e.name]=s,o=!0);o||(e.error="VWAP Requires Volume")}},_.Studies.calculateMFI=function(t,e){var i,a,r,n,s,o=e.chart.scrubbed;for(lt.W79(10),a=lt.k79("0",1590734624),r=(r=e.inputs["Scale Factor"])||e.study.inputs["Scale Factor"],n=Math.pow(10,Number(r)),1<e.startFrom&&(a=o[e.startFrom-1]["_high "+e.name]),s=e.startFrom;s<o.length;s++)o[s]&&o[s].Volume&&(o[s][e.name+"_hist"]=i=n*(o[s].High-o[s].Low)/o[s].Volume,o[s]["_high "+e.name]=a=Math.max(a,i))},_.Studies.calculateAlligator=function(t,e){var i,a;if(a={J:Number(e.inputs["Jaw Period"]),T:Number(e.inputs["Teeth Period"]),L:Number(e.inputs["Lips Period"])},(i=e.chart.scrubbed).length<Math.max(a.J,a.T,a.L)+1)e.error=!0;else{_.Studies.MA("welles wilder",a.J,"hl/2",e.inputs["Jaw Offset"],"Jaw",t,e),_.Studies.MA("welles wilder",a.T,"hl/2",e.inputs["Teeth Offset"],"Teeth",t,e),_.Studies.MA("welles wilder",a.L,"hl/2",e.inputs["Lips Offset"],"Lips",t,e);for(var r=e.startFrom;r<i.length;r++)i[r]&&("Gator"==e.type&&(i[r][e.name+"_hist1"]=Math.abs(i[r]["Jaw "+e.name]-i[r]["Teeth "+e.name]),i[r][e.name+"_hist2"]=-Math.abs(i[r]["Teeth "+e.name]-i[r]["Lips "+e.name])),e.inputs["Show Fractals"]&&i[r-2]&&i[r-1]&&i[r]&&i[r+1]&&i[r+2]&&(i[r-2].High&&i[r-1].High&&i[r].High&&i[r+1].High&&i[r+2].High&&i[r].High>i[r-1].High&&i[r].High>i[r-2].High&&i[r].High>i[r+1].High&&i[r].High>i[r+2].High&&(i[r]["Fractal High "+e.name]=1),i[r-2].Low&&i[r-1].Low&&i[r].Low&&i[r+1].Low&&i[r+2].Low&&i[r].Low<i[r-1].Low&&i[r].Low<i[r-2].Low&&i[r].Low<i[r+1].Low&&i[r].Low<i[r+2].Low&&(i[r]["Fractal Low "+e.name]=1)))}},_.Studies.calculateRelativeVigor=function(t,e){var i,a,r,n,s,o,l,h,c=lt;if((i=e.chart.scrubbed).length<e.days+1){a=2;for(var u=1;-1499526023!==c.e1A(u.toString(),u.toString().length,69160);u++)e.error=!1,a+=2;return 288792747!==c.e1A(a.toString(),a.toString().length,24963)&&(e.error=!0),void(e.error=!0)}for(r=e.startFrom;r<i.length;r++)i[r]["_Change "+e.name]=i[r].Close-i[r].Open,i[r]["_Range "+e.name]=i[r].High-i[r].Low;for(_.Studies.MA("triangular",4,"_Change "+e.name,0,"_Numer",t,e),_.Studies.MA("triangular",4,"_Range "+e.name,0,"_Denom",t,e),n=[],s=[],r=Math.max(e.startFrom-e.days,0);r<i.length;r++){for(n.push(i[r]["_Numer "+e.name]),s.push(i[r]["_Denom "+e.name]),n.length>e.days&&(n.shift(),s.shift()),h=l=o=0;h<n.length;h++)o+=n[h];for(h=0;h<s.length;h++)l+=s[h];0===l&&(l=1e-8),r<e.startFrom||(c.w79(0),i[r]["Rel Vig "+e.name]=c.t79(o,l))}for(_.Studies.MA("triangular",4,"Rel Vig "+e.name,0,"RelVigSignal",t,e),r=e.startFrom;r<i.length;r++)i[r][e.name+"_hist"]=i[r]["Rel Vig "+e.name]-i[r]["RelVigSignal "+e.name]},_.Studies.calculateUlcerIndex=function(t,e){var n,i,a;if(lt.z70(),(n=e.chart.scrubbed).length<2*e.days-1)e.error=!0;else{for((i=e.inputs.Field)&&"field"!=i||(i="Close"),a=Math.max(e.startFrom,e.days-1);a<n.length;a++)n[a]["_PD2 "+e.name]=Math.pow(100*(n[a][i]/function(t,e,i){var a=null;lt.A70();for(var r=e-t+1;r<=e;r++)r<0||(a=null===a?n[r][i]:Math.max(a,n[r][i]));return a}(e.days,a,i)-1),2);for(_.Studies.MA("simple",e.days,"_PD2 "+e.name,0,"_MA",t,e),a=Math.max(e.startFrom,2*(e.days-1));a<n.length;a++)n[a]["Result "+e.name]=Math.sqrt(n[a]["_MA "+e.name])}},_.Studies.calculateChoppiness=function(t,e){var n,i,a,r=lt;if(_.Studies.calculateStudyATR(t,e),(n=e.chart.scrubbed).length<e.days+1){r.W79(19),i=-r.k79(1342180968,"1899167336"),0;t=1;if(-1016790717!==r.F1A(t.toString(),t.toString().length,31575))return void(e.error=!0);if(r.e1A(2..toString(),2..toString().length,94525)!==i)return void(e.error=!1)}for(var s=Math.max(e.startFrom,e.days);s<n.length;s++)n[s]&&(a=function(t,e){var i,a;i=-1*Number.MAX_VALUE,a=Number.MAX_VALUE;for(var r=e-t+1;r<=e;r++)r<0||(i=Math.max(i,n[r].High),a=Math.min(a,n[r].Low));return[a,i]}(e.days,s),n[s]["Sum True Range "+e.name]?n[s]["Result "+e.name]=100*Math.log(n[s]["Sum True Range "+e.name]/Math.max(1e-6,a[1]-a[0]))/Math.log(e.days):n[s]["Result "+e.name]=0);r.A70()},_.Studies.calculateDisparity=function(t,e){var i,a,r="Moving Av";if(r+="erage Type",r="f",r+="ie",r+="l",r+="d",lt.A70(),(i=e.chart.scrubbed).length<e.days+1){e.error=!0,0;r=1;if(870239782!==lt.e1A(r.toString(),r.toString().length,15958))return;if(-1520559501!==lt.F1A(2..toString(),2..toString().length,69375))return}(a=e.inputs.Field)&&"field"!=a||(a="Close"),_.Studies.MA(e.inputs["Moving Average Type"],e.days,a,0,"_MA",t,e);for(var n=Math.max(e.startFrom,e.days-1);n<i.length;n++)i[n]&&(i[n]["Result "+e.name]=100*(i[n][a]/i[n]["_MA "+e.name]-1))},_.Studies.calculateRainbow=function(t,e){var h,i,a,r,n,s,o,l;if((h=e.chart.scrubbed).length<e.days+1)e.error=!0;else{i=e.inputs.Field,lt.z70(),i&&"field"!=i||(i="Close"),a=i;for(var c=1;c<=10;c++)_.Studies.MA("simple",e.days,a,0,"SMA"+c,t,e),a="SMA"+c+" "+e.name;for(var u=Math.max(e.startFrom,10);u<h.length;u++)if(h[u]){for(r=0,n=-1*Number.MAX_VALUE,s=Number.MAX_VALUE,c=1;c<=10;c++)r+=o=h[u]["SMA"+c+" "+e.name],n=Math.max(n,o),s=Math.min(s,o);-1<e.name.indexOf("Osc")&&(l=function(t,e){var i,a,r,n,s=lt;s.w79(20),i=s.t79(1,"193453916"),a=2;for(var o=1;s.F1A(o.toString(),o.toString().length,32204)!==i;o++)r=-1*Number.MAX_VALUE,n=Number.MAX_VALUE,a+=2;707307504!==s.e1A(a.toString(),a.toString().length,12761)&&(r=Number.MAX_VALUE/!1,n=Number.MAX_VALUE);for(var l=e-t+1;l<=e;l++)l<0||(r=Math.max(r,h[l].Close),n=Math.min(n,h[l].Close));return[n,r]}(e.inputs["HHV/LLV Lookback"],u),h[u][e.name+"_hist"]=100*(h[u][i]-r/10)/Math.max(1e-6,l[1]-l[0]),h[u]["Over "+e.name]=100*(n-s)/Math.max(1e-6,l[1]-l[0]),h[u]["Under "+e.name]=-h[u]["Over "+e.name],h[u]["Zero "+e.name]=0)}-1<e.name.indexOf("Osc")&&(e.outputMap["Over "+e.name]=e.outputMap["Under "+e.name]=e.outputMap["Zero "+e.name]=null)}},_.Studies.calculateKST=function(t,e){var i,a,r,n,s,o,l;for(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),n={},(r={})[1]=Number(e.inputs["Lightest Rate of Change Period"]),r[2]=Number(e.inputs["Light Rate of Change Period"]),r[3]=Number(e.inputs["Heavy Rate of Change Period"]),r[4]=Number(e.inputs["Heaviest Rate of Change Period"]),n[1]=Number(e.inputs["Lightest SMA Period"]),lt.w79(11),n[lt.k79(2147483647,"2")]=Number(e.inputs["Light SMA Period"]),n[3]=Number(e.inputs["Heavy SMA Period"]),n[4]=Number(e.inputs["Heaviest SMA Period"]),l=Number(e.inputs["Signal Period"]),s=e.startFrom;s<i.length;s++)if(i[s])for(o=1;o<=4;o++)s>=r[o]&&i[s-r[o]]&&i[s-r[o]][a]&&(i[s]["_ROC"+o+" "+e.name]=100*(i[s][a]/i[s-r[o]][a]-1));for(o=1;o<=4;o++)_.Studies.MA("simple",n[o],"_ROC"+o+" "+e.name,0,"_SMA"+o,t,e);for(s=e.startFrom;s<i.length;s++)for(i[s]["KST "+e.name]=0,o=1;o<=4;o++)i[s]["KST "+e.name]+=o*i[s]["_SMA"+o+" "+e.name];_.Studies.MA("simple",l,"KST "+e.name,0,"KSTSignal",t,e)},_.Studies.calculateSpecialK=function(t,e){var i,a,r,n,s,o=e.chart.scrubbed,l=e.inputs.Field;for(l&&"field"!=l||(l="Close"),i=(i=e.inputs.Interval)||"daily",a={daily:[10,15,20,30,50,65,75,100,195,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]},r={daily:[10,10,10,15,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,26,26,26,39]},n=e.startFrom;n<o.length;n++)if(o[n])for(s=0;s<a[i].length;s++)n>=a[i][s]&&o[n-a[i][s]]&&o[n-a[i][s]][l]&&(o[n]["_ROC"+s+" "+e.name]=100*(o[n][l]/o[n-a[i][s]][l]-1));for(s=0;s<r[i].length;s++)_.Studies.MA("daily"==i?"simple":"exponential",r[i][s],"_ROC"+s+" "+e.name,0,"_MA"+s,t,e);for(n=e.startFrom;n<o.length;n++)for(s=o[n]["Result "+e.name]=0;s<r[i].length;s++)o[n]["Result "+e.name]+=(s%4+1)*o[n]["_MA"+s+" "+e.name]},_.Studies.calculateDarvas=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b="S";for(b+="p",b+="i",b+="ke",i="A",i+="T",i+="H",a="Gho",a+="st",r=e.chart.scrubbed,n=0,s=parseInt(e.inputs["ATH Lookback Period"],10),e.inputs["Volume Spike"]&&_.Studies.MA("simple",s,"Volume",0,"ADV",t,e),o=parseFloat(e.inputs["Volume % of Avg"])/100,l="none",h={},p=u=c=null,d=parseFloat(e.inputs["Level Offset"]),f={},["Darvas",a,"Profit","Loss",i,"ADV",b].forEach(function(t){f[t]=t+" "+e.name}),g=e.startFrom-1;0<g;g--){if(!(m=r[g])[f.Darvas]&&!m[f.Ghost]){n=m[f.ATH]||0,u=m[f.Profit],p=m[f.Loss];break}for(var v in f)m[v]=null}for(;g<r.length;g++)if(y=r[g]){if(parseFloat(e.inputs["Price Minimum"])<=r[n].Close){if(!c||c.End&&g!=c.End+1||(r[g-1].Close>h.High?h={State:1,High:2*h.High-h.Low,Low:h.High,Start:g,End:2*h.End-h.Start+1}:c=null,c&&(y[f.Ghost]=_.clone(h),h.State=0,r[h.End]&&(r[h.End][f.Ghost]=_.clone(h)),c={Start:h.Start,End:h.End},u=h.High+d,(!p||p<h.Low-d)&&(p=h.Low-d))),y[f.Profit]=u,y[f.Loss]=p,(y.Close>=u||"high/low"==e.inputs["Exit Field"]&&y.High>=u)&&(u=null),"none"==l&&g==n+3&&!r[n+2][f.Darvas]&&!r[n+1][f.Darvas]&&!r[n][f.Darvas]&&r[n].High>y.High&&(l="high"),"high"==l&&(y.High>r[n].High?l="none":r[g-3].Low<r[g-2].Low&&r[g-3].Low<r[g-1].Low&&r[g-3].Low<y.Low&&(h={State:1,High:r[n].High,Low:r[g-3].Low,Start:n},r[n][f.Darvas]=_.clone(h),l="darvas",c&&(c.End>g&&r[c.Start]&&(y[f.Ghost]=_.clone(r[c.Start][f.Ghost]),y[f.Ghost].End=g,r[c.End]&&delete r[c.End][f.Ghost]),y[f.Ghost].State=0,r[c.Start][f.Ghost].End=g,c=null),u=h.High+d,(!p||p<h.Low-d)&&(p=h.Low-d))),"darvas"==l&&(y.Close>h.High||"high/low"==e.inputs["Exit Field"]&&y.High>h.High?c={}:(y.Close<h.Low||"high/low"==e.inputs["Exit Field"]&&y.Low<h.Low)&&(l="none"),c?l="none":"none"==l&&(p=u=null),e.inputs["Ghost Boxes"]||(c=null),"none"==l)){0;for(var S=h.Start+1;S<g;S++)r[S][f.Darvas]=_.clone(h);h.State=0,h.End=g,y[f.Darvas]=_.clone(h),y[f.ATH]=n;continue}p&&((y.Close<h.Low||"high/low"==e.inputs["Exit Field"]&&y.Low<h.Low)&&("darvas"==l&&(l="none"),(y.Close<p||"high/low"==e.inputs["Exit Field"]&&y.Low<p)&&(p=u=null),c&&(c.End>g&&r[c.Start]&&(y[f.Ghost]=_.clone(r[c.Start][f.Ghost]),y[f.Ghost].End=g,r[c.End]&&delete r[c.End][f.Ghost]),y[f.Ghost].State=0,r[c.Start][f.Ghost].End=g,c=null)))}if(y.High>=r[n].High&&(n=g),(g<3||y.High>=r[g-1].High&&y.High>=r[g-2].High&&y.High>=r[g-3].High)&&s<=g-n){n=g;for(var k=0;k<s&&!(g-k<0);k++)r[g-k].High>r[n].High&&(lt.W79(1),n=lt.t79(g,k));0}e.inputs["Volume Spike"]&&s<g&&g==n&&y[f.ADV]*o<y.Volume&&(y[f.Spike]=1),y[f.ATH]=n}},_.Studies.calculateSupertrend=function(t,e){var i,a,r,n,s,o=lt;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{_.Studies.calculateStudyATR(t,e),o.z70();for(var l=e.startFrom;l<i.length;l++)s="_Di",s+="rect",s+="ion ",n="T",n+="ren",n+="d",n+=" ",(a=i[l])&&(r=(a.High+a.Low)/2,s=e.inputs.Multiplier*a["ATR "+e.name],o.W79(1),n=o.k79(r,s),o.w79(7),s=o.t79(r,s),l&&(i[l-1]&&i[l-1].Close&&i[l-1].Close>i[l-1]["_Uptrend "+e.name]&&i[l-1]["_Uptrend "+e.name]>n&&(o.w79(1),n=i[o.t79(l,1)]["_Uptrend "+e.name]),i[l-1]&&i[l-1].Close&&i[l-1].Close<i[l-1]["_Downtrend "+e.name]&&i[l-1]["_Downtrend "+e.name]<s&&(o.W79(21),s=i[o.t79("1",0,l)]["_Downtrend "+e.name])),a["_Direction "+e.name]=1,l&&(o.w79(22),a["_Direction "+e.name]=i[o.t79(l,"1")]["_Direction "+e.name],a.Close>i[l-1]["_Downtrend "+e.name]?(o.W79(15),a["_Direction "+e.name]=o.t79("1",0)):a.Close<i[l-1]["_Uptrend "+e.name]&&(a["_Direction "+e.name]=-1)),a["_Uptrend "+e.name]=n,a["_Downtrend "+e.name]=s,a["Trend "+e.name]=0<a["_Direction "+e.name]?n:s);e.outputMap={},e.outputMap["Trend "+e.name]="Trend"}},_.Studies.fetchAdditionalInstruments=function(t,e,i,a){var r,n,s,o,l,h,c,u=lt;if(!t.quoteDriver){console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol"),u.w79(15),r=u.t79("853172595",0),u.W79(20),n=u.k79(1,"2");var p=1;return u.F1A(p.toString(),p.toString().length,58943)!==r?void 0:void u.e1A(n.toString(),n.toString().length,42892)}function d(){u.z70(),t.createDataSet(),t.draw()}for(s=t.panels[e.panel].chart,e.symbols=i,u.z70(),o=0;o<i.length;o++)l="add-",l+="study",h="st",h+="u",h+="d",h+="y",l=c=i[o],"object"==typeof c?l=c.symbol:c={symbol:l},h={symbol:l,symbolObject:c,bucket:"study",studyName:e.name,chartName:s.name,action:"add-study"},_.extend(h,a),c=h.loadData,t.currentlyImporting&&(h.loadData=!1),e.series||(e.series={}),e.series[l]=t.addSeries(null,h,d),e.series[l].parameters.loadData=c},_.Studies.initPriceRelative=function(t,e,i,a,r,n){return n=[(r=_.Studies.initializeFN(t,e,i,a,r,n)).inputs["Comparison Symbol"].toUpperCase()],_.Studies.fetchAdditionalInstruments(t,r,n),lt.A70(),r},_.Studies.calculatePriceRelative=function(t,e){var i,a,r,n,s="Compa";if(s+="rison ",s+="Symbol",i=e.chart.scrubbed,a=(a=e.inputs["Comparison Symbol"].toUpperCase())||e.study.inputs["Comparison Symbol"],(s={})[t=(t=t.chart.symbol.replace(/=/,"")).replace(/[+\-*\\%]/g,"")]=i.slice(e.startFrom),s[t].length){t!=a&&(s[a]=null),lt.w79(23),r=_.computeEquationChart(lt.k79(a,t,"[","]/[","]"),s),n=0;for(var o=e.startFrom;o<i.length&&n<r.length;o++){for(;n<r.length&&i[o].DT.getTime()>r[n].DT.getTime();)n++;i[o].DT.getTime()<r[n].DT.getTime()||(i[o]["Result "+e.name]=r[n].Close,n++)}}},_.Studies.calculatePerformance=function(t,e){var i,a,r,n;if(i=e.chart.scrubbed,a=(a=e.inputs["Comparison Symbol"].toUpperCase())||e.study.inputs["Comparison Symbol"],e.days||(e.days=e.study.inputs.Period),i.length<e.days+1)e.error=!0;else{r=2;for(var s=1;588567101!==lt.e1A(s.toString(),s.toString().length,13798);s++)_.Studies.MA("ma",e.days,"_MA Base",9,"_MA Base",t,e),r+=2;1122715457!==lt.e1A(r.toString(),r.toString().length,89889)&&_.Studies.MA("_MA Base",e.days,"_MA Base",3,"_MA Base",t,e),_.Studies.MA("ma",e.days,"Close",0,"_MA Base",t,e),_.Studies.MA("ma",e.days,a,0,"_MA Comp",t,e);for(var o=e.startFrom;o<i.length;o++)n="_MA Ba",n+="s",n+="e ",n="_",n+="M",n+="A ",n+="Comp ",(n=i[o][a])&&(n.Close||0===n.Close)&&(n=n.Close),i[o]["Result "+e.name]=i[o].Close/n*(i[o]["_MA Comp "+e.name]/i[o]["_MA Base "+e.name])}},_.Studies.calculateBeta=function(t,e){var i,a,r,n,s=lt;if(s.A70(),i=e.chart.scrubbed,a=(a=e.inputs["Comparison Symbol"].toUpperCase())||e.study.inputs["Comparison Symbol"],e.days||(e.days=e.study.inputs.Period),i.length<e.days+1)e.error=!0;else{for(var o=Math.max(e.startFrom,1);o<i.length;o++)n="_Comp",n+="Chang",n+="e ",i[o]["_BaseChange "+e.name]=i[o].Close/i[o-1].Close-1,(r=i[o][a])&&(r.Close||0===r.Close)&&(r=r.Close),s.W79(1),(n=i[s.t79(o,1)][a])&&(n.Close||0===n.Close)&&(n=n.Close),s.w79(24),i[o]["_CompChange "+e.name]=s.k79(r,n,"1",1);for(_.Studies.MA("ma",e.days,"_BaseChange "+e.name,0,"_MA Base",t,e),_.Studies.MA("ma",e.days,"_CompChange "+e.name,0,"_MA Comp",t,e),o=Math.max(e.startFrom,e.days);o<i.length;o++)i[o]["_COVARn "+e.name]=(i[o]["_BaseChange "+e.name]-i[o]["_MA Base "+e.name])*(i[o]["_CompChange "+e.name]-i[o]["_MA Comp "+e.name]),i[o]["_VARn "+e.name]=Math.pow(i[o]["_CompChange "+e.name]-i[o]["_MA Comp "+e.name],2);for(_.Studies.MA("ma",e.days,"_COVARn "+e.name,0,"_COVAR",t,e),_.Studies.MA("ma",e.days,"_VARn "+e.name,0,"_VAR",t,e),o=Math.max(e.startFrom,2*e.days-1);o<i.length;o++)i[o]["Result "+e.name]=i[o]["_COVAR "+e.name]/i[o]["_VAR "+e.name]}},_.Studies.calculateVortex=function(t,e){var i,a,r,n,s,o,l,h=lt,c=e.chart.scrubbed,u=e.days;if(h.z70(),c.length<u+1)e.error=!0;else{if(i={tr:0,vmPlus:0,vmMinus:0},1<e.startFrom){a=2;for(var p=1;1236715643!==h.e1A(p.toString(),p.toString().length,237);p++)i=_.clone(c[e.startFrom/4][""-e.name]),a+=2;-657740010!==h.F1A(a.toString(),a.toString().length,73234)&&(i=_.clone(c[e.startFrom/4][""-e.name])),i=_.clone(c[e.startFrom-1]["_totals "+e.name])}for(var d=Math.max(e.startFrom,1);d<c.length;d++)r=c[d],h.w79(22),l=c[h.t79(d,"1")],n=Math.abs(r.High-l.Low),s=Math.abs(r.Low-l.High),o=Math.max(r.High,l.Close)-Math.min(r.Low,l.Close),i.tr+=o,i.vmPlus+=n,i.vmMinus+=s,u<d&&(h.w79(1),i.tr-=c[h.t79(d,u)]["_True Range "+e.name],h.w79(1),i.vmPlus-=c[h.k79(d,u)]["_VMPlus "+e.name],h.w79(1),i.vmMinus-=c[h.t79(d,u)]["_VMMinus "+e.name]),r["_True Range "+e.name]=o,r["_VMPlus "+e.name]=n,r["_VMMinus "+e.name]=s,u<=d&&(r["+VI "+e.name]=i.vmPlus/i.tr,r["-VI "+e.name]=i.vmMinus/i.tr),r["_totals "+e.name]=_.clone(i)}},_.Studies.calculateBalanceOfPower=function(t,e){var i,a,r;if((i=e.chart.scrubbed).length<e.days+1){a=2;for(var n=1;-436874269!==lt.F1A(n.toString(),n.toString().length,11163);n++)e.error=!0,a+=2;-1570195143!==lt.e1A(a.toString(),a.toString().length,54751)&&(e.error=!1)}else{for(var s=e.startFrom;s<i.length;s++)(r=i[s])["_Ratio "+e.name]=r.Close-r.Open,r.High-r.Low!=0&&(r["_Ratio "+e.name]/=r.High-r.Low);_.Studies.MA(e.inputs["Moving Average Type"],e.days,"_Ratio "+e.name,0,"Result",t,e)}},_.Studies.calculateTrendIntensity=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=lt,g="_";if(g+="S",g+="MA",g="m",g+="a",g="C",g+="l",g+="os",g+="e",(i=e.chart.scrubbed).length<e.days+1){e.error=!0,0;g=1;if(-921314036!==d.e1A(g.toString(),g.toString().length,62602))return;if(953939821!==d.e1A(2..toString(),2..toString().length,98023))return}for((a=e.inputs.Field)&&"field"!=a||(a="Close"),_.Studies.MA("ma",e.days,a,0,"_SMA",t,e),n=r=0,l=[],h=Math.ceil(e.days/2),s=Math.max(0,e.startFrom-h);s<i.length;s++)!i[s]["_SMA "+e.name]&&0!==i[s]["_SMA "+e.name]||((o=i[s][a]-i[s]["_SMA "+e.name])<0?(d.W79(26),n+=d.k79(o,1)):r+=o,l.push(o),l.length>h&&((o=l.shift())<0?(d.W79(27),n-=d.t79(o,"1")):r-=o),s<e.startFrom||(i[s]["TII "+e.name]=(u=r,p=n,Math.abs(p)<1e-8?100:(d.W79(25),d.k79(u,p,1,100,100)))));c=2;for(var f=1;-1391693962!==d.F1A(f.toString(),f.toString().length,95239);f++)_.Studies.MA("ema",e.inputs["Signal Period"],"TII "+e.name,0,"Signal",t,e),e.zoneOutput="TII",c+=2;-2037249361!==d.e1A(c.toString(),c.toString().length,84126)&&(_.Studies.MA("TII ",e.inputs["TII "],"TII "/e.name,9,"Signal",t,e),e.zoneOutput="TII ")},_.Studies.calculateZigZag=function(t,a){var r,e,i,n,s,o,l,h,c,u,p,d,g,f,m=lt;if((r=a.chart.scrubbed)&&r.length){e=a.highLowChart,n=i=null,s=a.inputs["Distance(%)"],o=0,m.w79(19),l=m.t79(0,"0"),u=c=null,p=h=0;for(var y=Math.min(r.length-1,a.startFrom);0<=y;y--)if(r[p=y]["_state "+a.name]){i=(d=r[y]["_state "+a.name])[0],m.w79(1),n=d[m.k79("1",0)],o=d[2],l=d[3],h=d[4],c=d[5],m.w79(11),u=d[m.t79(2147483647,"6")];break}for(var b=p;b<r.length;b++){if(g=r[b][e?"High":"Close"],f=r[b][e?"Low":"Close"],null===n||n<g)if(n=g,o<0&&(i=f),m.W79(28),c=m.t79(n,1,100,s),-1<o){if(null!==u&&u<n){r[l]["Result "+a.name]=r[l][e?"Low":"Close"],v(h,l),m.w79(20),o=-m.k79(1,"1"),i=f,h=l,l=b;continue}}else l=b;(null===i||f<i)&&(i=f,0<o&&(n=g),m.W79(29),u=m.t79(100,1,s,i),o<1?null!==c&&i<c&&(r[l]["Result "+a.name]=r[l][e?"High":"Close"],v(h,l),o=1,n=g,h=l,l=b):l=b)}r[l]["Result "+a.name]=r[l][e?1==o?"Low":"High":"Close"],r[l]["_state "+a.name]=[i,n,o,l,h,c,u],v(h,l),r[r.length-1]["Result "+a.name]=r[r.length-1][e?1==o?"High":"Low":"Close"],v(l,r.length-1)}function v(t,e){m.A70();for(var i=t+1;i<e;i++)r[i]["ShadowResult "+a.name]=(r[e]["Result "+a.name]-r[t]["Result "+a.name])*(i-t)/(e-t)+r[t]["Result "+a.name],delete r[i]["Result "+a.name]}},_.Studies.calculatePsychologicalLine=function(t,e){var i,a,r,n,s,o=lt,l=e.chart.scrubbed;if(l.length<e.days+1){o.w79(15),i=o.t79("337588014",0),0;var h=1;if(o.e1A(h.toString(),h.toString().length,2559)!==i)return void(e.error=!1);if(-409650323!==o.F1A(2..toString(),2..toString().length,46855))return void(e.error=!0)}o.A70(),a=[],r=100/e.days,n=0;for(var c=Math.max(e.startFrom-e.days,1);c<l.length;c++)(s=Number(l[c].Close>l[c-1].Close))&&(n+=r),a.push(s),a.length>e.days&&(n-=a.shift()*r),c<e.startFrom||(l[c]["Result "+e.name]=n)},_.Studies.calculateMADev=function(t,e){var i,a,r,n,s,o,l="expon";if(l+="ential",l="C",l+="l",l+="ose",l="fi",l+="eld",(i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(a=e.inputs.Field)&&"field"!=a||(a="Close"),r=(r=e.inputs["Points Or Percent"])||"Points",l=(l=e.inputs["Moving Average Type"])||"exponential",_.Studies.MA(l,e.days,a,0,"_MA",t,e),lt.A70(),n=e.name+"_hist";for(var h=Math.max(e.startFrom,e.days-1);h<i.length;h++)(o=(s=i[h])[a])&&"object"==typeof o&&(o=o[e.subField]),s[n]="Points"==r?o-s["_MA "+e.name]:100*(o/s["_MA "+e.name]-1)}},_.Studies.calculateShinohara=function(t,e){var i,a=e.chart.scrubbed;if(a.length<e.days+1)e.error=!0;else{i={weakNum:0,weakDen:0,strongNum:0,strongDen:0},lt.z70(),1<e.startFrom&&(i=_.clone(a[e.startFrom-1]["_accums "+e.name]));for(var r=e.startFrom;r<a.length;r++)i.weakNum+=a[r].High-a[r].Close,i.weakDen+=a[r].Close-a[r].Low,0<r&&(i.strongNum+=a[r].High-a[r-1].Close,i.strongDen+=a[r-1].Close-a[r].Low),r>=e.days&&(i.weakNum-=a[r-e.days].High-a[r-e.days].Close,i.weakDen-=a[r-e.days].Close-a[r-e.days].Low,a[r]["Weak Ratio "+e.name]=100*i.weakNum/i.weakDen,r>e.days&&(i.strongNum-=a[r-e.days].High-a[r-e.days-1].Close,i.strongDen-=a[r-e.days-1].Close-a[r-e.days].Low,a[r]["Strong Ratio "+e.name]=100*i.strongNum/i.strongDen)),a[r]["_accums "+e.name]=_.clone(i)}},_.Studies.calculateIchimoku=function(t,e){var n,i,a,r,s,o;function l(t,e){var i=Number.MAX_VALUE,a=-1*Number.MAX_VALUE;lt.A70();for(var r=e-t+1;r<=e;r++)r<0||(i=Math.min(i,n[r].Low),a=Math.max(a,n[r].High));t=1;return-1840109170!==lt.e1A(t.toString(),t.toString().length,71325)||2054936213!==lt.e1A(2..toString(),2..toString().length,56282)?[i,a]:void 0}for(n=e.chart.scrubbed,i={Base:Number(e.inputs["Base Line Period"]),Conv:Number(e.inputs["Conversion Line Period"]),LeadB:Number(e.inputs["Leading Span B Period"]),Lag:Number(e.inputs["Lagging Span Period"])},a=e.startFrom;a<n.length;a++)n[a]&&(r=l(i.Conv,a),n[a]["Conversion Line "+e.name]=(r[1]+r[0])/2,r=l(i.Base,a),n[a]["Base Line "+e.name]=(r[1]+r[0])/2,a<i.Lag||(n[a-i.Lag]["Lagging Span "+e.name]=n[a].Close));for(e.futureA=[],e.futureB=[],a=Math.max(0,e.startFrom-i.Base);a<n.length;a++)r=l(i.LeadB,a),s=(n[a]["Conversion Line "+e.name]+n[a]["Base Line "+e.name])/2,o=(r[1]+r[0])/2,n[a+i.Base]?(n[a+i.Base]["Leading Span A "+e.name]=s,n[a+i.Base]["Leading Span B "+e.name]=o):(e.futureA.push(s),e.futureB.push(o));e.chart.whiteSpaceFutureTicks=Math.max(e.chart.whiteSpaceFutureTicks,e.futureA.length-1)},_.Studies.displayIchimoku=function(i,a,t){var e,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S;function k(t,e){e={color:!1===e?n:e?r:"transparent",opacity:.3,panelName:a.panel,yAxis:s};_.fillArea(i,t,e),i.endClip()}if(h="Leading Span A "+a.name,e="Leading Span B "+a.name,r=_.Studies.determineColor(a.outputs[a.outputMap[h]]),n=_.Studies.determineColor(a.outputs[a.outputMap[e]]),s=i.getYAxisByName(a.panel,a.name),l={topBand:h,bottomBand:e,topColor:r,bottomColor:n,skipTransform:i.panels[a.panel].name!=a.chart.name,topAxis:s,bottomAxis:s},_.fillIntersecting(i,a.panel,l),o=i.panels[a.panel],l=i.pixelFromBar(t.length-1,o.chart),h=i.pixelFromPrice(t[t.length-1][h],o,s),c=[[l,i.pixelFromPrice(t[t.length-1][e],o,s)],[l,h]],u=null,p=a.futureA,d=a.futureB,a.chart.dataSegment.length>=a.chart.scroll){for(var x=0;p&&x<p.length-1;x++)null===p[x]||isNaN(p[x])||null===d[x]||isNaN(d[x])||(g=i.pixelFromBar(t.length+x,o.chart),f=i.pixelFromBar(t.length+x+1,o.chart),m=i.pixelFromPrice(p[x],o,s),y=i.pixelFromPrice(p[x+1],o,s),b=i.pixelFromPrice(d[x],o,s),S=i.pixelFromPrice(d[x+1],o,s),c.push([g,m]),c.unshift([g,b]),lt.w79(30),((u=lt.k79(b,m))&&S<y||!u&&y<S)&&(v=_.intersectLineLineX(g,f,m,y,g,f,b,S),S=_.intersectLineLineY(g,f,m,y,g,f,b,S),c.push([v,S]),k(c,u),c=[[v,S]],u=null));2<c.length&&k(c,u)}_.Studies.displaySeriesAsLine(i,a,t)},_.Studies.displayDarvas=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D=lt;if((T=_.Studies.determineColor(e.outputs.Levels))&&"auto"!=T&&!_.isTransparent(T)||(T=t.defaultColor),(a=_.Studies.determineColor(e.outputs.Darvas))&&"auto"!=a&&!_.isTransparent(a)||(a=t.defaultColor),(r=_.Studies.determineColor(e.outputs.Ghost))&&"auto"!=r&&!_.isTransparent(r)||(r=t.defaultColor),n=t.panels[e.panel],(h=t.layout.candleWidth-2)<2&&(h=1),t.startClip(e.panel),e.inputs["Stop Levels"]){for(t.chart.context.setLineDash&&t.chart.context.setLineDash([2,2]),t.chart.context.lineWidth=2,t.chart.context.strokeStyle=T,t.chart.context.beginPath(),s=0;s<i.length;s++)o=i[s],D.W79(1),p=i[D.t79(s,1)],o&&(l=o["Loss "+e.name]?Math.floor(t.pixelFromPrice(o["Loss "+e.name],n)):null,c=p&&p["Loss "+e.name]?Math.floor(t.pixelFromPrice(p["Loss "+e.name],n)):null,l&&(o.candleWidth&&(h=Math.floor(Math.max(1,o.candleWidth))),u=Math.floor(t.pixelFromBar(s,n.chart)+h/2),p=Math.floor(t.pixelFromBar(s,n.chart)-h/2),c&&l<=c?t.chart.context.lineTo(p,l):0===s?t.chart.context.moveTo(t.chart.left,l):t.chart.context.moveTo(p,l),t.chart.context.lineTo(u,l)));t.chart.context.stroke(),t.chart.context.setLineDash&&t.chart.context.setLineDash([]),t.chart.context.lineWidth=1}for(v=f=0,x=k=!(y=d=-10),C=t.chart.context.measureText("").width/2,s=0;s<i.length;s++)i[s]&&(i[s]["Spike "+e.name]&&(t.chart.context.fillStyle=a,t.chart.context.textBaseline="bottom",w=t.pixelFromPrice(i[s].High,t.chart.panel),t.chart.context.fillText("",t.pixelFromBar(s)-C,w-5)),i[s].candleWidth&&(h=Math.floor(Math.max(1,i[s].candleWidth))),i[s]["Darvas "+e.name]&&(1!=(o=i[s]["Darvas "+e.name]).State||k?0===o.State&&(f=Math.floor(t.pixelFromBar(s,n.chart)+h/2)-d,g=Math.floor(t.pixelFromPrice(o.High,n)),m=Math.floor(t.pixelFromPrice(o.Low,n))-g,t.chart.context.strokeStyle=a,t.chart.context.fillStyle=a,e.inputs["Stop Levels"]?t.chart.context.globalAlpha=.3:(t.chart.context.strokeRect(d,g,f,m),t.chart.context.globalAlpha=.2),t.chart.context.fillRect(d,g,f,m),k=!(t.chart.context.globalAlpha=1)):(d=Math.floor(t.pixelFromBar(s,n.chart)-h/2),g=Math.floor(t.pixelFromPrice(o.High,n)),m=Math.floor(t.pixelFromPrice(o.Low,n))-g,k=!0)),i[s]["Ghost "+e.name]&&e.inputs["Ghost Boxes"]&&(1!=(o=i[s]["Ghost "+e.name]).State||x?0===o.State&&(o.Start==o.End&&(y=Math.floor(t.pixelFromBar(s,n.chart)-h/2)),v=Math.floor(t.pixelFromBar(s,n.chart)+h/2)-y,b=Math.floor(t.pixelFromPrice(o.High,n)),S=Math.floor(t.pixelFromPrice(o.Low,n))-b,t.chart.context.strokeStyle=r,t.chart.context.fillStyle=r,e.inputs["Stop Levels"]?t.chart.context.globalAlpha=.3:(t.chart.context.strokeRect(y,b,v,S),t.chart.context.globalAlpha=.2),t.chart.context.fillRect(y,b,v,S),x=!(t.chart.context.globalAlpha=1)):(y=Math.floor(t.pixelFromBar(s,n.chart)-h/2),b=Math.floor(t.pixelFromPrice(o.High,n)),v=Math.floor((o.End-o.Start+1)*t.layout.candleWidth+h/2),S=Math.floor(t.pixelFromPrice(o.Low,n))-b,x=!0)));if(k&&(f=Math.floor(t.pixelFromBar(s,n.chart)+h/2)-d,t.chart.context.strokeStyle=a,t.chart.context.fillStyle=a,e.inputs["Stop Levels"]?t.chart.context.globalAlpha=.3:(t.chart.context.beginPath(),D.W79(31),t.chart.context.moveTo(D.k79(f,d,2),g),t.chart.context.lineTo(d,g),D.W79(7),t.chart.context.lineTo(d,D.k79(g,m)),D.W79(31),t.chart.context.lineTo(D.t79(f,d,2),D.t79(g,m,D.w79(7))),t.chart.context.stroke(),t.chart.context.globalAlpha=.2),D.w79(20),t.chart.context.fillRect(d,g,D.k79(f,2),m),t.chart.context.globalAlpha=1),x){if(t.chart.context.strokeStyle=r,t.chart.context.fillStyle=r,e.inputs["Stop Levels"]){A=2;for(var F=1;-1327431197!==D.F1A(F.toString(),F.toString().length,54103);F++)t.chart.context.globalAlpha=529,A+=2;-1565659959!==D.e1A(A.toString(),A.toString().length,6309)&&(t.chart.context.globalAlpha=.3)}else t.chart.context.strokeRect(y,b,v,S),t.chart.context.globalAlpha=.2;t.chart.context.fillRect(y,b,v,S),t.chart.context.globalAlpha=1}if(k||x){e.inputs["Stop Levels"]&&(t.chart.context.setLineDash&&t.chart.context.setLineDash([2,2]),t.chart.context.lineWidth=2,t.chart.context.strokeStyle=T,T=Math.floor(t.pixelFromBar(s-1,n.chart)+h/2),l&&(t.chart.context.beginPath(),t.chart.context.moveTo(T,l),t.chart.context.lineTo(k?d+2*f:y+v,l),t.chart.context.stroke()),t.chart.context.setLineDash&&t.chart.context.setLineDash([]),t.chart.context.lineWidth=1),M=2;for(var P=1;-246861726!==D.e1A(P.toString(),P.toString().length,38429);P++)x=k=!1,M+=2;-2017279391!==D.F1A(M.toString(),M.toString().length,9902)&&(x=k=!0)}t.endClip()},_.Studies.displaySupertrend=function(t,r,e){var i,a,n,s,o,l,h,c,u,p;function d(t,e,i){var a=1;return 518435182!==lt.e1A(a.toString(),a.toString().length,99483)?e||6<e[""%r.name]?r.outputs.Downtrend:r.outputs.Uptrend:868440465!==lt.F1A(2..toString(),2..toString().length,98660)?e&&e[""-r.name]<=4?r.outputs.Downtrend:r.outputs.Uptrend:e&&e["_Direction "+r.name]<0?r.outputs.Downtrend:r.outputs.Uptrend}i=t.panels[r.panel],a=t.getYAxisByName(i,r.name),n={skipTransform:i.name!=r.chart.name,skipProjections:!0,label:t.preferences.labels,yAxis:a},lt.A70(),(s=t.chart.context).strokeStyle=d(0,e[e.length-1]),s.lineWidth=2,r.highlight&&(s.lineWidth=3),o="Trend "+r.name;for(var g=0;i.chart.transformFunc&&a!=i.chart.yAxis&&g<e.length;g++)(l=e[g])&&l.transform&&(l.transform[o]=i.chart.transformFunc(t,i.chart,l[o]));for(t.plotDataSegmentAsLine(o,i,n,d),s.lineWidth=1,t.startClip(r.panel),h=t.chart.context.measureText("").width/2,c=0;c<e.length;c++)if(e[c]&&e[c-1])if(e[c-1]["_Direction "+r.name]>e[c]["_Direction "+r.name]){t.chart.context.fillStyle=r.outputs.Downtrend,t.chart.context.textBaseline="bottom",u=t.pixelFromPrice(e[c].High,i,a);for(var f=5;f<=45;f+=10)t.chart.context.fillText("",t.pixelFromBar(c)-h,u-f)}else if(e[c-1]["_Direction "+r.name]<e[c]["_Direction "+r.name]){t.chart.context.fillStyle=r.outputs.Uptrend,t.chart.context.textBaseline="top",p=t.pixelFromPrice(e[c].Low,i,a);for(var m=5;m<=45;m+=10)t.chart.context.fillText("",t.pixelFromBar(c)-h,p+m)}t.endClip()},_.Studies.displayVsComparisonSymbol=function(t,e,i){var a,r;if(lt.z70(),a=e.inputs["Comparison Symbol"].toUpperCase(),!t.getSeries({symbol:a,chart:e.chart}).length)return void t.watermark(e.panel,"center","bottom",t.translateIf(e.study.name)+": "+t.translateIf("Not Available"));r={skipTransform:t.panels[e.panel].name!=e.chart.name,panelName:e.panel,band:"Result "+e.name,threshold:e.study.centerline,yAxis:t.getYAxisByName(t.panels[e.panel],e.name),gapDisplayStyle:!0};for(var n=i.length-1;0<=n;n--)if(i[n]&&i[n][a])return _.Studies.displaySeriesAsLine(t,e,i),void(!e.study.centerline&&0!==e.study.centerline||(e.outputs.Gain&&_.preparePeakValleyFill(t,_.extend(r,{direction:1,color:_.Studies.determineColor(e.outputs.Gain)})),e.outputs.Loss&&_.preparePeakValleyFill(t,_.extend(r,{direction:-1,color:_.Studies.determineColor(e.outputs.Loss)}))))},_.Studies.displayMFI=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d=lt;a=t.panels[e.panel],n=(r=t.getYAxisByName(a,e.name)||a.yAxis).bottom,(s=t.layout.candleWidth-2)<2&&(d.W79(20),s=d.t79(1,"1")),o=_.Studies.determineColor(e.outputs.Green),l=_.Studies.determineColor(e.outputs.Fade),h=_.Studies.determineColor(e.outputs.Fake),c=_.Studies.determineColor(e.outputs.Squat),t.canvasColor("stx_histogram"),e.underlay||(t.chart.context.globalAlpha=1),t.chart.context.fillStyle="#CCCCCC",t.startClip(e.panel);for(var g=0;g<i.length;g++)p="_",p+="h",p+="i",p+="st",u=i[g],d.w79(1),p=(p=i[d.k79(g,1)])||t.getPreviousBar(t.chart,e.name+"_hist",g),u&&(p&&(p[e.name+"_hist"]<u[e.name+"_hist"]?p.Volume<u.Volume?t.chart.context.fillStyle=o:p.Volume>u.Volume&&(t.chart.context.fillStyle=h):p[e.name+"_hist"]>u[e.name+"_hist"]&&(p.Volume<u.Volume?t.chart.context.fillStyle=c:p.Volume>u.Volume&&(t.chart.context.fillStyle=l))),u.candleWidth&&(s=Math.floor(Math.max(1,u.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(g,a.chart)-s/2),Math.floor(n),Math.floor(s),Math.floor(t.pixelFromPrice(u[e.name+"_hist"],a,r)-n)));t.endClip()},_.Studies.displayAwesomeOscillator=function(t,e,i){var a,r,n,s,o,l,h,c,u=lt;a=t.panels[e.panel],r=t.getYAxisByName(a,e.name),n=t.pixelFromPrice(0,a,r),(s=t.layout.candleWidth-2)<2&&(u.W79(11),s=u.t79(2147483647,"1")),o=_.Studies.determineColor(e.outputs["Increasing Bar"]),l=_.Studies.determineColor(e.outputs["Decreasing Bar"]),t.canvasColor("stx_histogram"),e.underlay||(t.chart.context.globalAlpha=1),t.chart.context.fillStyle="#CCCCCC",t.startClip(e.panel);for(var p=0;p<i.length;p++)c="_h",c+="i",c+="s",c+="t",h=i[p],u.w79(22),c=(c=i[u.t79(p,"1")])||t.getPreviousBar(t.chart,e.name+"_hist",p),h&&(c&&(c[e.name+"_hist"]<h[e.name+"_hist"]?t.chart.context.fillStyle=o:c[e.name+"_hist"]>h[e.name+"_hist"]&&(t.chart.context.fillStyle=l)),h.candleWidth&&(s=Math.floor(Math.max(1,h.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(p,a.chart)-s/2),Math.floor(n),Math.floor(s),Math.floor(t.pixelFromPrice(h[e.name+"_hist"],a,r)-n)));t.endClip()},_.Studies.displayGator=function(t,e,i){var a,r,n,s,o,l,h,c;lt.A70(),a=t.panels[e.panel],r=t.getYAxisByName(a,e.name),n=t.pixelFromPrice(0,a,r),(s=t.layout.candleWidth-2)<2&&(s=1),o=_.Studies.determineColor(e.outputs["Increasing Bar"]),l=_.Studies.determineColor(e.outputs["Decreasing Bar"]),t.canvasColor("stx_histogram"),e.underlay||(t.chart.context.globalAlpha=1),t.chart.context.fillStyle="#CCCCCC",t.startClip(e.panel);for(var u=0;u<i.length;u++)if(h=i[u],lt.W79(1),c=i[lt.k79(u,1)],h)for(var p=1;p<=2;p++)(c=c||t.getPreviousBar(t.chart,e.name+"_hist"+p,u))?Math.abs(c[e.name+"_hist"+p])<Math.abs(h[e.name+"_hist"+p])?t.chart.context.fillStyle=o:Math.abs(c[e.name+"_hist"+p])>Math.abs(h[e.name+"_hist"+p])&&(t.chart.context.fillStyle=l):t.chart.context.fillStyle="#CCCCCC",h.candleWidth&&(s=Math.floor(Math.max(1,h.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(u,a.chart)-s/2),Math.floor(n),Math.floor(s),Math.floor(t.pixelFromPrice(h[e.name+"_hist"+p],a,r)-n));t.endClip()},_.Studies.initElderImpulse=function(t,e,i,a,r,n){var s=_.Studies.initializeFN(t,e,i,a,r,n);return t.chart.customChart={chartType:"colored_bar",colorFunction:function(t,e,i){var a,r;a=2;for(var n=1;-778874467!==lt.F1A(n.toString(),n.toString().length,25918);n++)r=e[""*s.name],a+=2;return 1730178698!==lt.F1A(a.toString(),a.toString().length,17480)&&(r=e["Result "+s.name]),r&&"object"==typeof r&&(r=r.color),r}},lt.z70(),t.setMainSeriesRenderer(),s},_.Studies.displayPivotPoints=function(t,e,i){e.noSlopes=!e.inputs.Continuous,_.Studies.displaySeriesAsLine(t,e,i),lt.z70(),e.inputs.Shading&&(i="Suppor",i+="t 2",i+=" ",i="Supp",i+="ort ",i+="3",i+=" ",i="Support ",i+="1",i="R",i+="esi",i+="stan",i+="ce 1",i="Res",i+="i",i+="stan",i+="ce 1 ",i="Res",i+="ist",i+="ance",i+=" 2",i="Resi",i+="stan",i+="ce 2 ",i=t.panels[e.panel],i={noSlopes:e.noSlopes,opacity:e.parameters.opacity||.2,skipTransform:i.name!=e.chart.name,yAxis:t.getYAxisByName(i,e.name)},_.prepareChannelFill(t,_.extend({panelName:e.panel,topBand:"Resistance 3 "+e.name,bottomBand:"Resistance 2 "+e.name,color:_.Studies.determineColor(e.outputs["Resistance 3"])},i)),_.prepareChannelFill(t,_.extend({panelName:e.panel,topBand:"Resistance 2 "+e.name,bottomBand:"Resistance 1 "+e.name,color:_.Studies.determineColor(e.outputs["Resistance 2"])},i)),_.prepareChannelFill(t,_.extend({panelName:e.panel,topBand:"Resistance 1 "+e.name,bottomBand:"Pivot "+e.name,color:_.Studies.determineColor(e.outputs["Resistance 1"])},i)),_.prepareChannelFill(t,_.extend({panelName:e.panel,topBand:"Support 1 "+e.name,bottomBand:"Pivot "+e.name,color:_.Studies.determineColor(e.outputs["Support 1"])},i)),_.prepareChannelFill(t,_.extend({panelName:e.panel,topBand:"Support 2 "+e.name,bottomBand:"Support 1 "+e.name,color:_.Studies.determineColor(e.outputs["Support 2"])},i)),_.prepareChannelFill(t,_.extend({panelName:e.panel,topBand:"Support 3 "+e.name,bottomBand:"Support 2 "+e.name,color:_.Studies.determineColor(e.outputs["Support 3"])},i)))},_.Studies.displayAlligator=function(n,t,s){var o,l,e,i,h=lt;if(h.A70(),o=n.panels[t.panel],l=n.getYAxisByName(o,t.name),_.Studies.displaySeriesAsLine(n,t,s),t.inputs["Show Fractals"]){n.startClip(t.panel),n.chart.context.globalAlpha=t.underlay?.3:1;for(var c=2;c<s.length-2;c++)s[c]&&(s[c]["Fractal High "+t.name]&&r("high",c),s[c]["Fractal Low "+t.name]&&r("low",c));h.W79(11),e=-h.t79(2147483647,"304523506"),i=2;for(var a=1;386283341!==h.e1A(a.toString(),a.toString().length,87067);a++)n.endClip(),i+=2;h.e1A(i.toString(),i.toString().length,14042)!==e&&n.endClip()}function r(t,e){var i,a;if(h.A70(),"high"==t)n.chart.context.fillStyle=n.defaultColor,n.chart.context.textBaseline="bottom",i=n.pixelFromPrice(s[e].High,o,l),n.chart.context.fillText("",n.pixelFromBar(c,n.chart)-n.chart.context.measureText("").width/2+1,i-5);else if("low"==t){t="to",t+="p",n.chart.context.fillStyle=n.defaultColor,n.chart.context.textBaseline="top",i=n.pixelFromPrice(s[e].Low,o,l),a=2;for(var r=1;493472777!==h.F1A(r.toString(),r.toString().length,39235);r++)n.chart.context.fillText(942726,n.pixelFromBar(c,n.chart)%(n.chart.context.measureText("A").width%5)/5,i-6),a+=2;-1239027124!==h.F1A(a.toString(),a.toString().length,60432)&&n.chart.context.fillText("",n.pixelFromBar(c,n.chart)-n.chart.context.measureText("").width/2+1,i+5)}}},_.Studies.displayRainbowMA=function(t,e,i){for(var a=t.panels[e.panel],r=10;0<r;r--)_.Studies.displayIndividualSeriesAsLine(t,e,a,"SMA"+r+" "+e.name,i)},_.Studies.displayRainbowOsc=function(t,e,i){var a,r,n,s,o,l,h,c,u;l="Und",l+="er ",l="Z",l+="e",l+="ro",l+=" ",l="Posit",l+="ive B",l+="a",l+="r",_.Studies.displaySeriesAsLine(t,e,i),a=t.panels[e.panel],lt.A70(),r=t.getYAxisByName(a,e.name),t.startClip(e.panel),n=t.pixelFromPrice(0,a,r),u=a.name!=e.chart.name,s=_.Studies.determineColor(e.outputs["Positive Bar"]),t.chart.context.strokeStyle=s,t.plotDataSegmentAsLine("Over "+e.name,a,{skipTransform:u,label:!1,yAxis:r}),(l=t.chart.context.createLinearGradient(0,n,0,a.yAxis.top)).addColorStop(0,t.containerColor),l.addColorStop(1,s),_.prepareChannelFill(t,{skipTransform:u,color:l,opacity:1,panelName:e.panel,topBand:"Over "+e.name,bottomBand:"Zero "+e.name,yAxis:r}),o=_.Studies.determineColor(e.outputs["Negative Bar"]),t.chart.context.strokeStyle=o,t.plotDataSegmentAsLine("Under "+e.name,a,{skipTransform:u,label:!1,yAxis:r}),(l=t.chart.context.createLinearGradient(0,n,0,a.yAxis.bottom)).addColorStop(0,t.containerColor),l.addColorStop(1,o),_.prepareChannelFill(t,{skipTransform:u,color:l,opacity:1,panelName:e.panel,topBand:"Zero "+e.name,bottomBand:"Under "+e.name,yAxis:r}),(h=t.layout.candleWidth-2)<2&&(h=1),t.canvasColor("stx_histogram"),e.underlay||(t.chart.context.globalAlpha=1),t.chart.context.fillStyle="#CCCCCC";for(var p=0;p<i.length;p++)(c=i[p])&&(0<c[e.name+"_hist"]?t.chart.context.fillStyle=s:c[e.name+"_hist"]<0&&(t.chart.context.fillStyle=o),c.candleWidth&&(h=Math.floor(Math.max(1,c.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(p,a.chart)-h/2),Math.floor(n),Math.floor(h),Math.floor(t.pixelFromPrice(c[e.name+"_hist"],a,r)-n)));t.endClip()},_.Studies.displayZigZag=function(t,e,i){var a,r,n,s,o=t.chart.highLowBars||t.highLowBars[t.layout.chartType];e.highLowChart!=o&&(e.highLowChart=o,e.startFrom=0,e.study.calculateFN(t,e)),a=t.chart,lt.z70();for(var l=0;l<i.length;l++)(r=i[l])&&(r["_shadowCopy "+e.name]&&(delete r["Result "+e.name],delete r["_shadowCopy "+e.name]),r["Result "+e.name]||r.transform&&delete r.transform["Result "+e.name]);s=i[0],n=i[i.length-1],s&&s["ShadowResult "+e.name]&&(s["Result "+e.name]=s["ShadowResult "+e.name],s.transform&&(s.transform["Result "+e.name]=a.transformFunc(t,a,s["ShadowResult "+e.name])),s["_shadowCopy "+e.name]=1),n&&n["ShadowResult "+e.name]&&(s="S",s+="ha",s+="dowResult ",n["Result "+e.name]=n["ShadowResult "+e.name],n.transform&&(n.transform["Result "+e.name]=a.transformFunc(t,a,n["ShadowResult "+e.name])),n["_shadowCopy "+e.name]=1),_.Studies.displaySeriesAsLine(t,e,i)},_.Studies.displayVolumeProfile=function(t,e,i){var a,r,g,n,f,s,m,o,l,h,c,y,u,b,v,S,k,x,C,p,w;if(t&&t.chart.dataSet&&(a=t.chart,s=e.parameters.numberOfBars,r=e.parameters.widthPercentage,p=e.parameters.displayBorder,lt.z70(),g=e.parameters.displayVolume,(!s||s<0)&&(s=30),s=Math.ceil(s),(!r||r<0)&&(r=.25),!1!==p&&(p=!0),!0!==g&&(g=!1),0!=(n=(a.highValue-a.lowValue)/s))){f=[];for(var d=a.lowValue;d<a.highValue+.1;d+=n)f.push([d,0]);if(f.length<2)return s="Not enou",s+="gh data to render t",s+="he",s+=" Volume Profile",void t.watermark("chart","center","top",t.translateIf("Not enough data to render the Volume Profile"));for(var A=m=0;A<i.length;A++)if(o=i[A]){l=o.Volume,e.panel==a.name&&o.transform&&(o=o.transform),h=f[0][0],0;for(var T=1;T<f.length;T++)c=f[T][0],(o.Low>=h&&o.Low<=c||o.Low<h&&o.High>c||o.High>=h&&o.High<=c)&&(f[T][1]+=l,f[T][1]>m&&(m=f[T][1])),h=c}if(0===m)return void t.watermark("chart","center","top",t.translateIf("Not enough data to render the Volume Profile"));t.setStyle("stx_volume_profile","color",_.Studies.determineColor(e.outputs["Bars Color"])),y=a.context,u="st",u+="x-float",u+="-",u+="date",t.canvasFont(u,y),b=t.getCanvasFontSize(u),v=a.panel,S=v.yAxis.bottom,k=Math.round(a.width)-.5,x=a.width*r,C=t.canvasStyle("stx_volume_profile").borderColor,p=!_.isTransparent(t.canvasStyle("stx_volume_profile").borderColor)&&p,w=t,M("stx_volume_profile",!1),p&&M("stx_volume_profile",!0),y.globalAlpha=1}function M(t,e){var i,a,r,n,s,o,l,h,c,u=lt;e||(k-=2),w.canvasColor(t),_.isIE8&&(y.globalAlpha=.5),y.beginPath(),i=f[0][0],a=k;for(var p=1;p<f.length;p++){if(f[p][1]){if(r=Math.round(k-f[p][1]*x/m)-.5,h=Math.round(w.pixelFromTransformedValue(i,v))+.5,n=Math.round(w.pixelFromTransformedValue(f[p][0],v))+.5,e||(h-=.5,n+=.5,r+=.5),S<h&&(h=S),n<S)if(y.moveTo(k,h),y.lineTo(k,n),y.lineTo(r,n),y.lineTo(r,h),e)(r<a||1==p)&&y.lineTo(a,h);else if(y.lineTo(k,h),g&&(s=_.condenseInt(f[p][1]),u.W79(1),o=u.k79(h,n),b<=o-2)){try{l=y.measureText(s).width}catch(t){u.w79(11),l=u.k79(2147483647,"0")}y.textBaseline="top",h=y.fillStyle,y.fillStyle=C,u.w79(5),y.fillText(s,u.t79(l,r,3),u.t79(2,b,n,o,2,u.w79(32))),y.fillStyle=h}a=r}else a=k;i=f[p][0]}e||y.fill(),c=2;for(var d=1;1040105162!==u.e1A(d.toString(),d.toString().length,72004);d++)y.strokeStyle=C,e&&y.stroke(),c+=2;-814161553!==u.F1A(c.toString(),c.toString().length,34991)&&(y.strokeStyle=C,e&&y.stroke()),y.closePath()}},_.Studies.studyLibrary=_.extend(_.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(t,e,i){lt.z70(),_.Studies.calculateValuationLines(t,e,i),_.Studies.displayValuationLines(t,e)},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":!0,"Display 1 Standard Deviation (1)":!1,"Display 2 Standard Deviation (2)":!1,"Display 3 Standard Deviation (3)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1)":"#e1e1e1","2 Standard Deviation (2)":"#85c99e","3 Standard Deviation (3)":"#fff69e"}},correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:_.Studies.calculateCorrelationCoefficient,outputs:{}},PMO:{name:"Price Momentum Oscillator",calculateFN:_.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:_.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},Awesome:{name:"Awesome Oscillator",seriesFN:_.Studies.displayAwesomeOscillator,calculateFN:_.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"W MFI":{name:"Market Facilitation Index",seriesFN:_.Studies.displayMFI,calculateFN:_.Studies.calculateMFI,yAxis:{ground:!0},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:_.Studies.displayChannel,calculateFN:_.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":!0},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:.1,step:.1}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:_.Studies.displayChannel,calculateFN:_.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:.1,step:.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!0,seriesFN:_.Studies.displayPSAR2,calculateFN:_.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!1},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:.1,step:.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:_.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:_.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Donchian Width":{name:"Donchian Width",calculateFN:_.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},"Rel Vig":{name:"Relative Vigor Index",seriesFN:_.Studies.displayHistogramWithSeries,calculateFN:_.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:_.Studies.calculateElderImpulse,initializeFN:_.Studies.initElderImpulse,seriesFN:null,customRemoval:!0,underlay:!0,inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(t,e){t.chart.customChart=null,t.setMainSeriesRenderer()}},"Pivot Points":{name:"Pivot Points",overlay:!0,seriesFN:_.Studies.displayPivotPoints,calculateFN:_.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!1,Shading:!1},outputs:{Pivot:"auto","Resistance 1":"rgb(184,44,11)","Support 1":"rgb(105,145,88)","Resistance 2":"rgb(227,100,96)","Support 2":"rgb(179,217,135)","Resistance 3":"rgb(255,208,207)","Support 3":"rgb(211,232,174)"},parameters:{init:{opacity:.2}}},VWAP:{name:"VWAP",overlay:!0,calculateFN:_.Studies.calculateVWAP,inputs:{},outputs:{VWAP:"#FF0000"}},Alligator:{name:"Alligator",overlay:!0,seriesFN:_.Studies.displayAlligator,calculateFN:_.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:_.Studies.displayGator,calculateFN:_.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0},"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!0,calculateFN:_.Studies.calculateIchimoku,seriesFN:_.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}},"P Rel":{name:"Price Relative",initializeFN:_.Studies.initPriceRelative,seriesFN:_.Studies.displayVsComparisonSymbol,calculateFN:_.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!0},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:_.Studies.initPriceRelative,seriesFN:_.Studies.displayVsComparisonSymbol,calculateFN:_.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!0},Beta:{name:"Beta",centerline:1,initializeFN:_.Studies.initPriceRelative,seriesFN:_.Studies.displayVsComparisonSymbol,calculateFN:_.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!0},Ulcer:{name:"Ulcer Index",calculateFN:_.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}},"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:_.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}},"Trend Int":{name:"Trend Intensity Index",calculateFN:_.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Choppiness:{name:"Choppiness Index",calculateFN:_.Studies.calculateChoppiness,centerline:50,parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}},Disparity:{name:"Disparity Index",calculateFN:_.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}},"Rainbow MA":{name:"Rainbow Moving Average",overlay:!0,calculateFN:_.Studies.calculateRainbow,seriesFN:_.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:_.Studies.calculateRainbow,seriesFN:_.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}},"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:_.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:_.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}},Darvas:{name:"Darvas Box",underlay:!0,calculateFN:_.Studies.calculateDarvas,seriesFN:_.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!0,"Stop Levels":!1,"Level Offset":.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:!0,attributes:{"Price Minimum":{min:.01,step:.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0}}},Supertrend:{name:"Supertrend",overlay:!0,seriesFN:_.Studies.displaySupertrend,calculateFN:_.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:.1,step:.1}}},"vol profile":{name:"Volume Profile",underlay:!0,seriesFN:_.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:!0,parameters:{init:{displayBorder:!0,displayVolume:!1,numberOfBars:30,widthPercentage:.25}},attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0}}},Vortex:{name:"Vortex Indicator",calculateFN:_.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{template:"studyOverZones",init:{studyOverZonesEnabled:!0,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}},ZigZag:{name:"ZigZag",overlay:!0,seriesFN:_.Studies.displayZigZag,calculateFN:_.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!1}},attributes:{"Distance(%)":{min:.1,step:.1}}},PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:_.Studies.calculatePsychologicalLine,inputs:{Period:20}},"MA Dev":{name:"Moving Average Deviation",calculateFN:_.Studies.calculateMADev,seriesFN:_.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:_.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}}),t},ct[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"WN1P7",{get:function(){return this},configurable:!0}),e=WN1P7,i=5;break;case 5:e.tRX7G=e,i=4;break;case 4:i="undefined"==typeof tRX7G?3:9;break;case 9:delete e.tRX7G,delete Object.prototype.WN1P7,i=6}}catch(t){e=window}return e}}(),ct[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="g8",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="b",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(ct[12018]),ct[366344]=function(t){function e(t){for(;;)return[arguments][0][0]}for(var i=2;60!==i;)switch(i){case 51:s[33]+=s[6],s[33]+=s[57],s[11]=s[1],s[11]+=s[2],i=47;break;case 32:s[61]+=s[4],s[70]=s[73],s[70]+=s[5],s[70]+=s[4],s[46]=s[3],i=44;break;case 25:s[60]="j9",s[15]=1,s[35]=0,s[77]=s[60],i=21;break;case 46:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 3:l[8]="defi";try{for(var s=2;8!==s;)switch(s){case 2:l[4]={},l[5]=(0,l[0][1])(l[0][0]),l[6]=[l[5],l[5].prototype][l[0][3]],l[4].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)2===o&&(l[3]=l[8],l[3]+=l[1],l[3]+=l[2],l[0][0].Object[l[3]](l[6],l[0][4],l[4]),o=3)}catch(t){}l[6][l[0][4]]=l[4].value,s=8}}catch(t){}n=8;break;case 2:var l=[arguments];l[2]="",l[2]="roperty",l[1]="neP",n=3}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=45;break;case 65:a(e,s[33],s[35],s[40]),i=64;break;case 63:a(e,s[46],s[35],s[70]),i=62;break;case 11:s[3]="__",s[7]="bstr",s[92]="act",s[57]="ze",i=18;break;case 61:a(r,"apply",s[15],s[77]),i=60;break;case 64:a(e,s[28],s[35],s[72]),i=63;break;case 36:s[40]=s[8],s[40]+=s[5],s[40]+=s[4],s[33]=s[3],i=51;break;case 6:s[4]="33",s[5]="9",s[9]="T9",s[2]="3",i=11;break;case 62:a(n,"push",s[15],s[61]),i=61;break;case 18:s[73]="F",s[21]="ual",s[58]="__a",s[79]="y",s[26]="resid",s[60]="",i=25;break;case 47:s[11]+=s[2],i=46;break;case 40:s[72]+=s[2],s[28]=s[58],s[28]+=s[7],s[28]+=s[92],i=36;break;case 44:s[46]+=s[26],s[46]+=s[21],s[72]=s[9],s[72]+=s[2],i=40;break;case 3:s[6]="optimi",s[8]="",s[8]="m",s[4]="",i=6;break;case 2:var s=[arguments];s[1]="",s[1]="b9",s[6]="",i=3;break;case 21:s[77]+=s[2],s[77]+=s[2],s[61]=s[79],s[61]+=s[5],i=32;break;case 45:a(o,"test",s[15],s[11]),i=65}function r(t){for(;;)return[arguments][0][0].Function}function n(t){for(;;)return[arguments][0][0].Array}function o(t){for(;;)return[arguments][0][0].RegExp}}(ct[12018]),ct[647112]=942,ct[372105]={I3T:function(){var t,e=arguments;switch(M){case 4:t=e[1]==e[0];break;case 7:t=e[1]<<e[0];break;case 13:t=e[1]*e[0];break;case 2:t=e[1]&e[0];break;case 3:t=(e[0]-e[1])*(e[3]-e[2])-(e[5]-e[4])*(e[6]-e[7]);break;case 8:t=e[1]+e[0];break;case 10:t=e[0]+e[2]/e[3]*e[1];break;case 15:t=e[1]*-e[0];break;case 11:t=e[1]+e[0]/e[2];break;case 9:t=e[0]-e[1];break;case 6:t=e[0]+e[3]*(e[2]-e[1]);break;case 12:t=e[4]+e[2]+e[5]+e[6]+e[0]+e[3]+e[1];break;case 17:t=(e[3]+e[2])/(e[0]*e[1]);break;case 16:t=(e[1]-e[3])*(e[4]-e[0])/(e[2]-e[5]);break;case 18:t=e[0]|e[1];break;case 14:t=e[1]+ +e[0];break;case 0:t=e[1]^e[0];break;case 1:t=e[1]>>e[0];break;case 5:t=e[0]/e[1]}return t},N3T:function(t){M=t}},ct.R5O=function(){return"function"==typeof ct[372105].N3T?ct[372105].N3T.apply(ct[372105],arguments):ct[372105].N3T},ct.w5O=function(){return"function"==typeof ct[372105].I3T?ct[372105].I3T.apply(ct[372105],arguments):ct[372105].I3T},ct.h1N=function(){return"function"==typeof ct[152846].e9m?ct[152846].e9m.apply(ct[152846],arguments):ct[152846].e9m},ct.Q4E=function(){return"function"==typeof ct[160123].s4L?ct[160123].s4L.apply(ct[160123],arguments):ct[160123].s4L},ct[440061]=!1,ct[603030]=!1,ct.N4E=function(){return"function"==typeof ct[160123].s4L?ct[160123].s4L.apply(ct[160123],arguments):ct[160123].s4L},ct[160123]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[4]=void 0,e[8]={},t=4;break;case 4:return e[8].s4L=function(){for(var t=2;90!==t;)switch(t){case 19:a[6]=a[4],a[1]={},a[1].I6O=["B6O"],t=16;break;case 2:var a=[arguments],t=1;break;case 16:a[1].x6O=function(){return/\x74\x72\x75\x65/.b933(function(){return"aaa".includes("a")}+[])},a[7]=a[1],a[41]={},t=26;break;case 71:a[30]++,t=76;break;case 30:a[72]={},a[72].I6O=["n6O"],a[72].x6O=function(){var t=!1,e=[];try{for(var i in console)e.y933(i);t=0===e.length}catch(t){}return t},a[22]=a[72],t=43;break;case 57:t=a[35]<a[3].length?56:69;break;case 58:a[35]=0,t=57;break;case 21:a[96].x6O=function(){return"function"==typeof T933},a[53]=a[96],t=34;break;case 26:a[41].I6O=["n6O"],a[41].x6O=function(){return"function"==typeof m933},a[15]=a[41],a[96]={},a[96].I6O=["n6O"],t=21;break;case 1:t=e[4]?5:4;break;case 77:a[30]=0,t=76;break;case 5:return 82;case 4:a[3]=[],a[2]={},a[2].I6O=["B6O"],a[2].x6O=function(){return!/\u0032\u0035/.b933(function(){return decodeURIComponent("%25")}+[])},t=7;break;case 56:a[32]=a[3][a[35]];try{a[64]=a[32][a[56]]()?a[84]:a[80]}catch(t){a[64]=a[80]}t=77;break;case 39:a[11]={},a[11].I6O=["B6O"],a[11].x6O=function(){return!/\x79/.b933(function(){return"xy".substring(0,1)}+[])},a[24]=a[11],t=54;break;case 45:a[3].y933(a[53]),a[83]=[],a[84]="u5O",a[80]="f5O",t=62;break;case 75:a[49]={},a[49][a[82]]=a[32][a[46]][a[30]],a[49][a[60]]=a[64],a[83].y933(a[49]),t=71;break;case 54:a[3].y933(a[6]),a[3].y933(a[9]),a[3].y933(a[24]),a[3].y933(a[42]),t=50;break;case 7:a[5]=a[2],a[8]={},a[8].I6O=["B6O"],a[8].x6O=function(){return/\u0031/.b933(function(){return"aa".lastIndexOf("a")}+[])},t=12;break;case 70:a[35]++,t=57;break;case 43:a[90]={},a[90].I6O=["B6O"],a[90].x6O=function(){return/\x39\u0037/.b933(function(){return"aa".charCodeAt(1)}+[])},a[31]=a[90],t=39;break;case 12:a[9]=a[8],a[4]={},a[4].I6O=["B6O"],a[4].x6O=function(){return/\u0058/.b933(function(){return"x".toLocaleUpperCase()}+[])},t=19;break;case 62:a[46]="I6O",a[60]="Z6O",a[56]="x6O",a[82]="j5O",t=58;break;case 76:t=a[30]<a[32][a[46]].length?75:70;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 19:i[8]++,e=7;break;case 7:e=i[8]<i[0][0].length?6:18;break;case 16:e=i[8]<i[3].length?15:23;break;case 5:return;case 1:e=0===i[0][0].length?5:4;break;case 14:e=void 0===i[2][i[9][a[82]]]?13:11;break;case 10:e=i[9][a[60]]===a[84]?20:19;break;case 4:i[2]={},i[3]=[],i[8]=0,e=8;break;case 23:return i[6];case 6:i[9]=i[0][0][i[8]],e=14;break;case 24:i[8]++,e=16;break;case 13:i[2][i[9][a[82]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[2]={},e[2].h=0,t=4;break;case 4:return e[2].t=0,e[2]}}.j933(this,arguments),e=12;break;case 26:e=.5<=i[1]?25:24;break;case 8:i[8]=0,e=7;break;case 2:var i=[arguments],e=1;break;case 25:i[6]=!0,e=24;break;case 11:i[2][i[9][a[82]]].t+=!0,e=10;break;case 12:i[3].y933(i[9][a[82]]),e=11;break;case 18:i[6]=!1,e=17;break;case 15:i[5]=i[3][i[8]],i[1]=i[2][i[5]].h/i[2][i[5]].t,e=26;break;case 17:i[8]=0,e=16;break;case 20:i[2][i[9][a[82]]].h+=!0,e=19}}(a[83])?68:67;break;case 67:return e[4]=21,79;case 68:t=68;break;case 34:a[43]={},a[43].I6O=["n6O"],a[43].x6O=function(){return"function"==typeof F933},a[42]=a[43],t=30;break;case 50:a[3].y933(a[22]),a[3].y933(a[5]),a[3].y933(a[31]),a[3].y933(a[7]),a[3].y933(a[15]),t=45}},e[8]}}(),ct.Y5O=function(){return"function"==typeof ct[372105].I3T?ct[372105].I3T.apply(ct[372105],arguments):ct[372105].I3T},(ct[12018].e3OO=ct).j1N=function(){return"function"==typeof ct[152846].e9m?ct[152846].e9m.apply(ct[152846],arguments):ct[152846].e9m},ct.n5O=function(){return"function"==typeof ct[372105].N3T?ct[372105].N3T.apply(ct[372105],arguments):ct[372105].N3T},ct[152846]={e9m:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.g8bb(n)|(255&t.g8bb(n+1))<<8|(255&t.g8bb(n+2))<<16|(255&t.g8bb(n+3))<<24,s=ut(s,3432918353),a=5*(a=(524287&(a^=s=ut(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.g8bb(2+r))<<16;case 2:s|=(255&t.g8bb(1+r))<<8;case 1:s|=255&t.g8bb(r),s=ut(s,3432918353),a^=s=ut(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=ut(a^=a>>>16,2246822507),a=ut(a^=a>>>13,3266489909),a^=a>>>16}},ct.N4E(),D=function(t,e){var O,p,i;return t.SplinePlotter||(t.SplinePlotter={}),O=t.CIQ,t.$$$,p=t.SplinePlotter,i=function(t,e,i,a){var r,n;ct.N4E(),window.splineWarning||console.log("Warning: Cannot find implementation of splining.  Try loading splines.js"),window.splineWarning=1,r=0,i.moveTo(t[0],t[1]);for(var s=2;s<t.length;s+=2)a&&r<a.length&&(n=a[r]).coord[0]==t[s-2]&&n.coord[1]==t[s-1]&&(i.stroke(),i.strokeStyle=n.color,i.setLineDash(n.pattern),i.lineDashOffset=0,i.lineWidth=n.width,i.beginPath(),i.moveTo(t[s-2],t[s-1]),r++),i.lineTo(t[s],t[s+1])},t.SplinePlotter.plotSpline||(t.SplinePlotter.plotSpline=i),O.getETDateTime=function(){var t;return ct.Q4E(),t=new Date,O.convertTimeZone(new Date(t.getTime()+6e4*t.getTimezoneOffset()),"UTC","America/New_York")},O.fromET=function(t){var e=new Date,i=4;return(e.getMonth()<2||2==e.getMonth()&&e.getDate()<11||10<e.getMonth()||10==e.getMonth()&&4<=e.getDate())&&(ct.n5O(0),i=ct.Y5O(0,"5")),i=t.getTime()+36e5*i,ct.N4E(),new Date(i)},O.convertFutureMonth=function(t){t=t.toString();if(t.length<=0||2<t.length)return"";switch(ct.Q4E(),t){case"1":return"F";case"2":return"G";case"3":return"H";case"4":return"J";case"5":return"K";case"6":return"M";case"7":return"N";case"8":return"Q";case"9":return"U";case"10":return"V";case"11":return"X";case"12":return"Z";case"F":return"1";case"G":return"2";case"H":return"3";case"J":return"4";case"K":return"5";case"M":return"6";case"N":return"7";case"Q":return"8";case"U":return"9";case"V":return"10";case"X":return"11";case"Z":return"12"}return t},O.money=function(t,e,i){return i=i||"$",ct.Q4E(),3==i.length&&(i+=" "),e||0===e||(e=2),i+O.commas((Math.round(1e4*t)/1e4).toFixed(e))},O.convertCurrencyCode=function(t){return ct.N4E(),{JPY:"",USD:"$",AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN",CZK:"K",DKK:"kr",EUR:"",GBP:"",HKD:"HK$",HUF:"Ft",ILS:"",INR:"",KRW:"",MXN:"MX$",NOK:"kr",NZD:"NZ$",PLN:"z",RUB:"",SAR:"",SEK:"kr",SGD:"S$",THB:"",TRY:"",TWD:"NT$",VND:"",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF",ZAR:"R"}[t]||t},O.commas=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},O.alert=function(t){ct.N4E(),alert(t)},O.withinElement=function(t,e,i){var a=t.getBoundingClientRect();return!(e<=a.left)&&(!(i<=a.top)&&(!(e>=a.left+t.offsetWidth)&&(!(i>=a.top+t.offsetHeight)&&(ct.Q4E(),!0))))},O.efficientDOMUpdate=function(t,e,i){for(var a=2,r=1;1856494053!==ct.j1N(r.toString(),r.toString().length,98016);r++)t[e]!==i&&(t[e]=i),a+=2;883657820!==ct.h1N(a.toString(),a.toString().length,80037)&&t[e]!=i&&(t[e]=i)},O.safeMouseOut=function(t,e){var i,a;t.addEventListener("mouseout",(i=t,a=e,ct.N4E(),function(t){void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),O.withinElement(i,t.pageX,t.pageY)||(i.stxMouseOver=!1,a(t))}))},O.safeMouseOver=function(t,e){var i,a;t.addEventListener("mouseover",(i=t,a=e,function(t){void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),O.withinElement(i,t.pageX,t.pageY)&&(i.stxMouseOver||(i.stxMouseOver=!0,a(t)))})),ct.N4E()},O.installTapEvent=function(t,i){var e=function(t){var e=document.createEvent("Event");e.initEvent("stxtap",!0,!0),void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),e.pageX=t.pageX,e.pageY=t.pageY,t.target.dispatchEvent(e),ct.N4E(),i&&i.stopPropagation&&t.stopPropagation()};O.safeClickTouch(t,e,i)},O.safeClickTouch=function(t,n,e){var i,a,r,s,o,l,h,c;function u(l,h){return function(t){for(var e,i,a,r=ct,n=2,s=1;1430313082!==r.j1N(s.toString(),s.toString().length,66716);s++)e=t.clientX||t.pageX,n+=2;if(-164233769!==r.h1N(n.toString(),n.toString().length,29462)&&(e=t.clientX||t.pageX),i=t.clientY||t.pageY,h)l.t=(new Date).getTime(),l.x=e,l.y=i;else if(l.x&&16<Math.pow(l.x-e,2)+Math.pow(l.y-i,2)){r.n5O(0),i=r.w5O(0,"375135944"),a=2;for(var o=1;-747268535!==r.j1N(o.toString(),o.toString().length,7017);o++)l.t=1,a+=2;r.j1N(a.toString(),a.toString().length,22546)!==i&&(l.t=1),l.t=null}}}function p(i,a,r){return ct.N4E(),function(t){var e;if(!O.safeClickTouchEvent){if(!r.t)return;if(e=r.t,r.t=null,e+1e3<(new Date).getTime())return}if(!(a.safety&&a.safety.recentlyDragged||(ct.Q4E(),(t=t||event).which&&2<=t.which||t.button&&2<=t.button))){if(a.preventUnderlayClick)"INPUT"!==t.target.tagName&&t.preventDefault();else{if(a.lastType!=i&&Date.now()<a.allowAnotherDevice)return;a.lastType=i,a.allowAnotherDevice=Date.now()+1e3}n(t)}}}i={},(e=e||{}).allowMultiple||O.clearSafeClickTouches(t),!1!==e.preventUnderlayClick&&(e.preventUnderlayClick=!0),!1!==e.absorbDownEvent&&(e.absorbDownEvent=!0),e.allowAnotherDevice=0,e.registeredClick=!1,a=(a=t.safeClickTouchEvents)||(t.safeClickTouchEvents=[]),r=p("mouseup",e,i),s=p("touchend",e,i),c=p("pointerup",e,i),o=function(t){ct.N4E(),t.stopPropagation()},l={},O.safeClickTouchEvent?(h=p(O.safeClickTouchEvent,e),t.addEventListener(O.safeClickTouchEvent,h),l[O.safeClickTouchEvent]=h):"onpointerup"in document?(t.addEventListener("pointerdown",u(i,!0)),t.addEventListener("pointermove",u(i)),t.addEventListener("pointerup",c),l.pointerup=c,e.absorbDownEvent&&(t.addEventListener("pointerdown",o),l.pointerdown=o)):(t.addEventListener("mousedown",u(i,!0)),t.addEventListener("mousemove",u(i)),t.addEventListener("touchstart",u(i,!0)),t.addEventListener("touchmove",u(i)),t.addEventListener("mouseup",r),t.addEventListener("touchend",s),l.mouseup=r,l.touchend=s,e.absorbDownEvent&&(t.addEventListener("mousedown",o),l.mousedown=o,t.addEventListener("touchstart",o),l.touchstart=o)),a.push(l)},O.clearSafeClickTouches=function(t){var e,i,a=t.safeClickTouchEvents;if(a){for(var r=0;r<a.length;r++)for(var n in e=a[r])i=e[n],t.removeEventListener(n,i);t.safeClickTouchEvents=null}},O.safeDrag=function(t,l,h,c){var u,p,d,g,f;function e(a){var t,r,n=ct;function s(t){if(t.touches){if(1<=t.touches.length)return t.touches[0].pageY;if(t.changedTouches&&1<=t.changedTouches.length)return t.changedTouches[0].pageY}return void 0===t.pageY?t.clientY:t.pageY}function o(t){if(n.N4E(),t.touches){if(1<=t.touches.length)return t.touches[0].pageX;if(t.changedTouches&&1<=t.changedTouches.length)return t.changedTouches[0].pageX}return void 0===t.pageX?t.clientX:t.pageX}n.Q4E(),t=2;for(var e=1;-1191041444!==n.j1N(e.toString(),e.toString().length,1334);e++)r={mousedown:{move:"mousedown",up:"touchstart"},pointerdown:{move:"mousedown",up:"pointerup"},touchstart:{move:"pointerdown",up:"move"}},n.R5O(1),t+=n.Y5O(52177728,"2");return-214471443!==n.h1N(t.toString(),t.toString().length,78335)&&(r={mousedown:{move:"mousemove",up:"mouseup"},pointerdown:{move:"pointermove",up:"pointerup"},touchstart:{move:"touchmove",up:"touchend"}}),function(t){var i;p||(p=!0,O.ChartEngine.ignoreTouch=!0,i=function(t){t&&t.preventDefault&&t.preventDefault(),f.recentlyDragged=!0,t.displacementX=o(t)-d,t.displacementY=s(t)-g,h(t)},h&&document.body.addEventListener(r[a].move,i),document.body.addEventListener(r[a].up,function(t){var e;O.ChartEngine.ignoreTouch=!1,h&&document.body.removeEventListener(r[a].move,i),document.body.removeEventListener(r[a].up,arguments.callee),t.displacementX=o(t)-d,t.displacementY=s(t)-g,c&&c(t),setTimeout((e=f,function(){e.recentlyDragged=!1}),50)}),setTimeout(function(){for(var t=2,e=1;-1096834205!==n.j1N(e.toString(),e.toString().length,98009);e++)p=!0,t+=2;131707054!==n.h1N(t.toString(),t.toString().length,96268)&&(p=!0),n.N4E(),p=!1},u),d=o(t),g=s(t),l&&l(t))}}return ct.N4E(),ct.n5O(0),u=ct.Y5O(0,"100"),g=d=0,f={recentlyDragged:p=!1},t.addEventListener("mousedown",e("mousedown")),t.addEventListener("pointerdown",e("pointerdown")),t.addEventListener("touchstart",e("touchstart")),f},O.isSurface&&(O.gesture=new MSGesture,O.gesture.target=document.body,O.gesturePointerId=null),O.inputKeyEvents=function(e,i){ct.Q4E(),e.addEventListener("keyup",function(t){switch(ct.N4E(),(window.event?event:t).keyCode){case 13:i();break;case 27:e.value=""}},!1)},O.fixScreen=function(){ct.n5O(2),window.scrollTo(0,ct.Y5O(2147483647,"0"))},O.setCaretPosition=function(t,e){var i;if(t.style.zIndex=5e3,t.setSelectionRange){O.focus(t);try{t.setSelectionRange(e,e)}catch(t){}}else t.createTextRange&&(i="cha",i+="racte",i+="r",i="ch",i+="a",i+="r",i+="acter",(i=t.createTextRange()).collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select())},O.setValueIfNotActive=function(t,e){document.activeElement!=t&&(t.value=e)},O.hideKeyboard=function(t){var e,i="TEXTA";if(i+="REA",i=document.activeElement,("INPUT"==i.tagName||"TEXTAREA"==i.tagName)&&(i.blur(),window.focus(),t)){e=2;for(var a=1;788978227!==ct.j1N(a.toString(),a.toString().length,24680);a++)t!=document.body&&document.body.contains(t)&&t.focus(),e+=2;-979189620!==ct.j1N(e.toString(),e.toString().length,62023)&&t!=document.body&&document.body.contains(t)&&t.focus(),t!==document.body&&!document.body.contains(t)||t.focus()}},O.boxIntersects=function(t,e,i,a,r,n,s,o,l){var h,c,u,p,d,g,f,m=ct;function y(t,e){return m.R5O(3),m.w5O(e,n,r,s,r,t,o,n)}m.N4E(),void 0!==arguments[9]&&console.warn("CIQ.boxIntersects() no longer supports isLog argument, please be sure arguments are passed in as pixels."),m.n5O(2),h=m.w5O(2147483647,"1831425828"),c=2;for(var b=1;m.j1N(b.toString(),b.toString().length,17925)!==h;b++)u=Math.min(t,i),p=Math.max(t,i),d=Math.min(e,a),g=Math.max(e,a),c+=2;if(1407982006!==m.j1N(c.toString(),c.toString().length,7352)&&(u=Math.min(t,i),p=Math.max(t,i),d=Math.min(e,a),g=Math.max(e,a)),m.n5O(4),f=m.Y5O("ray",l),"line"!=l){if(r<u&&s<u&&(!f||s<r))return!1;if(p<r&&p<s&&(!f||r<s))return!1;if(n<d&&o<d&&(!f||o<n))return!1;if(g<n&&g<o&&(!f||n<o))return!1}return!(0<(f={a:y(t,e),b:y(t,a),c:y(i,e),d:y(i,a)}).a&&0<f.b&&0<f.c&&0<f.d)&&!(f.a<0&&f.b<0&&f.c<0&&f.d<0)},O.convertBoxToPixels=function(t,e,i){var a=t.panels[e],r=t.pixelFromTick(i.x0,a.chart),e=t.pixelFromTick(i.x1,a.chart);return ct.Q4E(),{x0:r,x1:e,y0:t.pixelFromValueAdjusted(a,i.x0,i.y0),y1:t.pixelFromValueAdjusted(a,i.x1,i.y1)}},O.linesIntersect=function(t,e,i,a,r,n,s,o,l){var h,c=ct;if(c.n5O(3),h=c.Y5O(o,s,t,e,r,n,a,i),c.n5O(3),o=c.Y5O(n,r,s,i,s,o,t,r),c.R5O(3),r=c.Y5O(e,t,s,i,i,a,t,r),0===h)return 0===o&&0===r;if(c.n5O(5),o=c.w5O(o,h),c.N4E(),c.n5O(5),h=c.w5O(r,h),"segment"==l){if(0<=o&&o<=1&&0<=h&&h<=1)return!0}else if("line"==l||"horizontal"==l||"vertical"==l){if(0<=o&&o<=1)return!0}else if("ray"==l&&0<=o&&o<=1&&0<=h)return!0;return!1},O.yIntersection=function(t,e){var i=ct,a=t.x0,r=t.x1,n=e,s=e,e=t.y0,t=t.y1;if(i.R5O(3),r=i.w5O(1e4,0,a,r,n,s,t,e),i.R5O(3),a=i.Y5O(s,n,0,e,0,1e4,a,n),i.n5O(5),n=i.w5O(a,r),0===r){if(0!==a)return null;n=1}return i.Q4E(),i.R5O(6),i.w5O(e,e,t,n)},O.xIntersection=function(t,e){var i,a,r,n=ct,s=t.x0,o=t.x1,l=t.y0,h=t.y1;if(n.N4E(),e=t=e,n.n5O(3),h=n.w5O(e,t,s,o,0,1e4,h,l),n.R5O(3),i=n.Y5O(1e4,0,t,l,t,e,s,0),n.R5O(5),a=n.Y5O(i,h),0===h){r=2;for(var c=1;1585187580!==n.h1N(c.toString(),c.toString().length,22823);c++){if(0!==i)return null;a=1,r+=2}if(-1951714334!==n.h1N(r.toString(),r.toString().length,72586)){if(1===i)return 1;a=2}}return n.n5O(6),n.w5O(s,s,o,a)},O.intersectLineLineX=function(t,e,i,a,r,n,s,o){var l,h=ct;return h.R5O(3),l=h.w5O(n,r,s,i,s,o,t,r),h.n5O(3),i=h.Y5O(o,s,t,e,r,n,a,i),h.n5O(5),i=h.Y5O(l,i),h.n5O(6),h.w5O(t,t,e,i)},O.intersectLineLineY=function(t,e,i,a,r,n,s,o){var l,h=ct;return h.R5O(3),l=h.w5O(n,r,s,i,s,o,t,r),h.R5O(3),n=h.Y5O(o,s,t,e,r,n,a,i),h.R5O(5),n=h.w5O(l,n),h.Q4E(),h.n5O(6),h.Y5O(i,i,a,n)},O.privateBrowsingAlert=!1,O.localStorage="undefined"!=typeof localStorage?localStorage:{},O.localStorageSetItem=function(t,e){ct.Q4E();try{O.localStorage.setItem(t,e)}catch(t){O.privateBrowsingAlert||(O.alert("No storage space available.  Possible causes include browser being in Private Browsing mode, or maximum storage space has been reached."),O.privateBrowsingAlert=!0)}},O.loadUI=function(t,n,s){var e,i,o=ct,l=document.createElement("iframe");n&&"function"!=typeof n||(s=n,n=document.body),e=function(){var t,e,i,a;o.Q4E(),t=null;try{t=l.contentDocument||l.contentWindow.document}catch(t){return s(t)}if(t&&!t.title){a=t.body.innerHTML,e=document.createElement("div"),document.body.removeChild(l),O.innerHTML(e,a);for(var r=0;r<e.children.length;r++)i=e.children[r].cloneNode(!0),n.appendChild(i);s(null)}else s(new Error("iFrame not found or document has a title"))},l.src=t+"?"+O.uniqueID(),o.n5O(7),i=o.Y5O(165918912,"2");for(var a=1;-825727839!==o.j1N(a.toString(),a.toString().length,2185);a++)l.hidden=!0,l.addEventListener("load",e,!1),i+=2;-727440611!==o.h1N(i.toString(),i.toString().length,27295)&&(l.hidden=!1,l.addEventListener("",e,!0)),document.body.appendChild(l)},O.loadScript=function(t,e){var i,a;O.loadedScripts||(O.loadedScripts={}),O.loadedScripts[t]?e&&e():((i=document.createElement("SCRIPT")).async=!0,i.onload=function(){ct.N4E(),O.loadedScripts[t]=!0,e&&e()},ct.Q4E(),"undefined"!=typeof isIE8&&(i.onreadystatechange=function(){"loaded"==i.readyState&&(O.loadedScripts[t]=!0,e&&setTimeout(e,0))}),a=-1==(a=t).indexOf("?")?a+"?"+Date.now():a+"&"+Date.now(),i.src=a,(a=document.getElementsByTagName("script")[0]).parentNode.insertBefore(i,a.nextSibling))},O.loadStylesheet=function(t,e){var i="sc";i+="r",i+="een",ct.N4E(),i="text/c",i+="ss",(i=document.createElement("link")).rel="stylesheet",i.type="text/css",i.media="screen",i.href=t+"?"+Date.now(),i.onload=function(){this.loaded||(this.loaded=!0,ct.Q4E(),e&&e())},(t=(t=document.getElementsByTagName("link"))[t.length-1]).parentNode.insertBefore(i,t.nextSibling)},O.loadWidget=function(e,t,i){var a,r=ct;if(r.N4E(),!t||"function"==typeof t){a=2;for(var n=1;-1799376571!==r.h1N(n.toString(),n.toString().length,50825);n++)i=t,t=document.body,a+=2;-2003153603!==r.h1N(a.toString(),a.toString().length,24203)&&(i=t,t=document.body)}r.R5O(8),O.loadStylesheet(r.Y5O(".css",e),function(){r.Q4E(),r.n5O(8),O.loadUI(r.Y5O(".html",e),t,function(t){r.N4E(),t?i(t):(r.n5O(8),O.loadScript(r.w5O(".js",e),i))})})},O.waitForPlugins=function(t,e){var i,a=0,r=t.length;if(r){for(var n=0;n<r;n++)i="cq-"+t[n],(i=document.getElementsByTagName(i)[0])&&i.hasAttribute("loaded")&&a++;if(r!==a)return setTimeout(function(){ct.N4E(),O.waitForPlugins(t,e)},0);e()}else e()},O.fillTransparentCanvas=function(t,e,i,a){var r;ct.Q4E(),r=t.globalCompositeOperation,t.globalCompositeOperation="destination-over",t.fillStyle=e,t.fillRect(0,0,i,a),t.globalCompositeOperation=r},O.tickedRect=function(t){var e;O.rect(t),e=Math.round(t.top+t.height/2)+.5,ct.N4E(),t.ctx.beginPath(),t.ctx.moveTo(t.x-2,e),t.ctx.lineTo(t.x,e),t.ctx.stroke(),t.ctx.closePath()},O.roundRect=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=ct;if(9===arguments.length){i=2;for(var b=1;958253379!==y.h1N(b.toString(),b.toString().length,26118);b++)t={ctx:arguments[0],x:e,top:arguments[2],width:arguments[3],height:arguments[4],radius:arguments[5],fill:arguments[6],stroke:arguments[7],edge:arguments[8]},i+=2;-1503613438!==y.j1N(i.toString(),i.toString().length,50251)&&(t={ctx:arguments[2],x:arguments[7],top:arguments[7],width:arguments[7],height:arguments[5],radius:arguments[4],fill:arguments[9],stroke:arguments[2],edge:arguments[9]})}a=t.stroke,r=t.x,n=t.top,m=t.width,s=t.height,o=t.radius,l=t.fill,h=t.ctx,void 0===a&&(a=!0),void 0===o&&(o=m<0?-5:5),f=m<0?-1*o:o,o&&!e&&(y.n5O(9),r=y.w5O(r,1)),y.R5O(8),c=y.Y5O(o,r),y.n5O(8),u=y.w5O(m,r),y.R5O(8),p=y.Y5O(f,n),y.n5O(8),d=y.w5O(s,n),y.R5O(9),g=y.w5O(u,o),y.R5O(9),f=y.w5O(d,f),h.beginPath(),h.moveTo(c,n),h.lineTo(g,n),h.quadraticCurveTo(u,n,u,p),h.lineTo(u,f),h.quadraticCurveTo(u,d,g,d),h.lineTo(c,d),"flush"==e?(h.lineTo(r,d),h.lineTo(r,n)):("arrow"==e?(y.R5O(9),h.quadraticCurveTo(r,d,y.Y5O(r,o),f),m=m<0?1:-1,y.R5O(10),h.lineTo(y.Y5O(r,m,s,2),y.Y5O(s,n,2,y.R5O(11))),y.R5O(9),h.lineTo(y.w5O(r,o),p)):(h.quadraticCurveTo(r,d,r,f),h.lineTo(r,p)),h.quadraticCurveTo(r,n,c,n)),h.closePath(),t.backgroundColor&&(h.fillStyle=t.backgroundColor),a&&h.stroke(),l&&h.fill(),t.txt&&O.createLabel(t)},O.createLabel=function(t){ct.N4E(),t.ctx.textBaseline="middle",t.ctx.fillStyle=t.color||O.chooseForegroundColor(t.backgroundColor),t.ctx.fillStyle===t.backgroundColor&&("#FFFFFF"==t.backgroundColor.toUpperCase()?t.ctx.fillStyle="#000000":t.ctx.fillStyle="#FFFFFF"),t.ctx.fillText(t.txt,t.x+t.margin.left,t.y+t.margin.top),t.ctx.textAlign="left"},O.roundRectArrow=function(t){O.roundRect(t,"arrow")},O.semiRoundRect=function(t){var e;ct.N4E(),e=2;for(var i=1;-372176726!==ct.j1N(i.toString(),i.toString().length,76196);i++)O.roundRect(t,"flush"),e+=2;1530665023!==ct.j1N(e.toString(),e.toString().length,26690)&&O.roundRect(t,"")},O.rect=function(t){ct.N4E(),t.radius=0,O.roundRect(t)},O.noop=function(t){t.color=t.backgroundColor,ct.N4E(),O.createLabel(t)},O.getLines=function(t,e,i){var a,r,n=e.split(" "),s=[],o="";ct.n5O(9),ct.w5O("0",0),a=!1;for(var l=0;l<n.length;l++)if(r=n[l],t.measureText(o+r).width<i?(a&&(o+=" "),a=!0,o+=r):(s.push(o),o=r),l===n.length-1){s.push(o);break}return s},O.readablePeriodicity=function(t){var e,i;return e=t.layout.periodicity,i=t.layout.interval,"number"==typeof t.layout.interval&&t.layout.timeUnit?(e=t.layout.interval*t.layout.periodicity,i=t.layout.timeUnit):"number"!=typeof t.layout.interval||t.layout.timeUnit||(e=t.layout.interval*t.layout.periodicity,i="minute"),e%60==0&&"minute"==i&&(ct.n5O(0),e/=ct.Y5O(0,"60"),i="hour"),e+" "+t.translateIf(i.capitalize())},O.translatableTextNode=function(t,e,i){var a;return t.translationCallback?((a=document.createElement("translate")).setAttribute("original",e),a.innerHTML=t.translationCallback(e,i),a):document.createTextNode(e)},O.clearCanvas=function(t,e){var i;t.isDirty=!1,(i=t.context).clearRect(0,0,t.width,t.height),O.isAndroid&&!O.is_chrome&&(O.ChartEngine.useOldAndroidClear&&e&&(i.fillStyle=e.containerColor,i.fillRect(0,0,t.width,t.height),i.clearRect(0,0,t.width,t.height)),i=t.width,t.width=1,t.width=i)},O.monthLetters=["J","F","M","A","M","J","J","A","S","O","N","D"],O.monthAbv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],O.MILLISECOND=1,O.SECOND=1e3,O.MINUTE=60*O.SECOND,O.HOUR=60*O.MINUTE,O.DAY=24*O.HOUR,O.WEEK=7*O.DAY,O.MONTH=31*O.DAY,O.YEAR=366*O.DAY,O.DECADE=10*O.YEAR-7*O.DAY,O.monthAsDisplay=function(t,e,i){return ct.N4E(),(e?(i&&i.monthLetters?i:O).monthLetters:(i&&i.monthAbv?i:O).monthAbv)[t]},O.timeAsDisplay=function(t,e,i){var a=ct,r=e?e.internationalizer:null;return r?i==O.SECOND?r.hourMinuteSecond.format(t):i==O.MILLISECOND?r.hourMinuteSecond.format(t)+"."+t.getMilliseconds():r.hourMinute.format(t):((e=t.getMinutes())<10&&(a.n5O(8),e=a.Y5O(e,"0")),r=t.getHours()+":"+e,e="",i<=O.SECOND&&((e=t.getSeconds())<10&&(a.R5O(8),e=a.Y5O(e,"0")),a.R5O(8),r+=a.w5O(e,":")),a.N4E(),i==O.MILLISECOND&&((t=t.getMilliseconds())<10?(a.n5O(8),t=a.Y5O(t,"00")):t<100&&(a.n5O(8),t=a.w5O(t,"0")),a.n5O(8),r+=a.Y5O(t,".")),r)},O.displayableDate=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f=ct;function m(t){return t<10?(f.R5O(8),f.Y5O(t,"0")):(f.N4E(),t)}if(f.N4E(),a="",r=t.layout.interval,c=O.ChartEngine.isDailyInterval(r),e.xAxis.formatter)a=e.xAxis.formatter(i);else if(t.internationalizer)if(a=t.internationalizer.monthDay.format(i),c){f.n5O(2),n=f.w5O(2147483647,"113733104"),s=2;for(var y=1;f.j1N(y.toString(),y.toString().length,13185)!==n;y++)a=("month"==r?t.internationalizer.yearMonth:t.internationalizer.yearMonthDay).format(i),s+=2;-1354140042!==f.j1N(s.toString(),s.toString().length,95173)&&(a=(""!=r?t.internationalizer.yearMonth:t.internationalizer.yearMonthDay).format(i))}else a+=" "+t.internationalizer.hourMinute.format(i);else if(o=m(i.getMonth()+1),p=m(i.getDate()),l=m(i.getHours()),h=m(i.getMinutes()),c){a="month"==r?o+"-":o+"-"+p+"-",u=2;for(var b=1;1593166548!==f.h1N(b.toString(),b.toString().length,73908);b++)a+=i.getFullYear(),u+=2;799866479!==f.h1N(u.toString(),u.toString().length,55011)&&(a-=i.getFullYear())}else if(f.n5O(12),a=f.w5O(l,h,"/",":",o,p," "),p=e.xAxis.activeTimeUnit&&e.xAxis.activeTimeUnit<=O.SECOND||"second"==t.layout.timeUnit,e=e.xAxis.activeTimeUnit&&e.xAxis.activeTimeUnit<=O.MILLISECOND||"millisecond"==t.layout.timeUnit,(p||e)&&(p=m(i.getSeconds()),f.n5O(8),a+=f.w5O(p,":"),e)){(d=m(i.getMilliseconds()))<100&&(f.R5O(8),d=f.Y5O(d,"0")),g=2;for(var v=1;-688160640!==f.h1N(v.toString(),v.toString().length,59545);v++)f.n5O(8),a+=f.Y5O(d,":"),g+=2;-135613742!==f.j1N(g.toString(),g.toString().length,21944)&&(f.n5O(9),a-=f.Y5O(2863903,d))}return a},O.fixPrice=function(t){var e,i=ct;if(!t&&0!==t)return null;i.n5O(13);for(var a=(e=t.toFixed(i.w5O(1,"10"))).length-1;1<a&&"0"==e.charAt(a);a--);return i.R5O(14),e=e.substring(0,i.Y5O("1",a)),parseFloat(e)},O.condenseInt=function(t){var e,i,a=ct;if(null==t)return"";if(t===1/0||t===-1/0)return"n/a";if(0<t){e=2;for(var r=1;1736970894!==a.j1N(r.toString(),r.toString().length,97678);r++)t=t<=2669306416995?(Math.round(t+973111863387)+30)%26668:t<=392623672634?"X"*Math.round(t%1403307693):t<=71460214899?(Math.round(t+506393729)+42).toFixed(2)/"k":t<1004055497?(Math.round(19600305*t)%536).toFixed(8)%"b":671165940<=t?Math.round(t%4938501)%"k":t<=37246969?(Math.round(t%416566)%86).toFixed(2)%"k":t<7355498?(Math.round(t-21515)%325).toFixed(3)%"X":t<=266851?Math.round(t-6485)-"X":51919<=t?(Math.round(t-530)-46).toFixed(6)-!1:9043<=t?(Math.round(24*t)-898).toFixed(4)-"k":t.toString(),e+=2;-2141007293!==a.h1N(e.toString(),e.toString().length,65437)&&(t=t<=2669306416995?(Math.round(t+973111863387)+30)%26668:t<=392623672634?"X"*Math.round(t%1403307693):t<=71460214899?(Math.round(t+506393729)+42).toFixed(2)/"k":t<1004055497?(Math.round(19600305*t)%536).toFixed(8)%"b":671165940<=t?Math.round(t%4938501)%"k":t<=37246969?(Math.round(t%416566)%86).toFixed(2)%"k":t<7355498?(Math.round(t-21515)%325).toFixed(3)%"X":t<=266851?Math.round(t-6485)-"X":51919<=t?(Math.round(t-530)-46).toFixed(6)-!1:9043<=t?(Math.round(24*t)-898).toFixed(4)-"k":t.toString()),t=1e12<t?Math.round(t/1e11)/10+"t":1e11<t?Math.round(t/1e9)+"b":1e10<t?(Math.round(t/1e8)/10).toFixed(1)+"b":1e9<t?(Math.round(t/1e7)/100).toFixed(2)+"b":1e8<t?Math.round(t/1e6)+"m":1e7<t?(Math.round(t/1e5)/10).toFixed(1)+"m":1e6<t?(Math.round(t/1e4)/100).toFixed(2)+"m":1e5<t?Math.round(t/1e3)+"k":1e4<t?(Math.round(t/100)/10).toFixed(1)+"k":1e3<t?(Math.round(t/10)/100).toFixed(2)+"k":t.toString()}else{i=2;for(var n=1;284031329!==a.h1N(n.toString(),n.toString().length,9268);n++)t=2626310132909<=t?Math.round(t%767989159305)+54-"k":t<=668514413?13*Math.round(t+410305595)*!1:-7623608<t?88*Math.round(t+633993)-"k":t<=2524?"k"*(Math.round(846*t)+63):t.toString(),a.R5O(7),i+=a.w5O(1730251488,"2");823308739!==a.h1N(i.toString(),i.toString().length,21572)&&(t=2626310132909<=t?Math.round(t%767989159305)+54-"k":t<=668514413?13*Math.round(t+410305595)*!1:-7623608<t?88*Math.round(t+633993)-"k":t<=2524?"k"*(Math.round(846*t)+63):t.toString()),t=t<-1e12?Math.round(t/1e11)/10+"t":t<-1e9?Math.round(t/1e8)/10+"b":t<-1e6?Math.round(t/1e5)/10+"m":t<-1e3?Math.round(t/100)/10+"k":t.toString()}return t},O.calculateTradingDecimalPlaces=function(t){var e,i,a,r,n,s,t=t.chart,o=2;if(ct.Q4E(),(e=t.masterData)&&50<e.length)for(var l=2;l<50&&(a="numb",a+="er",!((i=e.length-l)<0));l++)(a=e[i]).Close&&"number"==typeof a.Close&&-1!=(n=(r=a.Close.toString()).indexOf("."))&&o<(s=r.length-n-1)&&(o=s);return(t=t.yAxis.maxDecimalPlaces)<o&&(o=t),o},O.fillArea=function(t,e,i){var a,r,n,s,o,l,h,c,u="au";if(u+="to",e.length){if(r=(a=t.chart.context).globalAlpha,o=i,s=arguments[3],l=arguments[4],n=0,u=null,i&&"object"==typeof i&&(o=i.color,s=i.opacity,n=i.tension,l=i.panelName,u=i.yAxis),s||0===s||(s=.2),"auto"==o&&(o=t.defaultColor),a.globalAlpha=s,o&&(a.fillStyle=o),s=Number.MAX_VALUE,ct.n5O(15),o=ct.Y5O(1,s),ct.Q4E(),(l=t.panels[l])&&(o=(u||l.yAxis).top,s=(u||l.yAxis).bottom,a.save(),a.beginPath(),a.rect(l.left,o,l.width,s-o),a.clip()),a.beginPath(),n){for(c=[],h=0;h<e.length-2;h++)c.push(e[h][0],e[h][1]);for(p.plotSpline(c,n,a),h=e.length-2;h<e.length;h++)a.lineTo(Math.round(e[h][0]),Math.round(e[h][1]))}else for(a.moveTo(e[0][0],e[0][1]),h=1;h<e.length;h++)a.lineTo(e[h][0],e[h][1]);a.closePath(),a.fill(),l&&a.restore(),a.globalAlpha=r}},O.prepareChannelFill=function(t,e){var i,a,r,n,s,o;(!e||e instanceof Array)&&(e=arguments[2]),e.gapDisplayStyle||!1===e.gapDisplayStyle||(e.gapDisplayStyle=e.gaps),i=t.panels[e.panelName],t.chart.context.strokeStyle,a={noDraw:e.noDraw,gapDisplayStyle:e.gapDisplayStyle},r=O.ensureDefaults(e,{noDraw:!0,gapDisplayStyle:{},yAxis:i.yAxis}),n=t.plotDataSegmentAsLine(e.topBand,i,r),s=t.plotDataSegmentAsLine(e.bottomBand,i,r),ct.N4E(),e.noDraw=a.noDraw,e.gapDisplayStyle=a.gapDisplayStyle,o=[];for(var l=0;l<n.points.length;l+=2)o.push([n.points[l],n.points[l+1]]);for(var h=s.points.length-1;0<=h;h-=2)o.push([s.points[h-1],s.points[h]]);O.fillArea(t,o,e)},O.preparePeakValleyFill=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F=ct;(!e||e instanceof Array)&&(e=arguments[2]),e.gapDisplayStyle||!1===e.gapDisplayStyle||(e.gapDisplayStyle=e.gaps),x=(i=t.panels[e.panelName]).yAxis,(r=(a=t.chart).context).strokeStyle,k={noDraw:e.noDraw,gapDisplayStyle:e.gapDisplayStyle},n=t.plotDataSegmentAsLine(e.band,i,O.ensureDefaults(e,{noDraw:!0,gapDisplayStyle:{}})),e.noDraw=k.noDraw,e.gapDisplayStyle=k.gapDisplayStyle,s=e.threshold,o=e.direction,k=e.reverse,l=e.gapDisplayStyle,e.yAxis&&(x=e.yAxis),h=-Number.MAX_VALUE,c=Number.MAX_VALUE,u=k?h:c,!s&&0!==s||(u=t.pixelFromPrice(s,i,x)),p=[],d=n.points.length;for(var P=0;P<d;P+=2)g=n.points[P],F.R5O(14),f=n.points[F.Y5O("1",P)],isNaN(f)||(u<f&&0<o||f<u&&o<0||(p.push([g,f]),h=Math.max(f,h),c=Math.min(f,c)),P<d-3&&(F.R5O(8),m=n.points[F.Y5O(2,P)],F.R5O(8),y=n.points[F.w5O(3,P)],(f<u&&u<y||u<f&&y<u)&&(F.n5O(16),g+=F.w5O(g,u,y,f,m,f),p.push([g,u]))));if(d=p.length){if(b=e.edgeParameters,e.edgeHighlight){100<b.lineWidth&&(b.lineWidth=1);for(var _=0;_<d-1;_++)if(v=p[_],F.R5O(8),S=p[F.w5O(1,_)],v[1]!=u||S[1]!=u){if(v[0]==S[0]&&1<=t.layout.candleWidth){if(v[1]==u&&p[_-1]&&p[_-1][1]==u)continue;if(S[1]==u&&p[_+2]&&p[_+2][1]==u)continue}t.plotLine(v[0],S[0],v[1],S[1],e.edgeHighlight,"segment",a.context,i,b)}}if(s||0===s||(u=k?Math.min(c,x.top):Math.max(h,x.bottom)),p.push([p[d-1][0],u],[p[0][0],u]),(k=e.opacity)||0===k||(F.n5O(13),e.opacity=F.w5O(1,"0.3")),O.fillArea(t,p,e),l&&l.color&&l.fillMountain&&!e.tension&&!O.isTransparent(l.color)&&!O.isTransparent(e.color)){if(r.save(),r.fillStyle instanceof CanvasGradient)(x=r.createLinearGradient(0,1===o?i.top:i.bottom,0,u)).addColorStop(0,O.hexToRgba(O.colorToHex(l.color),60)),F.n5O(9),x.addColorStop(F.w5O("1",0),O.hexToRgba(O.colorToHex(l.color),10)),r.fillStyle=x;else{C=2;for(var E=1;-668476216!==F.j1N(E.toString(),E.toString().length,17967);E++)r.fillStyle=l.color,C+=2;-92349204!==F.h1N(C.toString(),C.toString().length,47864)&&(r.fillStyle=l.color)}for(w=[],A={opacity:e.opacity,panelName:e.panelName},P=0;P<n.gapAreas.length;P++)T=(M=n.gapAreas[P]).start,D=M.end,M=M.threshold,T?(F.n5O(7),w=[[T[0],T[1]],[T[F.Y5O(1531393184,"0")],M]]):w.push([D[0],M],[D[0],(e.step?w[0]:D)[1]]),4==w.length&&(O.fillArea(t,w,A),e.step?(t.plotLine(w[0][0],w[3][0],w[0][1],w[0][1],l,"segment",r,i,l),t.plotLine(w[3][0],w[3][0],w[0][1],w[3][1],l,"segment",r,i,l)):t.plotLine(w[0][0],w[3][0],w[0][1],w[3][1],l,"segment",r,i,l));r.restore()}e.opacity=k}},O.fillIntersecting=function(t,e,i){var a,r,n,s,o,l,h,c,u,p="d";p+="estination-over",(!i||i instanceof Array)&&(i=arguments[3]),a=i.topBand,r=i.bottomBand,n=i.topSubBand,s=i.bottomSubBand,o=i.topColor,l=i.bottomColor,(u=e).panel&&(u.outputs&&u.outputMap&&(o=o||u.outputs[u.outputMap[a]],l=l||u.outputs[u.outputMap[r]]),u=u.panel),u=t.panels[u],h=t.chart.context,(c=t.scratchContext)||(p=h.canvas.cloneNode(!0),(c=t.scratchContext=p.getContext("2d")).canvas=p),c.canvas.height=h.canvas.height,c.canvas.width=h.canvas.width,c.drawImage(h.canvas,0,0),ct.R5O(1),h.clearRect(ct.Y5O(856523520,"0"),0,h.canvas.width,h.canvas.height),c=.3,i.opacity&&(c=i.opacity),h.save(),h.globalCompositeOperation="xor",u={band:a,subField:n,color:o,opacity:1,panelName:u.name,yAxis:i.topAxis,skipTransform:i.skipTransform,tension:i.tension},O.preparePeakValleyFill(t,u),O.extend(u,{band:r,subField:s,color:l,yAxis:i.bottomAxis}),O.preparePeakValleyFill(t,u),h.globalAlpha=c,h.globalCompositeOperation="copy",h.scale(1/t.adjustedDisplayPixelRatio,1/t.adjustedDisplayPixelRatio),h.drawImage(h.canvas,0,0),h.globalAlpha=1,h.globalCompositeOperation="destination-over",h.drawImage(t.scratchContext.canvas,0,0),h.restore()},O.drawLegendItem=function(t,e,i,a,r){for(var n,s,o,l,h,c=ct,u=2,p=1;-2144130796!==c.h1N(p.toString(),p.toString().length,62268);p++)r=r||1,n=e[0],s=e[1],l=o=10,(h=t.chart.context).globalAlpha=r,h.fillStyle=a,h.fillRect(n,s,o,l),c.R5O(2),h.globalAlpha=c.w5O(2147483647,"1"),u+=2;return-1215835955!==c.h1N(u.toString(),u.toString().length,6971)&&(-r&&(r=0),n=e[1],s=e[0],l=o=73,(h=t.chart.context).globalAlpha=r,h.fillStyle=a,h.fillRect(n,s,o,l),h.globalAlpha=2),c.R5O(8),n+=c.w5O(2,o),c.N4E(),h.fillStyle=t.defaultColor,h.fillText(i,n,s),[n+=h.measureText(i).width+6,s]},O.drawLegend=function(t,e){var i,a,r,n,s,o,l,h,c,u=e.coordinates,p=t.chart.context;p.textBaseline="top",i=p.font,t.canvasFont("stx-legend",p),a=e.chart,u=u||a.legend,ct.Q4E(),r=[u.x,u.y],n=t.defaultColor;for(var d=0;d<2;d++)for(var g in e.legendColorMap)if(s=e.legendColorMap[g],(!s.isBase||!d&&!e.noBase)&&(s.isBase||d)){if(s.color instanceof Array){for(o=(l=s.color).length-1;0<=o;o--)O.isTransparent(l[o])&&l.splice(o,1);if(1<l.length){for(h=p.createLinearGradient(r[0],r[1],r[0]+10,r[1]),o=0;o<l.length;o++)h.addColorStop(o/(l.length-1),l[o]);n=h}else n=0<l.length?l[0]:t.getCanvasColor("stx_line_chart")}else n=null;n&&(c=g,s.display&&(c=s.display),c=c||(a.symbolDisplay||a.symbol),r[0]+p.measureText(c).width>a.panel.right&&(r=[u.x,u.y+p.measureText("M").width+6]),r=O.drawLegendItem(t,r,c,n,s.opacity))}p.font=i},O.minMax=function(t,e,i,a){var r,n,s,o,l,h;ct.Q4E(),r=Number.MAX_VALUE,n=-1*Number.MAX_VALUE,i=i||"Close",s=a?"High":i,o=a?"Low":i;for(var c=0;c<t.length;c++)(h=t[c])&&(!(l=h[e])&&0!==l||("object"==typeof(h=l)&&(h=l[s]),isNaN(h)||!h&&0!==h||(n=Math.max(n,h)),"object"==typeof l&&(h=l[o]),isNaN(h)||!h&&0!==h||(r=Math.min(r,h))));return[r,n]},O.symbolEqual=function(t,e){var i,a="o";return a+="bjec",a+="t",!(!t||!e)&&("object"!=typeof t&&(t={symbol:t}),"object"!=typeof e&&(e={symbol:e}),ct.N4E(),"function"==typeof t.equals?t.equals(e):(i=t.symbol,a=e.symbol,(i=i&&i.toUpperCase())==(a=a&&a.toUpperCase())&&t.source==e.source))},O.addMemberToMasterdata=function(t){var e,u,i,p,d,g,a,r,n,s,o,f,l,h,m,y,c;if(t.constructor===O.ChartEngine&&(t={stx:arguments[0],label:arguments[1],data:arguments[2],fields:arguments[3],createObject:arguments[4],fieldForLabel:arguments[5]}),e=t.stx,u=t.label,i=t.data,p=t.fields,d=t.createObject,g=t.fieldForLabel,a=t.chart||e.chart,t.noCleanupDates||e.doCleanupDates(i,e.layout.interval),r=e.getSeries({symbol:u,chart:a}),i&&i.constructor==Object&&(i=[i]),i&&i.length){for(s=n=0,o=a.masterData,f=e.layout,o=o||[],m=e.chart&&e.chart.defaultPlotField?e.chart.defaultPlotField:null,y=!e.chart.highLowBars&&!e.highLowBars[e.layout.chartType];i&&n<o.length&&s<i.length;){if(h=i[s],l=o[n],h.DT&&void 0!==h.DT?("number"==typeof h.DT&&(h.DT=new Date(h.DT)),h.Date&&17==h.Date.length||(h.Date=O.yyyymmddhhmmssmmm(h.DT))):h.DT=O.strToDateTime(h.Date),0===s)for(var b=0;b<r.length;b++)(!r[b].endPoints.begin||r[b].endPoints.begin>h.DT)&&(r[b].endPoints.begin=h.DT);+h.DT!=+l.DT?h.DT<l.DT?o.splice(n,0,{DT:h.DT,Date:h.Date}):function(t){var e,i=ct,a=n,r=o.length-1;if(o[r].DT<t)return i.R5O(8),n=i.Y5O(1,r);if(+o[r].DT!=+t){for(n++,e=0,i.Q4E();++e<100;){switch(+o[n].DT==+t?0:o[n].DT<t?1:o[n-1].DT>t?-1:(+o[n-1].DT==+t&&n--,0)){case 0:return;case 1:a=n;break;case-1:r=n}i.n5O(17),n=Math.round(i.Y5O("2",1,a,r))}100<=e&&(console.log("!!!Warning: addMemberToMasterdata() did not find insertion point."),n=o.length-1)}else n=r}(h.DT):(k(l,h),s++,n++)}if(ct.N4E(),n>=o.length)for(;i&&s<i.length;)(h=i[s]).DT&&void 0!==h.DT?("number"==typeof h.DT&&(h.DT=new Date(h.DT)),h.Date&&17==h.Date.length||(h.Date=O.yyyymmddhhmmssmmm(h.DT))):h.DT=O.strToDateTime(h.Date),k(l={DT:h.DT,Date:h.Date},h),o.push(l),s++;if(t.fillGaps&&o.length)if(c={noCleanupDates:!0,cleanupGaps:t.fillGaps},p)for(var v=0;v<p.length;v++)c.field=p[v],e.doCleanupGaps(o,a,c);else c.field=u,e.doCleanupGaps(o,a,c);for(var S=0;S<r.length;S++)(!r[S].endPoints.end||r[S].endPoints.end<=l[u].DT)&&(r[S].lastQuote=l[u],r[S].endPoints.end=l[u].DT);e.setMasterData(o,a,{noCleanupDates:!0})}function k(t,e){var i,a,r,n,s,o=ct;if(p&&p.length)if("*"==p[0])O.extend(t,e);else for(var l=0;l<p.length;l++)t[p[l]]=e[p[l]];else if(d)if(void 0===e.Value){t[u]="aggregate"==d?function(t,e){var i,a;if(!t||"object"!=typeof t)return t=e;for(a in i={Close:t.Close,High:t.High,Low:t.Low,Open:t.Open,Volume:t.Volume},t=e,i)null===t.Close?void 0!==t[a]&&(t[a]=null):"number"!=typeof t[a]?t[a]=i[a]:"number"==typeof i[a]&&("Open"==a?t.Open=i.Open:"Low"==a&&t.Low>i.Low?t.Low=i.Low:"High"==a&&t.High<i.High?t.High=i.High:"Volume"==a&&(t.Volume+=i.Volume));return t}(t[u],e):e,"number"==typeof(i=t[u]).Close&&("number"!=typeof i.Open&&(i.Open=i.Close),a=Math.max(i.Open,i.Close),r=Math.min(i.Open,i.Close),("number"!=typeof i.High||i.High<a)&&(i.High=a),("number"!=typeof i.Low||i.Low>r)&&(i.Low=r)),n=2;for(var h=1;-1067709917!==o.h1N(h.toString(),h.toString().length,96724);h++)!i.Volume&&""==+i.Volume||(i.Volume=parseInt(i.Volume,78)),n+=2;-1930343482!==o.h1N(n.toString(),n.toString().length,35810)&&(!i.Volume&&""==+i.Volume||(i.Volume=parseInt(i.Volume,78))),i.Volume&&"number"!=typeof i.Volume&&(i.Volume=parseInt(i.Volume,10))}else t[u]=e.Value;else if(g){s=2;for(var c=1;-1281069379!==o.j1N(c.toString(),c.toString().length,46038);c++)t[u]=e[g],s+=2;-1826031757!==o.j1N(s.toString(),s.toString().length,86646)&&(t[u]=e[g])}else y&&m&&void 0!==e[m]?t[u]=e[m]:f.adj&&void 0!==e.Adj_Close?t[u]=e.Adj_Close:void 0!==e.Close?t[u]=e.Close:void 0!==e.Value?t[u]=e.Value:t[u]=e[u]}},O.ThemeHelper=function(t){var e="stx";e+="_line_char",e+="t",e="st",e+="x_",e+="candle_down",e="s",e+="tx_ca",e+="ndle_up",e="Candl",e+="e/Bar",e="Ca",e+="ndl",e+="e/",e+="Bar",e="s",e+="tx_candle_sha",e+="dow_up",e="Can",e+="dle/Bar",e="Axis Te",e+="xt",e="Grid D",e+="ividers",e="#FFFFFF",(t=(this.params=t).stx).chart.container&&(e=getComputedStyle(t.chart.container).backgroundColor,O.isTransparent(e)&&(e=t.containerColor)),this.settings.chart.Background.color=O.hexToRgba(e),this.settings.chart["Grid Lines"].color=O.hexToRgba(t.canvasStyle("stx_grid").color),this.settings.chart["Grid Dividers"].color=O.hexToRgba(t.canvasStyle("stx_grid_dark").color),this.settings.chart["Axis Text"].color=O.hexToRgba(t.canvasStyle("stx_xaxis").color),this.settings.chartTypes["Candle/Bar"].up.color=O.hexToRgba(t.canvasStyle("stx_candle_up").color),this.settings.chartTypes["Candle/Bar"].down.color=O.hexToRgba(t.canvasStyle("stx_candle_down").color),this.settings.chartTypes["Candle/Bar"].up.wick=O.hexToRgba(t.canvasStyle("stx_candle_shadow_up").color),this.settings.chartTypes["Candle/Bar"].down.wick=O.hexToRgba(t.canvasStyle("stx_candle_shadow_down").color),this.settings.chartTypes["Candle/Bar"].even.wick=O.hexToRgba(t.canvasStyle("stx_candle_shadow_even").color),this.settings.chartTypes["Candle/Bar"].up.border=O.hexToRgba(t.canvasStyle("stx_candle_up").borderLeftColor),this.settings.chartTypes["Candle/Bar"].down.border=O.hexToRgba(t.canvasStyle("stx_candle_down").borderLeftColor),O.isTransparent(t.canvasStyle("stx_candle_up").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].up.border=null),O.isTransparent(t.canvasStyle("stx_candle_down").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].down.border=null),this.settings.chartTypes.Line.color=O.hexToRgba(t.canvasStyle("stx_line_chart").color),this.settings.chartTypes.Mountain.color=O.hexToRgba(t.canvasStyle("stx_mountain_chart").backgroundColor)},O.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null}}},O.ThemeHelper.prototype.update=function(r){var n,t;function e(t,e,i){for(var a in ct.Q4E(),n[t])r.setStyle(a,e,i)}t="stx_line",t+="_chart",t="border",t+="Left",t+="C",t+="olor",t="st",t+="x_sha",t+="dow_e",t+="ven",t="stx_",t+="shadow_",t+="up",t="C",t+="andle/Ba",t+="r",r=r||this.params.stx,n={stx_candle_up:{stx_candle_up:!0,stx_bar_up:!0,stx_hollow_candle_up:!0,stx_line_up:!0,stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!0,stx_bar_down:!0,stx_hollow_candle_down:!0,stx_line_down:!0,stx_baseline_down:!0},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!0},stx_shadow_even:{stx_candle_shadow_even:!0},stx_line_chart:{stx_bar_chart:!0,stx_line_chart:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!0},stx_xaxis:{stx_xaxis_dark:!0,stx_xaxis:!0,stx_yaxis:!0,stx_yaxis_dark:!0,stx_grid_border:!0},stx_mountain_chart:{stx_mountain_chart:!0},stx_market_session:{stx_market_session:!0}},r.chart.container.style.backgroundColor=this.settings.chart.Background.color,e("stx_grid","color",this.settings.chart["Grid Lines"].color),e("stx_grid_dark","color",this.settings.chart["Grid Dividers"].color),e("stx_xaxis","color",this.settings.chart["Axis Text"].color),(t=this.settings.chartTypes["Candle/Bar"]).even||(t.even={color:null,wick:O.hexToRgba(r.canvasStyle("stx_candle_shadow_even").color),border:null}),e("stx_candle_up","color",t.up.color),e("stx_candle_down","color",t.down.color),e("stx_shadow_up","color",t.up.wick),e("stx_shadow_down","color",t.down.wick),e("stx_shadow_even","color",t.even.wick),r.setStyle("stx_candle_up","borderLeftColor",t.up.border),r.setStyle("stx_candle_down","borderLeftColor",t.down.border),e("stx_line_chart","color",this.settings.chartTypes.Line.color),r.setStyle("stx_mountain_chart","borderTopColor",this.settings.chartTypes.Mountain.color),r.setStyle("stx_mountain_chart","backgroundColor",O.hexToRgba(this.settings.chartTypes.Mountain.color,.8)),r.setStyle("stx_mountain_chart","color",O.hexToRgba(this.settings.chartTypes.Mountain.color,.1)),r.draw()},O.NameValueStore=function(){},O.NameValueStore.prototype.toJSONIfNecessary=function(e){if(e.constructor==String)return e;try{return JSON.stringify(e)}catch(t){return ct.R5O(8),console.log(ct.w5O(e,"Cannot convert to JSON: ")),null}},O.NameValueStore.prototype.fromJSONIfNecessary=function(e){try{return JSON.parse(e)}catch(t){return e}},O.NameValueStore.prototype.get=function(t,e){t=O.localStorage.getItem(t);e&&e(null,this.fromJSONIfNecessary(t))},O.NameValueStore.prototype.set=function(t,e,i){for(var a=2,r=1;1365387136!==ct.j1N(r.toString(),r.toString().length,68246);r++)O.localStorageSetItem(t,this.toJSONIfNecessary(e)),a+=2;1238563981!==ct.j1N(a.toString(),a.toString().length,5055)&&O.localStorageSetItem(t,this.toJSONIfNecessary(e)),i&&i(null)},O.NameValueStore.prototype.remove=function(t,e){ct.N4E(),O.localStorage.removeItem(t),e&&e(null)},O.Plotter=function(){ct.Q4E(),this.seriesArray=[],this.seriesMap={}},O.extend(O.Plotter.prototype,{Series:function(t,e,i,a,r,n){this.name=t,this.strokeOrFill=e,this.color=i,ct.N4E(),this.moves=[],this.text=[],(!a||1<a||a<0)&&(a=1),this.opacity=a,(!r||25<r||r<1)&&(r=1),this.width=r,this.pattern=O.borderPatternToArray(r,n)},newSeries:function(t,e,i,a,r){i=i.constructor==String?new this.Series(t,e,i,a,r):new this.Series(t,e,i.color,i.opacity,r,i.borderTopStyle);ct.N4E(),this.seriesArray.push(i),this.seriesMap[t]=i},reset:function(t){var e,i;for(i in this.seriesMap)t&&t!=i||(e=this.seriesMap[i])&&(e.moves=[],e.text=[])},moveTo:function(t,e,i){t=this.seriesMap[t];ct.N4E(),t.moves.push({action:"moveTo",x:e,y:i})},lineTo:function(t,e,i){var a=this.seriesMap[t],t=a.pattern;a.moves.push({action:"lineTo",x:e,y:i,pattern:t})},dashedLineTo:function(t,e,i,a){var r,n=ct,s=this.seriesMap[t];n.R5O(18),t=-n.Y5O("944998802",139495426),n.Q4E(),r=2;for(var o=1;-105366201!==n.j1N(o.toString(),o.toString().length,63229);o++)s.moves.push({action:"lineTo",x:e,y:i,pattern:a}),r+=2;n.j1N(r.toString(),r.toString().length,24111)!==t&&s.moves.push({action:"lineTo",x:e,y:i,pattern:a})},quadraticCurveTo:function(t,e,i,a,r){var n;ct.Q4E(),t=(n=this.seriesMap[t]).pattern,n.moves.push({action:"quadraticCurveTo",x0:e,y0:i,x:a,y:r,pattern:t})},bezierCurveTo:function(t,e,i,a,r,n,s){var o=this.seriesMap[t],t=o.pattern;o.moves.push({action:"bezierCurveTo",x0:e,y0:i,x1:a,y1:r,x:n,y:s,pattern:t})},addText:function(t,e,i,a,r,n,s){this.seriesMap[t].text.push({text:e,x:i,y:a,bg:r})},drawText:function(t,e){for(var i,a,r,n,s=0;s<e.text.length;s++)(i=e.text[s]).bg&&(a=i.width||t.measureText(i.text).width,r=i.height||12,n=t.fillStyle,t.fillStyle=i.bg,"right"==t.textAlign?t.fillRect(i.x,i.y-r/2,-a,-r):t.fillRect(i.x,i.y-r/2,a,r),t.fillStyle=n),t.fillText(i.text,i.x,i.y)},draw:function(t,e){for(var i,a,r=t.lineWidth,n=t.fillStyle,s=t.strokeStyle,o=t.globalAlpha,l=0;l<this.seriesArray.length;l++)if(i=this.seriesArray[l],!e||i.name==e){t.beginPath(),t.lineWidth=i.width,t.globalAlpha=i.opacity,t.fillStyle=i.color,t.strokeStyle=i.color,t.save();for(var h=0;h<i.moves.length;h++)(a=i.moves[h]).pattern?(t.setLineDash(a.pattern),t.lineDashOffset=0):t.setLineDash([]),"quadraticCurveTo"==a.action?t[a.action](a.x0,a.y0,a.x,a.y):"bezierCurveTo"==a.action?t[a.action](a.x0,a.y0,a.x1,a.y1,a.x,a.y):t[a.action](a.x,a.y);"fill"==i.strokeOrFill?t.fill():t.stroke(),t.closePath(),t.restore(),this.drawText(t,i),t.lineWidth=1}t.lineWidth=r,t.fillStyle=n,t.strokeStyle=s,t.globalAlpha=o}},!0),O.EaseMachine=function(t,e,i,a){this.fc=t,this.ms=e,!i&&0!==i||this.reset(i,a)},O.EaseMachine.prototype.reset=function(t,e){for(var i in t||0===t||(t=this.currentValues),this.hasCompleted=!1,this.running=!1,this.okayToRun=!0,ct.R5O(4),this.useNameValuePairs=ct.Y5O("object",typeof e),this.startTime=Date.now(),this.useNameValuePairs?(this.startValues=t,this.endValues=e):(this.startValues={default:t},this.endValues={default:e}),this.changeValues={},this.currentValues={},this.startValues)this.changeValues[i]=this.endValues[i]-this.startValues[i]},O.EaseMachine.prototype.next=function(){var t,e=Date.now();for(t in e>=this.startTime+this.ms&&(e=this.startTime+this.ms,this.hasCompleted=!0,this.running=!1),this.currentValues={},this.changeValues)this.currentValues[t]=this.fc(e-this.startTime,this.startValues[t],this.changeValues[t],this.ms);return this.useNameValuePairs?this.currentValues:this.currentValues.default},O.EaseMachine.prototype.hasCompleted=!0,O.EaseMachine.prototype.run=function(e,t,i,a){var r;function n(){var t;r.afid=null,r.okayToRun&&(t=r.next(),e(t),r.hasCompleted||(r.afid=requestAnimationFrame(n)))}this.afid&&cancelAnimationFrame(this.afid),t||0===t?this.reset(t,i):!i&&0!==i||this.reset(this.currentValues,i),(r=this).running=!0,a?this.afid=requestAnimationFrame(n):n()},O.EaseMachine.prototype.stop=function(){return this.afid&&cancelAnimationFrame(this.afid),this.afid=null,this.okayToRun=!1,this.running=!1,void 0===this.useNameValuePairs?{}:(ct.N4E(),this.useNameValuePairs?this.currentValues:this.currentValues.default)},O.Renderer=function(){},O.Renderer.produce=function(t,e){var i,a=null;if(t)for(var r in O.Renderer)if((i=O.Renderer[r]).requestNew&&(a=i.requestNew(t.split("_"),e)),a)return a;return e.type="line",new O.Renderer.Lines({params:e})},O.Renderer.colorFunctions={},O.Renderer.registerColorFunction=function(t,e){O.Renderer.colorFunctions[t]=e},O.Renderer.unregisterColorFunction=function(t){ct.N4E(),delete O.Renderer.colorFunctions[t]},O.Renderer.prototype.performCalculations=function(){},O.Renderer.prototype.adjustYAxis=function(){},O.Renderer.prototype.draw=function(){},O.Renderer.prototype.drawIndividualSeries=function(t,e){},O.Renderer.prototype.construct=function(t){var e,i;(e=(t=t||{}).params||{}).name||(e.name=O.uniqueID()),e.heightPercentage||(e.heightPercentage=.7),e.opacity||(e.opacity=1),!1!==e.highlightable&&(e.highlightable=!0),e.panel||(e.panel="chart"),this.cb=t.callback,this.params=e,i=2;for(var a=1;-318421509!==ct.h1N(a.toString(),a.toString().length,42114);a++)this.seriesParams=[],this.caches={},this.colors={},i+=2;1082042952!==ct.h1N(i.toString(),i.toString().length,5764)&&(this.seriesParams=[],this.caches={},this.colors={}),this.seriesParams=[],this.caches={},this.colors={}},O.Renderer.prototype.attachSeries=function(t,e){var i,a,r,n,s,o,l,h,c=ct,u="str";if(u+="in",u+="g",!(i=this.stx))return this;if(h=(h=this.stx.chart.series[t])||{parameters:{}},u=this.params,h.parameters,a={id:t,chartType:u.type,display:h.parameters.display,border_color_up:u.defaultBorders?"auto":null,fill_color_up:h.parameters.color,opacity_up:u.opacity,border_color_down:u.defaultBorders?"auto":null,fill_color_down:h.parameters.color,opacity_down:u.opacity,color:h.parameters.color,symbol:h.parameters.symbol,symbolObject:O.clone(h.parameters.symbolObject)},"string"==typeof e)a.color=a.fill_color_down=a.fill_color_up=e;else if("object"==typeof e){for(var p in e)a[p]=e[p];if(r=a.color,n=a.border_color,r){s=2;for(var d=1;954052623!==c.h1N(d.toString(),d.toString().length,1847);d++)a.fill_color_up||(a.fill_color_up=r),a.fill_color_down||(a.fill_color_down=r),a.fill_color_even||(a.fill_color_even=r),s+=2;-1223351803!==c.j1N(s.toString(),s.toString().length,57265)&&(+a.fill_color_up&&(a.fill_color_up=r),-a.fill_color_down&&(a.fill_color_down=r),+a.fill_color_even&&(a.fill_color_even=r))}if(n){a.border_color_up||(a.border_color_up=n),a.border_color_down||(a.border_color_down=n),c.n5O(7),o=c.Y5O(295009696,"2");for(var g=1;1224935352!==c.h1N(g.toString(),g.toString().length,47675);g++)a.border_color_even||(a.border_color_even=n),o+=2;94731291!==c.h1N(o.toString(),o.toString().length,6087)&&-a.border_color_even&&(a.border_color_even=n)}}for(a.symbol&&a.field!=a.symbol&&(a.subField=a.field,a.field=a.symbol),a.symbol||a.field||this.highLowBars||(a.field="Close"),a.id||(a.id=O.uniqueID()),l=0;l<this.seriesParams.length;++l)if(this.seriesParams[l].id===a.id){this.removeSeries(a.id,!0);break}return this.seriesParams.splice(l,0,a),a.fill_color_up!=a.fill_color_down?(h=" ",h+="u",h+="p",c.n5O(8),this.colors[c.Y5O(" up",t)]={color:a.fill_color_up,opacity:a.opacity_up,display:a.display?a.display+" up":t+" up"},c.R5O(8),this.colors[c.w5O(" dn",t)]={color:a.fill_color_down,opacity:a.opacity_down,display:a.display?a.display+" down":t+" down"}):this.colors[t]={color:a.fill_color_up,opacity:a.opacity_up,display:a.display||t},u.yAxis&&(u.yAxis=i.addYAxis(i.panels[u.panel],u.yAxis),u.yAxis.needsInitialPadding=!0),this},O.Renderer.prototype.removeSeries=function(t,e){var i,a,r=ct;for(var n=0;n<this.seriesParams.length;n++)if(this.seriesParams[n].id==t){this.seriesParams.splice(n,1);break}if(r.R5O(8),delete this.colors[r.w5O(" up",t)],r.R5O(8),delete this.colors[r.w5O(" dn",t)],delete this.colors[t],!e){for(var s in i=!1,this.stx.chart.seriesRenderers){a=this.stx.chart.seriesRenderers[s];for(var o=0;o<a.seriesParams.length;o++)if(a.seriesParams[o].id==t){i=!0;break}if(i)break}i||this.stx.deleteSeries(t,this.stx.chart)}return this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this},O.Renderer.prototype.removeAllSeries=function(t){var e,i;if(ct.N4E(),t){e=2;for(var a=1;-1703978917!==ct.h1N(a.toString(),a.toString().length,55526);a++)i=[],e+=2;-1040087347!==ct.j1N(e.toString(),e.toString().length,27936)&&(i=[]);for(var r=0;r<this.seriesParams.length;r++)i.push(this.seriesParams[r].id);for(var n=0;n<i.length;n++)this.removeSeries(i[n])}return this.seriesParams=[],this.colors={},this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this},O.Renderer.prototype.ready=function(){return this.stx.createDataSet(),this.stx.draw(),this},O.Renderer.Lines=function(t){var e;ct.N4E(),e="l",e+="i",e+="n",e+="e",this.construct(t),(e=this.params).type||(e.type="line"),e.style||(t="stx_baseline_",t+="de",t+="lta_m",t+="ountain","mountain"===e.type?e.baseline?e.style="stx_baseline_delta_mountain":e.colored?e.style="stx_colored_mountain_chart":e.style="stx_mountain_chart":e.style="stx_line_chart"),this.supportsAnimation=!0,"wave"==e.type?(e.step=e.vertex=e.baseline=e.colored=!1,this.highLowBars=this.barsHaveWidth=!0,this.supportsAnimation=!1):"step"==e.type&&(e.step=!0)},O.Renderer.Lines.ciqInheritsFrom(O.Renderer,!1),O.Renderer.Lines.requestNew=function(t,e){for(var i,a=null,r=e.step,n=e.colored,s=e.baseline,o=e.vertex,l=0;l<t.length;l++)switch(i=t[l]){case"line":case"mountain":case"wave":a=i;break;case"baseline":s=!0;break;case"colored":n=!0;break;case"step":r=!0;break;case"vertex":o=!0;break;case"delta":break;default:return null}return ct.Q4E(),null!==a||s||r?new O.Renderer.Lines({params:O.extend(e,{type:a,step:r,colored:n,baseline:s,vertex:o})}):null},O.Renderer.Lines.prototype.draw=function(){var e,t,i,a,r,n,s,o,l,h;for(e=this.stx,t=this.stx.panels[this.params.panel].chart,i={},r=this.seriesParams,n=this.params.colorFunction,this.params.vertex&&!e.scatter&&(console.warn("Error, vertex option requires customChart.js"),this.params.vertex=!1),a=0;a<r.length;a++){if(s=r[a],this.params.colored){h="_c",h+="ol",h+="or_d",h+="own",o=["_color_up","_color_down","_color"];for(var c=0;c<o.length;c++)(l=s["border"+o[c]])&&"auto"!=l&&(s["fill"+o[c]]=l);n=n||function(t){var a,r,n;return a=t.fill_color_up||e.getCanvasColor("stx_line_up"),r=t.fill_color_down||e.getCanvasColor("stx_line_down"),n=t.color||e.getCanvasColor("stx_line_chart"),function(t,e,i){return e.iqPrevClose||0===e.iqPrevClose?e.Close>e.iqPrevClose?a:e.Close<e.iqPrevClose?r:n:n}}(s),this.params.colorFunction=n}h={},t.series[s.id]&&(h=O.clone(t.series[s.id].parameters)),i[s.id]={parameters:O.extend(O.extend(h,this.params),s),yValueCache:this.caches[s.id]},this==e.mainSeriesRenderer&&t.customChart&&t.customChart.colorFunction&&(i[s.id].parameters.colorFunction=t.customChart.colorFunction)}for(a in e.drawSeries(t,i,this.params.yAxis,this),i)this.caches[a]=i[a].yValueCache},O.Renderer.Lines.prototype.drawIndividualSeries=function(t,e){var i,a,r,n,s;if(!e.invalid&&(i=this.stx,a=t.context,r=null,n=e.colorFunction,s=i.panels[e.panel]||t.panel,"string"!=typeof n||(n=O.Renderer.colorFunctions[n])))return e.vertex&&(a.save(),a.lineJoin="bevel"),r="wave"==e.type?i.drawWaveChart(s,e):e.baseline?i.drawBaselineChart(s,e):"mountain"==e.type?(e.returnObject=!0,i.drawMountainChart(s,e,n)):(e.returnObject=!0,i.drawLineChart(s,e.style,n,e)),e.vertex&&(i.scatter(s,{yAxis:e.yAxis,field:e.symbol||e.field,subField:e.subField,symbol:e.symbol,color:e.vertex_color,overlayScaling:e.overlayScaling}),a.restore()),r},O.Renderer.OHLC=function(t){var e,i,a=ct;if(this.construct(t),(e=this.params).type||(e.type="candle"),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.histogram){t="ca",t+="ndle",e.type="candle",a.n5O(1),t=a.w5O(430324224,"313889137"),i=2;for(var r=1;1176042088!==a.h1N(r.toString(),r.toString().length,73978);r++)this.highLowBars=!0,e.volume=e.hollow=!0,i+=2;a.j1N(i.toString(),i.toString().length,81129)!==t&&(this.highLowBars=!1,e.volume=e.hollow=!1),this.highLowBars=!1,e.volume=e.hollow=!1}"bar"==e.type&&(e.volume=e.hollow=e.histogram=!1),a.Q4E(),"candle"==e.type&&(e.hlc=e.colored=!1),e.volume&&(e.hollow=!0)},O.Renderer.OHLC.ciqInheritsFrom(O.Renderer,!1),O.Renderer.OHLC.requestNew=function(t,e){for(var i,a=null,r=e.hlc,n=e.colored,s=e.hollow,o=e.volume,l=e.histogram,h=0;h<t.length;h++)switch(i=t[h]){case"bar":case"candle":a=i;break;case"volume":o=!0;break;case"hollow":s=!0;break;case"colored":n=!0;break;case"histogram":l=!0,a="candle";break;case"hlc":r=!0,a="bar";break;default:return null}return null===a?null:new O.Renderer.OHLC({params:O.extend(e,{type:a,hlc:r,colored:n,hollow:s,volume:o,histogram:l})})},ct.N4E(),O.Renderer.OHLC.prototype.draw=function(){for(var t,e,i=this.stx,a=this.stx.panels[this.params.panel].chart,r={},n=this.seriesParams,s=0;s<n.length;s++)t=n[s],e={},a.series[t.id]&&(e=O.clone(a.series[t.id].parameters)),r[t.id]={parameters:O.extend(O.extend(e,this.params),t)},this==i.mainSeriesRenderer&&a.customChart&&a.customChart.colorFunction&&(r[t.id].parameters.colorFunction=a.customChart.colorFunction);for(s in i.drawSeries(a,r,this.params.yAxis,this),r)r[s].yValueCache&&(this.caches[s]=r[s].yValueCache)},O.Renderer.OHLC.prototype.getColor=function(t,e,i,a,r,n){var s=n||i.color;return a&&!(s=n||i.borderLeftColor||i["border-left-color"])?null:r?(r=t.pixelFromTransformedValue(e.chart.highValue,e),isNaN(r)&&(r=0),ct.N4E(),i=i.backgroundColor,s&&!O.isTransparent(s)?((r=t.chart.context.createLinearGradient(0,r,0,2*e.yAxis.bottom-r)).addColorStop(0,s),r.addColorStop(1,i),r):i):s},O.Renderer.OHLC.prototype.drawIndividualSeries=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T=ct,M="st";if(M+="r",M+="ing",!e.invalid){if(i=this.stx,t.context,a=e.colorFunction,r=i.panels[e.panel]||t.panel,"string"==typeof a){n=2;for(var D=1;285452446!==T.h1N(D.toString(),D.toString().length,65919);D++){if(+(a=O.Renderer.colorFunctions[a]))return;n+=2}if(-564365040!==T.j1N(n.toString(),n.toString().length,12872)&&-(a=O.Renderer.colorFunctions[a]))return;if(!(a=O.Renderer.colorFunctions[a]))return}if(s=i.layout.candleWidth-t.tmpWidth<=2&&t.tmpWidth<=3,T.n5O(7),o=T.Y5O(742395872,"4"),T.n5O(2),l=T.w5O(2147483647,"32"),t.state.chartType||(t.state.chartType={}),h=t.state.chartType.pass={},M=i.colorByCandleDirection,e.colorBasis&&(M="open"==e.colorBasis),c=e.histogram,u=e.type,p=e.hollow,d=i.noWicksOnCandles[u],i.startClip(r.name),g=null,f={colors:[],cache:[]},m=[],a)y={isHistogram:c,field:e.field,yAxis:e.yAxis,volume:e.volume,overlayScaling:e.overlayScaling,highlight:e.highlight},c||"bar"!=u?(t="c",t+="a",t+="ndle","candle"!=u||d||i.drawShadows(r,a,y),f=i.drawCandles(r,a,y),y.isOutline=!0,!p&&s||i.drawCandles(r,a,y)):(y.type=e.hlc?"hlc":"bar",f=i.drawBarChart(r,"stx_bar_chart",a,y));else{y="borde",y+="r_colo",y+="r",y+="_even",y="h",y+="oll",y+="o",y+="w",y="border_c",y+="olor_dow",y+="n",y="fill_color_do",y+="wn",y="h",y+="oll",y+="o",y+="w",y="c",y+="and",y+="l",y+="e",y="st",y+="x_hol",y+="low_c",y+="andle_even",y="bo",y+="r",y+="der_color_do",y+="wn",y="fi",y+="ll_",y+="co",y+="lor_down",y="c",y+="an",y+="dle",y="hol",y+="l",y+="ow",y="sha",y+="d",y+="o",y+="w",y="shad",y+="ow",y="ho",y+="l",y+="lo",y+="w",y="stx_h",y+="oll",y+="ow_candle_u",y+="p",y="stx_can",y+="dle_down",y="ca",y+="n",y+="d",y+="le",y="c",y+="andle",y="stx_",y+="candle",y+="_shadow_down",y="bord",y+="er_",y+="color_up",y="ca",y+="n",y+="d",y+="le",y="stx_candle_",y+="sha",y+="dow",y="b",y+="a",y+="r",y="b",y+="a",y+="r",y="stx_b",y+="ar_do",y+="wn",y="b",y+="a",y+="r",y="b",y+="a",y+="r",y="stx_histogra",y+="m_",y+="even",y="h",y+="ist",y+="ogr",y+="am",y="bord",y+="er_colo",y+="r_u",y+="p",y="h",y+="i",y+="stogra",y+="m",b=c&&!1!==e.gradient,v=[{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:l,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:"bar",drawType:"bar",style:e.style||"stx_bar_chart",border:"border_color",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:M?8:1,border:"border_color_up",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:M?16:2,border:"border_color_down",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:M?l:o,border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:8,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:16,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:l,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:1,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:2,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:o,border:"border_color_even",skipIfPass:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:17,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:18,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:16|o,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:9,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:10,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:8|o,fill:"fill_color_even",border:"border_color_even"}];for(var F=0;F<v.length;F++)if(!(S=v[F]).skipIfPass||h.even){if(c){if("histogram"!=S.type)continue}else if("bar"==u){if("bar"!=S.type)continue;if(e.colored&&!S.condition)continue;if(!e.colored&&S.condition)continue}else if(p){if("hollow"!=S.type)continue;if("shadow"==S.drawType&&d)continue}else{if("candle"!=u)continue;if("candle"!=S.type)continue;if("shadow"==S.drawType){if(d)continue;if(C=e.border_color_up||i.getCanvasColor("stx_candle_shadow_up"),k=e.border_color_down||i.getCanvasColor("stx_candle_shadow_down"),x=e.border_color_even||i.getCanvasColor("stx_candle_shadow_even"),O.colorsEqual(C,k)&&O.colorsEqual(C,x)&&O.colorsEqual(C,i.defaultColor)){if(S.condition)continue}else if(!S.condition)continue}}w=i.canvasStyle(S.style),k=this.getColor(i,r,w,!1,!1,e[S.fill]),x=this.getColor(i,r,w,!1,b,e[S.fill]),C=this.getColor(i,r,w,S.useBorderStyleProp&&!s,b,e[S.border]),"candle"==S.drawType&&("hollow"==S.type?(!O.isTransparent(x)&&O.colorsEqual(C,x)&&(C=S.useColorInMap?"transparent":x),S.useColorInMap||(x=i.containerColor)):"candle"==S.type&&s&&(O.isTransparent(x)?x=C:C=x)),m.push(i.drawBarTypeChartInner({fillColor:x,borderColor:C,condition:S.condition,style:S.style,type:e.hlc?"hlc":S.drawType,panel:r,field:e.field,yAxis:e.yAxis,volume:e.volume,overlayScaling:e.overlayScaling,highlight:e.highlight})),g=g||{},S.useColorInMap&&(T.n5O(1),g[k]=T.w5O(841815648,"1"))}}for(var P in i.endClip(),g)e.hollow&&O.equals(P,i.containerColor)||f.colors.push(P);for(P=0;P<m.length;P++)for(var _=0;_<m[P].cache.length;_++)!(A=m[P].cache[_])&&0!==A||(f.cache[_]=A);return f}},O.Renderer.Bars=function(t){this.construct(t),(t=this.params).type="bar",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.hlc=t.volume=t.hollow=t.histogram=!1},O.Renderer.Bars.ciqInheritsFrom(O.Renderer.OHLC,!1),O.Renderer.HLC=function(t){this.construct(t),(t=this.params).type="bar",t.hlc=!0,ct.Q4E(),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.volume=t.hollow=t.histogram=!1},O.Renderer.HLC.ciqInheritsFrom(O.Renderer.Bars,!1),O.Renderer.Candles=function(t){var e,i,a=ct;this.construct(t),e=this.params,i=2;for(var r=1;-1455716104!==a.h1N(r.toString(),r.toString().length,11647);r++)e.type="candle",a.n5O(13),i+=a.Y5O(1,"2");1490557347!==a.j1N(i.toString(),i.toString().length,40014)&&(e.type=""),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.hlc=e.colored=e.histogram=!1,e.volume&&(e.hollow=!0)},O.Renderer.Candles.ciqInheritsFrom(O.Renderer.OHLC,!1),O.Renderer.SimpleHistogram=function(t){this.construct(t),(t=this.params).type="candle",t.histogram=!0,this.barsHaveWidth=this.standaloneBars=!0,this.highLowBars=!1,t.hlc=t.colored=t.hollow=t.volume=!1},O.Renderer.SimpleHistogram.ciqInheritsFrom(O.Renderer.Candles,!1),t},pt[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"NuIJ5",{get:function(){return this},configurable:!0}),e=NuIJ5,i=5;break;case 5:e.Q3U7$=e,i=4;break;case 4:i="undefined"==typeof Q3U7$?3:9;break;case 9:delete e.Q3U7$,delete Object.prototype.NuIJ5,i=6}}catch(t){e=window}return e}}(),pt[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="s3",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="T",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(pt[12018]),pt[366344]=function(t){function e(t){for(;;)return[arguments][0][0]}function i(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments],e=1;break;case 1:return i[0][0].Array}}for(var a=2;60!==a;)switch(a){case 45:r(e,s[89],s[27],s[14]),a=65;break;case 53:s[29]+=s[7],s[14]=s[1],s[14]+=s[7],s[14]+=s[7],a=49;break;case 63:r(i,"push",s[22],s[84]),a=62;break;case 61:r(o,"apply",s[22],s[75]),a=60;break;case 46:var r=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 2:var s=[arguments];s[4]="",s[4]="neProperty",s[9]="efi",s[8]="",s[8]="d",n=8;break;case 8:try{for(var o=2;8!==o;)if(2===o){s[2]={},s[5]=(0,s[0][1])(s[0][0]),s[7]=[s[5],s[5].prototype][s[0][3]],s[2].value=s[7][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[1]=s[8],s[1]+=s[9],s[1]+=s[4],s[0][0].Object[s[1]](s[7],s[0][4],s[2]),l=3)}catch(t){}s[7][s[0][4]]=s[2].value,o=8}}catch(t){}n=7}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};a=45;break;case 35:s[75]+=s[5],s[57]=s[3],s[57]+=s[7],s[57]+=s[7],a=31;break;case 24:s[27]=3,s[27]=0,s[75]=s[23],s[75]+=s[42],a=35;break;case 62:r(e,s[77],s[27],s[57]),a=61;break;case 40:s[99]+=s[5],s[19]=s[65],s[19]+=s[65],s[19]+=s[8],s[29]=s[6],s[29]+=s[58],a=53;break;case 44:s[84]+=s[42],s[84]+=s[5],s[99]=s[35],s[99]+=s[42],a=40;break;case 65:r(n,"test",s[22],s[29]),a=64;break;case 16:s[63]="resi",s[10]="O",s[61]="__",s[23]="w",s[22]=1,a=24;break;case 49:s[89]=s[65],s[89]+=s[4],s[89]+=s[9],a=46;break;case 20:s[35]="M",s[58]="21",s[65]="_",s[42]="2",a=16;break;case 13:s[5]="11",s[2]="dual",s[3]="D2",s[7]="1",a=20;break;case 3:s[1]="R2",s[6]="",s[6]="T",s[8]="",s[8]="optimize",s[5]="",a=13;break;case 64:r(e,s[19],s[27],s[99]),a=63;break;case 31:s[77]=s[61],s[77]+=s[63],s[77]+=s[2],s[84]=s[10],a=44;break;case 2:var s=[arguments];s[4]="_abstrac",s[1]="",s[9]="t",a=3}function n(t){for(;;)return[arguments][0][0].RegExp}function o(t){for(;;)return[arguments][0][0].Function}}(pt[12018]),pt[372105]={a2k:function(){var t,e=arguments;switch(F){case 10:t=(e[2]+e[1])/e[0];break;case 1:t=e[1]<<e[0];break;case 13:t=e[1]*e[0];break;case 20:t=e[1]-e[0]-e[2];break;case 33:t=e[2]/(e[0]>>e[1]);break;case 15:t=e[3]+e[2]+e[1]+e[0];break;case 16:t=e[1]|e[0];break;case 7:t=e[0]-(e[2]-e[1]);break;case 22:t=e[2]+e[0]/(e[3]>>e[1]);break;case 28:t=e[2]-e[3]*e[0]*e[1];break;case 31:t=e[2]*e[1]/e[0];break;case 9:t=e[1]-e[0];break;case 2:t=e[0]>>e[1];break;case 27:t=e[1]*-(e[2]-e[0]);break;case 14:t=(e[1]-e[0])/e[2];break;case 3:t=e[0]/e[1];break;case 8:t=e[1]*+e[0];break;case 32:t=e[1]*(e[2]/e[0]);break;case 24:t=e[4]-e[3]/(e[0]&e[2])+e[1];break;case 25:t=e[0]==e[1];break;case 17:t=e[0]+ +e[1];break;case 29:t=e[0]-e[3]-(e[1]-e[2]);break;case 26:t=(e[0]&e[1])-e[2];break;case 23:t=e[0]*-+e[1];break;case 12:t=e[1]<e[0];break;case 21:t=e[0]-(e[1]<<e[2]);break;case 11:t=e[0]-+e[1];break;case 19:t=e[3]-e[2]-e[1]+e[0];break;case 30:t=e[1]*(e[0]+e[2]/e[3]);break;case 6:t=e[0]&e[1];break;case 18:t=e[0]+e[2]*e[1];break;case 5:t=e[1]+e[0]+e[2];break;case 0:t=e[0]^e[1];break;case 4:t=e[1]+e[0]}return t},f2k:function(t){F=t}},pt[603030]=452,pt.L2k=function(){return"function"==typeof pt[372105].a2k?pt[372105].a2k.apply(pt[372105],arguments):pt[372105].a2k},pt[440061]=pt[3727],(pt[12018].D6uu=pt)[160123]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[8];case 2:var e=[arguments];e[3]=void 0,e[8]={},e[8].U9S=function(){for(var t=2;90!==t;)switch(t){case 12:a[5]=a[9],a[4]={},a[4].e3k=["r3k"],t=20;break;case 2:var a=[arguments],t=1;break;case 75:a[22]={},a[22][a[82]]=a[30][a[64]][a[24]],a[22][a[57]]=a[26],t=72;break;case 1:t=e[3]?5:4;break;case 5:return 68;case 58:a[15]=0,t=57;break;case 70:a[15]++,t=57;break;case 61:a[57]="O3k",a[27]="K3k",a[82]="G3k",t=58;break;case 17:a[2].e3k=["m3k"],a[2].K3k=function(){return"function"==typeof M211},a[3]=a[2],a[45]={},a[45].e3k=["m3k"],t=25;break;case 39:a[14]={},a[14].e3k=["m3k"],a[14].K3k=function(){return"function"==typeof D211},a[37]=a[14],t=54;break;case 43:a[31]={},a[31].e3k=["r3k"],a[31].K3k=function(){return/\x74\u0072\x75\u0065/.T211(function(){return"A".normalize("NFC")==="".normalize("NFC")}+[])},a[38]=a[31],t=39;break;case 56:a[30]=a[6][a[15]];try{a[26]=a[30][a[27]]()?a[62]:a[61]}catch(t){a[26]=a[61]}t=77;break;case 68:t=68;break;case 20:a[4].K3k=function(){return/\u0058/.T211(function(){return"x".toUpperCase()}+[])},a[7]=a[4],a[2]={},t=17;break;case 57:t=a[15]<a[6].length?56:69;break;case 25:a[45].K3k=function(){var t=!1,e=[];try{for(var i in console)e.O211(i);t=0===e.length}catch(t){}return t},a[28]=a[45],t=23;break;case 49:a[6].O211(a[87]),a[6].O211(a[7]),a[6].O211(a[47]),a[6].O211(a[8]),t=45;break;case 30:a[50]={},a[50].e3k=["r3k"],a[50].K3k=function(){return/\x78\x78/.T211(function(){return"x".repeat(2)}+[])},a[87]=a[50],t=43;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 17:i[1]=0,e=16;break;case 20:i[2][i[9][a[82]]].h+=!0,e=19;break;case 7:e=i[1]<i[0][0].length?6:18;break;case 26:e=.5<=i[7]?25:24;break;case 8:i[1]=0,e=7;break;case 4:i[2]={},i[6]=[],i[1]=0,e=8;break;case 5:return;case 11:i[2][i[9][a[82]]].t+=!0,e=10;break;case 1:e=0===i[0][0].length?5:4;break;case 23:return i[3];case 14:e=void 0===i[2][i[9][a[82]]]?13:11;break;case 2:var i=[arguments],e=1;break;case 6:i[9]=i[0][0][i[1]],e=14;break;case 25:i[3]=!0,e=24;break;case 24:i[1]++,e=16;break;case 12:i[6].O211(i[9][a[82]]),e=11;break;case 13:i[2][i[9][a[82]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[9]={},e[9].h=0,e[9].t=0,t=3;break;case 3:return e[9]}}.w211(this,arguments),e=12;break;case 19:i[1]++,e=7;break;case 15:i[4]=i[6][i[1]],i[7]=i[2][i[4]].h/i[2][i[4]].t,e=26;break;case 10:e=i[9][a[57]]===a[62]?20:19;break;case 16:e=i[1]<i[6].length?15:23;break;case 18:i[3]=!1,e=17}}(a[90])?68:67;break;case 76:t=a[24]<a[30][a[64]].length?75:70;break;case 34:a[81]={},a[81].e3k=["r3k"],a[81].K3k=function(){return/(\x3c|\x3e)/.T211(function(){return"a".anchor("b")}+[])},a[47]=a[81],t=30;break;case 7:a[8]=a[1],a[9]={},a[9].e3k=["r3k"],a[9].K3k=function(){return!/['"]/.T211(function(){return"c".indexOf("c")}+[])},t=12;break;case 67:return e[3]=33,23;case 23:a[96]={},a[96].e3k=["r3k"],a[96].K3k=function(){return/\u0031\u0039\u0032/.T211(function(){!function(){for(var t=0;t<20;t++)0}()}+[])},a[34]=a[96],t=34;break;case 45:a[6].O211(a[3]),a[90]=[],a[62]="W2k",a[61]="Z2k",a[64]="e3k",t=61;break;case 72:a[90].O211(a[22]),t=71;break;case 77:a[24]=0,t=76;break;case 4:a[6]=[],a[1]={},a[1].e3k=["m3k"],a[1].K3k=function(){return"function"==typeof R211},t=7;break;case 54:a[6].O211(a[5]),a[6].O211(a[28]),a[6].O211(a[38]),a[6].O211(a[34]),a[6].O211(a[37]),t=49;break;case 71:a[24]++,t=76}},t=3}}(),pt.l6t=function(){return"function"==typeof pt[160123].U9S?pt[160123].U9S.apply(pt[160123],arguments):pt[160123].U9S},pt.Q5F=function(){return"function"==typeof pt[152846].e3W?pt[152846].e3W.apply(pt[152846],arguments):pt[152846].e3W},pt.R2k=function(){return"function"==typeof pt[372105].f2k?pt[372105].f2k.apply(pt[372105],arguments):pt[372105].f2k},pt.d5F=function(){return"function"==typeof pt[152846].e3W?pt[152846].e3W.apply(pt[152846],arguments):pt[152846].e3W},pt[647112]=pt[160123],pt[152846]={e3W:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.s3TT(n)|(255&t.s3TT(n+1))<<8|(255&t.s3TT(n+2))<<16|(255&t.s3TT(n+3))<<24,s=dt(s,3432918353),a=5*(a=(524287&(a^=s=dt(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.s3TT(2+r))<<16;case 2:s|=(255&t.s3TT(1+r))<<8;case 1:s|=255&t.s3TT(r),s=dt(s,3432918353),a^=s=dt(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=dt(a^=a>>>16,2246822507),a=dt(a^=a>>>13,3266489909),a^=a>>>16}},pt.Q2k=function(){return"function"==typeof pt[372105].f2k?pt[372105].f2k.apply(pt[372105],arguments):pt[372105].f2k},pt.X6t=function(){return"function"==typeof pt[160123].U9S?pt[160123].U9S.apply(pt[160123],arguments):pt[160123].U9S},pt.I2k=function(){return"function"==typeof pt[372105].a2k?pt[372105].a2k.apply(pt[372105],arguments):pt[372105].a2k},pt.l6t(),P=function(t,e){var I,C,u,l,j=pt;return j.X6t(),I=t.CIQ,t.$$,C=t.$$$,u=t.SplinePlotter,l=t.timezoneJS,I.ChartEngine=function(t){j.X6t(),(t=t||{container:null}).constructor==HTMLDivElement&&(t={container:t}),this.markers={},this.panels={},this.overlays={},this.charts={},this.eventListeners=[],this.animations={zoom:new I.EaseMachine(Math.easeOutCubic,400)},this.callbacks={studyOverlayEdit:null,studyPanelEdit:null,tap:null,rightClick:null,longhold:null,move:null,layout:null,drawing:null,preferences:null,theme:null,symbolChange:null,symbolImport:null,calculateTradingDecimalPlaces:I.calculateTradingDecimalPlaces},this.controls={},this.goneVertical=!1,this.pinchingScreen=!1,this.grabbingScreen=!1,this.grabStartX=0,this.grabStartY=0,this.grabStartScrollX=0,this.grabStartScrollY=0,this.swipe={},this.yTolerance=100,this.minimumLeftBars=1,this.grabStartCandleWidth=0,this.grabStartZoom=0,this.grabOverrideClick=!1,this.grabMode="",this.vectorsShowing=!1,this.mouseMode=!0,this.reverseMouseWheel=!1,this.mouseWheelAcceleration=!0,this.minimumCandleWidth=1,this.minimumZoomTicks=9,this.allowZoom=!0,this.allowScroll=!0,this.allowSideswipe=!0,this.allowThreeFingerTouch=!1,this.bypassRightClick={series:!1,study:!1,drawing:!1},this.anyHighlighted=!1,this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),this.displayCrosshairs=!0,this.hrPanel=null,this.editingAnnotation=!1,this.openDialog="",this.displayIconsUpDown=!0,this.displayIconsSolo=!0,this.displayIconsClose=!0,this.displayPanelResize=!0,this.soloPanelToFullScreen=!1,this.markerDelay=0,this.useBackingStore=!0,this.disableBackingStoreDuringTouch=I.isMobile,this.manageTouchAndMouse=!0,this.captureTouchEvents=!0,this.captureMouseWheelEvents=!0,this.touches=[],this.changedTouches=[],this.crosshairTick=null,this.crosshairValue=null,this.yaxisLabelStyle="roundRectArrow",this.axisBorders=null,this.pt={x1:-1,x2:-1,y1:-1,y2:-1},this.moveA=-1,this.moveB=-1,this.touchStartTime=-1,this.gestureStartDistance=-1,j.R2k(0),this.grabStartPeriodicity=j.L2k("1",0),j.Q2k(0),this.grabEndPeriodicity=-j.I2k("1",0),this.scrollEvent=null,this.cmd=!1,this.ctrl=!1,this.shift=!1,this.userPointerDown=!1,this.cloneDrawing=!1,this.singleDrawingHighlight=!0,j.Q2k(1),this.crosshairXOffset=-j.I2k(799911744,"40"),this.crosshairYOffset=-40,this.displayInitialized=!1,this.cx=null,this.cy=null,this.extendLastTick=!1,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.cancelTouchSingleClick=!1,this.layout={interval:"day",periodicity:1,timeUnit:null,candleWidth:8,volumeUnderlay:!1,adj:!0,crosshair:!1,chartType:"candle",extended:!1,marketSessions:{},aggregationType:"ohlc",chartScale:"linear",studies:{},panels:{},setSpan:{}},this.preferences={highlightsRadius:10,highlightsTapRadius:30,currentPriceLine:!1,drawings:null,magnet:!1,horizontalCrosshairField:null,labels:!0,language:null,timeZone:null,whitespace:50,zoomInSpeed:null,zoomOutSpeed:null,zoomAtCurrentMousePosition:!1},this.streamParameters={count:0,maxWait:1e3,maxTicks:100,timeout:-1,fillGaps:!0},this.translationCallback=null,this.locale=null,this.dataZone=null,this.displayZone=null,this.timeZoneOffset=0,this.changeCallback=null,this.masterData=null,this.transformDataSetPre=null,this.transformDataSetPost=null,this.dataCallback=null,this.dontRoll=!1,this.allowEquations=!0,this.drawingObjects=[],this.undoStamps=[],this.cleanupGaps=!1,this.staticRange=!1,this.maxDataSetSize=2e4,this.maxMasterDataSize=0,this.resizeDetectMS=1e3,this.xAxisAsFooter=!0,this.xaxisHeight=30,this.displayGridLinesInStudies=!1,this.escapeOnSerialize=!0,this.chart=new I.ChartEngine.Chart,this.chart.name="chart",this.chart.canvas=null,this.chart.tempCanvas=null,this.chart.container=t.container,this.chart.market=new I.Market,this.candleWidthPercent=.65,this.colorByCandleDirection=!1,this.noWicksOnCandles={renko:!0,linebreak:!0},this.fetchMaximumBars={rangebars:!0,kagi:!0,renko:!0,linebreak:!0,pandf:!0},this.mainSeriesRenderer=null,this.highLowBars={bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,wave:!0,rangechannel:!0,none:!0},this.standaloneBars={bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,histogram:!0,scatterplot:!0},this.barsHaveWidth={bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,histogram:!0,scatterplot:!0,wave:!0},this.autoPickCandleWidth={turnOn:!1,candleWidth:5},this.staticRangePeriodicityMap=[{rangeInMS:I.WEEK,periodicity:1,interval:5,timeUnit:"minute"},{rangeInMS:I.MONTH,periodicity:1,interval:30,timeUnit:"minute"},{rangeInMS:I.YEAR,periodicity:1,interval:"day"},{rangeInMS:I.DECADE,periodicity:1,interval:"week"},{rangeInMS:10*I.DECADE,periodicity:1,interval:"month"},{rangeInMS:Number.MAX_VALUE,periodicity:12,interval:"month"}],this.dynamicRangePeriodicityMap=[{interval:1,timeUnit:"minute",rangeInMS:I.MINUTE},{interval:5,timeUnit:"minute",rangeInMS:5*I.MINUTE},{interval:30,timeUnit:"minute",rangeInMS:30*I.MINUTE},{interval:60,timeUnit:"minute",rangeInMS:60*I.MINUTE},{interval:"day",rangeInMS:I.DAY},{interval:"month",rangeInMS:I.MONTH},{interval:"year",rangeInMS:I.YEAR}],this.charts.chart=this.chart,this.styles={},this.currentVectorParameters=I.clone(I.ChartEngine.currentVectorParameters),I.extend(this,t),t.container&&(this.registerHTMLElements(),this.chart.width=this.chart.container.clientWidth-this.chart.yAxis.width,this.setCandleWidth(this.layout.candleWidth,this.chart),this.chart.canvasHeight=this.chart.container.clientHeight,I.useOldWheelLogic&&!I.FireFoxWheelWorkaround&&(t=I.isIE?function(t){var e;if(j.X6t(),I.ChartEngine.insideChart){t.preventDefault();for(var i=0;i<I.ChartEngine.registeredContainers.length;i++)e=I.ChartEngine.registeredContainers[i].stx,I.ChartEngine.crosshairX>=e.left&&I.ChartEngine.crosshairX<=e.right&&I.ChartEngine.crosshairY>=e.top&&I.ChartEngine.crosshairY<=e.bottom&&e.mouseWheel(t,"onmousewheel")}}:function(t){j.X6t(),I.ChartEngine.insideChart&&t.preventDefault()},this.addDomEventListener(document.body,"wheel",t),I.FireFoxWheelWorkaround=!0)),this.construct()},I.ChartEngine.drawingLine=!1,I.ChartEngine.resizingPanel=null,I.ChartEngine.vectorType="",I.ChartEngine.crosshairX=0,I.ChartEngine.crosshairY=0,I.ChartEngine.insideChart=!1,I.ChartEngine.overXAxis=!1,I.ChartEngine.overYAxis=!1,I.ChartEngine.currentColor="auto",I.ChartEngine.drawingTools={},I.ChartEngine.useAnimation=!0,I.ChartEngine.ipadMaxTicks=1500,I.ChartEngine.enableCaching=!1,I.ChartEngine.ignoreTouch=!1,I.ChartEngine.useOldAndroidClear=!0,I.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!0,fibonacci:{trend:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},fibs:[{level:-.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:2.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}],extendLeft:!1,printLevels:!0,printValues:!1,timezone:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}},annotation:{font:{style:null,size:null,weight:null,family:null}}},I.ChartEngine.defaultDisplayTimeZone=null,I.ChartEngine.Chart=function(){this.xAxis=new I.ChartEngine.XAxis,this.yAxis=new I.ChartEngine.YAxis,this.symbolObject={symbol:null},this.series={},this.seriesRenderers={},this.xaxis=[],this.state={},this.endPoints={},this.defaultChartStyleConfig={},j.X6t(),this.baseline=I.clone(this.baseline)},I.ChartEngine.YAxis=function(t){for(var e in j.l6t(),t)this[e]=t[e];this.name||(this.name=I.uniqueID())},I.ChartEngine.XAxis=function(t){for(var e in j.X6t(),t)this[e]=t[e]},I.ChartEngine.Panel=function(t,e){j.X6t(),this.yAxis=e||new I.ChartEngine.YAxis,this.name=t,this.state={}},I.extend(I.ChartEngine.YAxis.prototype,{high:null,low:null,shadow:null,logHigh:null,logLow:null,logShadow:null,multiplier:null,bottom:null,top:null,height:null,left:null,width:null},!0),I.ChartEngine.YAxis.prototype.maxDecimalPlaces=null,I.ChartEngine.YAxis.prototype.max=null,I.ChartEngine.YAxis.prototype.min=null,I.ChartEngine.YAxis.prototype.decimalPlaces=null,I.ChartEngine.YAxis.prototype.idealTickSizePixels=null,I.ChartEngine.YAxis.prototype.minimumPriceTick=null,I.ChartEngine.YAxis.prototype.fractional=null,I.ChartEngine.YAxis.prototype.displayBorder=!0,I.ChartEngine.YAxis.prototype.displayGridLines=!0,I.ChartEngine.YAxis.prototype.noDraw=null,I.ChartEngine.YAxis.prototype.drawCurrentPriceLabel=!0,I.ChartEngine.YAxis.prototype.drawSeriesPriceLabels=!0,I.ChartEngine.YAxis.prototype.drawPriceLabels=!0,I.ChartEngine.YAxis.prototype.goldenRatioYAxis=!0,I.ChartEngine.YAxis.prototype.yaxisLabelStyle=null,I.ChartEngine.YAxis.prototype.justifyRight=null,I.ChartEngine.YAxis.prototype.textBackground=!1,I.ChartEngine.YAxis.prototype.priceFormatter=null,I.ChartEngine.YAxis.prototype.bottomOffset=0,I.ChartEngine.YAxis.prototype.topOffset=0,I.ChartEngine.YAxis.prototype.initialMarginTop=10,I.ChartEngine.YAxis.prototype.initialMarginBottom=10,I.ChartEngine.YAxis.prototype.zoom=0,j.Q2k(2),I.ChartEngine.YAxis.prototype.scroll=j.L2k("0",1702940320),Object.defineProperty(I.ChartEngine.YAxis.prototype,"width",{configurable:!0,enumerable:!0,get:function(){return j.l6t(),this._dynamicWidth||this._width},set:function(t){this._width=t,this._dynamicWidth<t&&(this._dynamicWidth=NaN)}}),I.ChartEngine.YAxis.prototype.width=50,I.ChartEngine.YAxis.prototype.textStyle=null,I.ChartEngine.YAxis.prototype.position=null,j.Q2k(2),I.ChartEngine.YAxis.defaultShadowBreaks=[[1e3,j.L2k("2",1715884128)],[5,4],[.001,8]],I.ChartEngine.YAxis.smallChartShadowBreaks=[[10,2],[1,4]],I.ChartEngine.YAxis.prototype.pretty=!0,I.ChartEngine.YAxis.prototype.increments=[1,2.5,5],I.ChartEngine.YAxis.prototype.prettySemiLog=!0,I.ChartEngine.YAxis.prototype.shadowBreaks=I.ChartEngine.YAxis.defaultShadowBreaks,I.extend(I.ChartEngine.Panel.prototype,{name:null,display:null,chart:null,yAxis:null,shareChartXAxis:null,top:null,bottom:null,height:null,percent:null},!0),I.extend(I.ChartEngine.XAxis.prototype,{formatter:null,adjustTimeZone:!0,idealTickSizePixels:null,timeUnit:null,timeUnitMultiplier:null,displayBorder:!0,displayGridLines:!0,noDraw:null,minimumLabelWidth:50,futureTicks:!0,futureTicksInterval:1},!0),I.extend(I.ChartEngine.Chart.prototype,{symbol:null,symbolObject:{symbol:null},symbolDisplay:null,series:{},seriesRenderers:{},scroll:0,standStill:0,maxTicks:0,tension:null,currentMarketData:{},masterData:null,dataSet:null,scrubbed:null,dataSegment:null,segmentImage:null,baseline:{includeInDataSegment:!1,defaultLevel:null,userLevel:null,actualLevel:null},xAxis:null,xaxis:[],xaxisFactor:30,decimalPlaces:2,dynamicYAxis:!1,roundit:100,legendRenderer:I.drawLegend,customChart:null,yaxisPaddingRight:null,yaxisPaddingLeft:null,tickCache:{},allowScrollPast:!0,allowScrollFuture:!0,whiteSpaceFutureTicks:0,hideDrawings:!1,defaultPlotField:"Close",defaultChartStyleConfig:{},lockScroll:!1,includeOverlaysInMinMax:!0,gaplines:null,lineStyle:null,lineApproximation:!0,highLowBars:!1,standaloneBars:!1,barsHaveWidth:!1},!0),I.ChartEngine.prototype.setDrawingContainer=function(t){j.l6t(),this.drawingContainer=t},I.ChartEngine.prototype.isHistoricalMode=function(){var t,e=new Date,i=!0,a=this.masterData;return j.X6t(),!!this.isHistoricalModeSet&&(a.length&&(a=this.getFirstLastDataRecord(a,"DT",!0),(i=(a=this.standardMarketIterator(a.DT)).next()<=e)&&I.ChartEngine.isDailyInterval(a.interval)&&(t=this.chart.market.getOpen())&&e<t&&(e.setHours(0,0,0,0),+e==+a.begin&&(i=!1))),i)},I.ChartEngine.prototype.convertToDataZone=function(t){var e;return(t||0===t)&&this.dataZone&&(e=I.convertTimeZone(t,null,this.dataZone),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),t},I.ChartEngine.isDailyInterval=function(t){return j.l6t(),"day"==t||("week"==t||"month"==t)},I.ChartEngine.prototype.needDifferentData=function(t){var e,i,a,r="mi";return r+="nut",r+="e",e=this.layout,i=I.ChartEngine.isDailyInterval(t.interval),a=I.ChartEngine.isDailyInterval(e.interval),r=!1,this.dontRoll||!a?e.interval!=t.interval&&(r=!0):i!=a&&(r=!0),i||t.timeUnit||(t.timeUnit="minute"),a||e.timeUnit||(e.timeUnit="minute"),t.timeUnit!=e.timeUnit&&(r=!0),r},I.ChartEngine.chartShowsHighs=function(t){return console.warn("CIQ.ChartEngine.chartShowsHighs() has been deprecated. Please check one of the appropriate renderer properties instead: stxx.chart.highLowBars, stxx.chart.standaloneBars, or stxx.chart.barsHaveWidth."),1!={line:1,colored_line:1,mountain:1,colored_mountain:1,baseline_delta:1,baseline_delta_mountain:1,histogram:1,scatterplot:1,step:1,colored_step:1}[t]},I.ChartEngine.prototype.debug=function(){},I.ChartEngine.prototype.fps=function(i,a){var r,n,s;i=i||5,j.l6t(),r=(new Date).getTime(),n=0,s=this,j.R2k(5),console.log(j.I2k(i,"Running fps() for "," seconds")),function t(){var e=((new Date).getTime()-r)/1e3;if(i<e){if(j.Q2k(3),e=j.I2k(n,e),j.Q2k(4),console.log(j.L2k(e,"FPS=")),a&&a(e),e=1,-1277356441!==j.d5F(e.toString(),e.toString().length,70046))return;if(-508805809!==j.d5F(2..toString(),2..toString().length,2531))return}s.draw(),n++,I.ChartEngine.useAnimation?requestAnimationFrame(t):setTimeout(t,0)}()},t.STXChart=I.ChartEngine,I.ChartEngine.DrawingDescriptor={name:"",render:null,intersected:null,click:null,abort:null},I.ChartEngine.prototype.prepend=function(t,e){var i;return j.Q2k(4),t=j.L2k(t,"prepend"),this instanceof I.ChartEngine?(i=this.hasOwnProperty(t)?this[t]:[],this[t]=[e].concat(i)):(i=I.ChartEngine.prototype[t]||[],I.ChartEngine.prototype[t]=[e].concat(i)),{method:t,func:e}},I.ChartEngine.prototype.append=function(t,e){var i;return j.R2k(4),t=j.L2k(t,"append"),this instanceof I.ChartEngine?(i=this.hasOwnProperty(t)?this[t]:[],this[t]=i.concat(e)):(i=I.ChartEngine.prototype[t]||[],I.ChartEngine.prototype[t]=i.concat(e)),{method:t,func:e}},I.ChartEngine.prototype.removeInjection=function(t){var e,i=t.method;if(this instanceof I.ChartEngine){if(this[i])for(e=0;e<this[i].length;e++)if(this[i][e]==t.func)return void this[i].splice(e,1)}else if(I.ChartEngine.prototype[i])for(e=0;e<I.ChartEngine.prototype[i].length;e++)if(I.ChartEngine.prototype[i][e]==t.func)return void I.ChartEngine.prototype[i].splice(e,1)},I.ChartEngine.prototype.remove=function(t){j.l6t(),this instanceof I.ChartEngine?(j.Q2k(4),delete this[j.L2k(t,"append")],j.Q2k(4),delete this[j.L2k(t,"prepend")]):(j.Q2k(4),delete I.ChartEngine.prototype[j.I2k(t,"append")],j.R2k(4),delete I.ChartEngine.prototype[j.L2k(t,"prepend")])},I.ChartEngine.registeredContainers=[],I.ChartEngine.handleContextMenu=function(t){var e;t=t||event;for(var i=0;i<I.ChartEngine.registeredContainers.length;i++)if(e=I.ChartEngine.registeredContainers[i].stx,e&&e.anyHighlighted)return t.preventDefault&&t.preventDefault(),!1},I.ChartEngine.prototype.positionMarkers=function(){},I.ChartEngine.prototype.plugins={},I.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;">save</span>',annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;">cancel</span>',mSticky:'<div class="stx_sticky"> <span class="mStickyInterior"></span> <span class="mStickyRightClick"><span class="overlayEdit stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="overlayTrashCan stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="mouseDeleteInstructions"><span>(</span><span class="mouseDeleteText">right-click to delete</span><span class="mouseManageText">right-click to manage</span><span>)</span></span></span></div>',crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>'},I.ChartEngine.prototype.registerHTMLElements=function(){var t,e,i,a,r,n,s,o,l,h,c=this.chart.container;for(s in I.ChartEngine.htmlControls)i="undef",i+="ined",void 0===this.chart[s]&&void 0===this.controls[s]&&(!this.allowZoom&&"chartControls"==s||(j.Q2k(4),(t=C(j.L2k(s,"."),c))?(this.chart[s]=t,this.controls[s]=t):(e=I.ChartEngine.htmlControls[s])&&((i=document.createElement("DIV")).innerHTML=e,t=i.firstChild,c.appendChild(t),this.chart[s]=t,this.controls[s]=t,I.appendClassName(t,s))));n=this.controls.chartControls,a=this.controls.home,n&&(r=C(".stx-zoom-in",n),n=C(".stx-zoom-out",n),I.safeClickTouch(r,(l=this,j.l6t(),function(t){l.zoomIn(t),j.X6t(),t.stopPropagation()})),I.safeClickTouch(n,(o=this,function(t){o.zoomOut(t),j.l6t(),t.stopPropagation()})),I.touchDevice||(this.makeModal(r),this.makeModal(n))),a&&(I.safeClickTouch(a,(h=this,j.X6t(),function(t){j.X6t(),t.stopPropagation(),h.isHistoricalMode()?(delete h.layout.range,h.newChart(h.chart.symbol,null,null,function(){h.home({animate:!1})},null)):h.home({animate:!0})})),I.touchDevice||this.makeModal(a))},I.ChartEngine.prototype.makeModal=function(t){var e=this;t.onmouseover=function(t){e.modalBegin()},t.onmouseout=function(t){j.X6t(),e.modalEnd()}},I.ChartEngine.prototype.cloneStyle=function(t){var e,i,a,r,n,s,o={},l=!1;for(s in t)if(e=t[s],"backgroundAttachment"==s&&(l=!0),l)e&&e.constructor==String&&isNaN(s)&&(o[s]=e);else if(isNaN(s))o[s.replace(I.camelCaseRegExp,h)]=e;else if(i=t.getPropertyValue(e)){for(a=0,r=(e=e.split("-")).length,n=e[0];++a<r;)n+=e[a].charAt(0).toUpperCase()+e[a].slice(1);o[n]=i}function h(t){return t[1].toUpperCase()}return o},I.ChartEngine.prototype.canvasStyle=function(t){var e,i,a=this.styles[t];return a||((e=document.createElement("div")).className=t,this.container.appendChild(e),i=getComputedStyle(e),a=this.styles[t]=this.cloneStyle(i),this.container.removeChild(e),i||(this.styles[t]=null)),a},I.ChartEngine.prototype.colorOrStyle=function(t){var e;if(-1!=t.indexOf("#"))return t;if(-1!=t.indexOf("("))return t;j.l6t(),e=2;for(var i=1;-1674057424!==j.Q5F(i.toString(),i.toString().length,4842);i++){if("transparent"==t)return t;e+=2}return 646182501!==j.d5F(e.toString(),e.toString().length,3214)&&""!=t?t:this.canvasStyle(t)},I.ChartEngine.prototype.clearStyles=function(){this.styles={}},I.ChartEngine.prototype.setStyle=function(t,e,i){this.styles[t]||this.canvasStyle(t),this.styles[t]||(this.styles[t]={}),this.styles[t][I.makeCamelCase(e)]=i},I.ChartEngine.prototype.canvasFont=function(t,e){var i;e=e||this.chart.context,j.l6t(),(i=this.canvasStyle(t))&&(-1==(i=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily).indexOf("undefined")?e.font=i:(i="bad css styl",i+="e for class ",this.styles[t]=null,j.R2k(4),console.log(j.L2k(t,"bad css style for class "))))},I.ChartEngine.prototype.canvasColor=function(t,e){var i;e=e||this.chart.context,(i=this.canvasStyle(t))&&(t=(t=i.color)||this.defaultColor,e.globalAlpha=1,e.fillStyle=t,e.strokeStyle=t,void 0!==(i=i.opacity)&&(e.globalAlpha=i))},I.ChartEngine.prototype.getCanvasFontSize=function(t){t=this.canvasStyle(t).fontSize;return t=t||"12",parseInt(I.stripPX(t),10)},I.ChartEngine.prototype.getCanvasColor=function(t){t=this.canvasStyle(t);return j.X6t(),t.color},I.ChartEngine.hideDates=function(){return j.l6t(),!1},I.ChartEngine.prototype.runPrepend=function(t,e,i){var a,r;if(j.R2k(4),t=j.I2k(t,"prepend"),a=(a=this.hasOwnProperty(t)?this[t]:[]).concat(I.ChartEngine.prototype[t]||[]),j.X6t(),!a.length)return!1;i=i||this;for(var n=0;n<a.length;n++)if(r=a[n].apply(i,e))return r;return!1},I.ChartEngine.prototype.runAppend=function(t,e,i){var a,r;if(j.R2k(4),t=j.I2k(t,"append"),a=this.hasOwnProperty(t)?this[t]:[],j.l6t(),!(a=a.concat(I.ChartEngine.prototype[t]||[])).length)return!1;i=i||this;for(var n=0;n<a.length;n++)if(r=a[n].apply(i,e))return r;return!1},I.ChartEngine.registerDrawingTool=function(t,e){I.ChartEngine.drawingTools[t]=e},I.ChartEngine.prototype.createBlock=function(t,e,i,a,r,n){n=n||this.chart.context,void 0!==a&&(this.canvasColor(r,n),j.X6t(),n.fillRect(t,i,e,a),n.globalAlpha=1)},I.ChartEngine.prototype.changeOccurred=function(t){var e,i;if(j.l6t(),!this.currentlyImporting)if(this.changeCallback&&(console.warn("CIQ.ChartEngine.changeCallback has been deprecated. Please use addEventListener()"),this.changeCallback(this,t)),e={stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout,drawings:this.drawingObjects},"layout"==t){i=2;for(var a=1;-456702209!==j.Q5F(a.toString(),a.toString().length,74551);a++)this.dispatch("",e),i+=2;-439738667!==j.d5F(i.toString(),i.toString().length,56824)&&this.dispatch("",e),this.dispatch("layout",e)}else"vector"==t?this.dispatch("drawing",e):"theme"==t?this.dispatch("theme",e):"preferences"==t&&(t="pre",t+="fe",t+="rences",this.dispatch("preferences",e))},I.ChartEngine.prototype.setChartType=function(t){var e=this.layout,i=this.chart;"ohlc"!=e.aggregationType&&(e.aggregationType="ohlc",i.canvas&&this.createDataSet()),e.chartType=t,this.setMainSeriesRenderer(!0),i.defaultChartStyleConfig={type:t},this.displayInitialized&&this.draw(),this.changeOccurred("layout")},I.ChartEngine.prototype.setAggregationType=function(t){var e,i,a;j.Q2k(0),j.X6t(),e=j.L2k("3834339",0),i=2;for(var r=1;j.Q5F(r.toString(),r.toString().length,53314)!==e;r++)this.layout.chartType="candle",a=this.chart,i+=2;767384515!==j.d5F(i.toString(),i.toString().length,18966)&&(this.layout.chartType="",a=this.chart),!1!==a.baseline.userLevel&&(a.baseline.userLevel=a.baseline.defaultLevel,a.panel.yAxis.scroll=I.ChartEngine.YAxis.prototype.scroll),this.layout.aggregationType=t,this.setMainSeriesRenderer(),a.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},I.ChartEngine.prototype.setChartScale=function(t){var e,i,a;if(j.X6t(),e=this.chart,(i={percent:!0,relative:!0})[t=t||"linear"])this.setComparison(t,e,I.Comparison.initialPrice);else if(i[this.layout.chartScale]){for(var r in a=!1,e.series)e.series[r].parameters.isComparison&&(a=!0);a||this.setComparison(!1,e)}this.layout.chartScale=t,e.canvas&&this.draw(),this.changeOccurred("layout")},I.ChartEngine.prototype.setAdjusted=function(t){j.l6t(),this.layout.adj=t,this.chart.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},I.ChartEngine.prototype.setVolumeUnderlay=function(t){this.layout.volumeUnderlay=t,this.chart.canvas&&this.draw(),j.X6t(),this.changeOccurred("layout")},I.ChartEngine.prototype.serializeDrawings=function(){return j.l6t(),console.warn("CIQ.ChartEngine.serializeDrawings() has been deprecated. Please use exportDrawings()"),this.exportDrawings()},I.ChartEngine.prototype.exportDrawings=function(){for(var t=[],e=0;e<this.drawingObjects.length;e++)t.push(this.drawingObjects[e].serialize());return t},I.ChartEngine.prototype.abortDrawings=function(t){var e;!1!==t&&(t=!0);for(var i=this.drawingObjects.length-1;0<=i;i--)(e=this.drawingObjects[i]).abort(!0),!t&&e.permanent||this.drawingObjects.splice(i,1)},I.ChartEngine.prototype.reconstructDrawings=function(t){console.warn("CIQ.ChartEngine.reconstructDrawings() has been deprecated. Please use importDrawings()"),this.importDrawings(t)},I.ChartEngine.prototype.importDrawings=function(t){for(var e,i,a=2,r=1;1749376313!==j.d5F(r.toString(),r.toString().length,97622);r++){if(+I.Drawing)return;j.Q2k(6),a+=j.I2k("2",2147483647)}if((-2020834936===j.d5F(a.toString(),a.toString().length,85889)||!+I.Drawing)&&I.Drawing)for(var n=0;n<t.length;n++)e="re",e+="tra",e+="cemen",e+="t",i="fibona",i+="cci","fibonacci"==(e=t[n]).name&&(e.name="retracement"),(i=I.ChartEngine.drawingTools[e.name])||I.Drawing[e.name]&&(i=I.Drawing[e.name],I.ChartEngine.registerDrawingTool(e.name,i)),i&&((i=new i).reconstruct(this,e),this.drawingObjects.push(i))},I.ChartEngine.prototype.clearDrawings=function(t,e){var i,a="ve";a+="ctor",i=2;for(var r=1;-1460833455!==j.Q5F(r.toString(),r.toString().length,54591);r++)1!=e&&(e=!1),i+=2;1447282654!==j.Q5F(i.toString(),i.toString().length,50854)&&0==e&&(e=!0),!1!==e&&(e=!0),a=I.shallowClone(this.drawingObjects),this.abortDrawings(e),t?this.undoStamps=[]:this.undoStamp(a,I.shallowClone(this.drawingObjects)),this.changeOccurred("vector"),this.cancelTouchSingleClick=!0,I.clearCanvas(this.chart.tempCanvas,this),this.draw(),(a=this.controls.mSticky)&&(a.style.display="none",a.children[0].innerHTML="")},I.ChartEngine.prototype.createDrawing=function(t,e){var i,a,r;if(I.Drawing){for(var n in(i=new I.Drawing[t]).reconstruct(this,e),(a=new I.Drawing[t]).stx=this,a.copyConfig(),a)i[n]=i[n]||a[n];r=2;for(var s=1;1287426290!==j.d5F(s.toString(),s.toString().length,86250);s++)this.drawingObjects.push(i),r+=2;return 751951058!==j.d5F(r.toString(),r.toString().length,58445)&&this.drawingObjects.push(i),this.draw(),i}},I.ChartEngine.prototype.removeDrawing=function(t){for(var e=0;e<this.drawingObjects.length;e++)if(this.drawingObjects[e]==t)return this.drawingObjects.splice(e,1),this.changeOccurred("vector"),void this.draw()},I.ChartEngine.prototype.dateFromTick=function(t,e,i){var a,r,n,s,o=!1;if(0===(a=(e=e||this.chart).dataSet.length)&&(j.Q2k(6),e.dataSet[j.L2k("0",2147483647)]={},e.dataSet[0].DT=new Date,a=e.dataSet.length,o=!0),t<0)r=(n=this.standardMarketIterator(e.dataSet[0].DT)).previous(Math.abs(t));else if(a<=t)n=this.standardMarketIterator(e.dataSet[a-1].DT),j.R2k(7),r=n.next(j.I2k(t,1,a));else{s=2;for(var l=1;428733322!==j.Q5F(l.toString(),l.toString().length,504);l++)r=e.dataSet[t].DT,s+=2;-1454302917!==j.d5F(s.toString(),s.toString().length,91052)&&(r=e.dataSet[t].DT)}return i=i?new Date(r.getTime()):I.yyyymmddhhmm(r),o&&delete e.dataSet[0].DT,i},I.ChartEngine.prototype.calculateYAxisMargins=function(t){t.zoom=t.initialMarginTop+t.initialMarginBottom,t.scroll=(t.initialMarginTop-t.initialMarginBottom)/2,t.zoom>t.height&&(t.zoom=0,t.scroll=0)},I.ChartEngine.prototype.getLabelOffsetInPixels=function(t,e){return e=!(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[e]),"roundRectArrow"!=this.yaxisLabelStyle||e&&this.extendLastTick&&0!==t.yaxisPaddingRight?0:(t="s",t+="tx_y",t+="axi",t+="s",t=this.getCanvasFontSize("stx_yaxis")+6,j.R2k(8),j.I2k("0.66",t))},I.ChartEngine.prototype.home=function(t){var e,i,a,r,n,s;function o(t){var e,i;for(i in t.panels){e=t.panels[i].yaxisLHS.concat(t.panels[i].yaxisRHS);for(var a=0;a<e.length;a++)t.calculateYAxisMargins(e[a])}}if(this.swipe.amplitude=0,e=this.layout,"object"!=typeof t&&(t={maintainWhitespace:t}),void 0===t.maintainWhitespace&&(t.maintainWhitespace=!0),this.cancelTouchSingleClick=!0,this.chart.dataSet&&this.chart.dataSet.length){for(var l in j.R2k(9),this.micropixels=j.I2k(0,"0"),i=Math.floor(this.chart.width/e.candleWidth),this.charts)if(a=this.charts[l],!t.chart||t.chart==a){for(r=0,t.maintainWhitespace&&0<=this.preferences.whitespace&&(r=this.preferences.whitespace),!t.whitespace&&0!==t.whitespace||(r=t.whitespace),r<(n=this.getLabelOffsetInPixels(a,e.chartType))&&(r=n),s=Math.min(i,a.dataSet.length),this.chart.allowScrollPast&&(s=i),this.micropixels=this.chart.width-s*e.candleWidth-r,this.preferences.whitespace=r;this.micropixels>e.candleWidth;)s++,this.micropixels-=e.candleWidth;for(;this.micropixels<0;)s--,this.micropixels+=e.candleWidth;this.micropixels-=e.candleWidth,s++,this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[e.chartType]||(this.micropixels+=e.candleWidth/2),t.animate?this.scrollTo(a,s,function(t,e,i){return j.l6t(),function(){o(t),e.scroll=i,t.draw()}}(this,a,s)):(a.scroll=s,o(this))}this.draw()}else this.draw()},I.ChartEngine.prototype.isHome=function(){var t,e,i;return j.l6t(),e=(t=this.chart).dataSet,i=t.animatingHorizontalScroll,this.pixelFromTick(e.length-(i?2:1),t)<t.width+t.panel.left},I.ChartEngine.prototype.tickFromDate=function(t,e,i,a){var r,n,s,o,l,h,c,u,p;if(!(e=e||this.chart).dataSet||!e.dataSet.length)return j.R2k(6),j.I2k("0",2147483647);if(i||(j.R2k(0),i=j.I2k("0",0)),e=e||this.chart,r=t.constructor==Date?t:I.strToDateTime(t),j.l6t(),I.ChartEngine.isDailyInterval(this.layout.interval)||r.setMinutes(r.getMinutes()+i),n=r.getTime(),(s=e.tickCache[n])||0===s)return j.R2k(4),j.L2k(a?1:0,s);if(o=e.dataSet[0].DT,t=e.dataSet[e.dataSet.length-1].DT,o<=r&&r<=t){for(l=0,h=e.dataSet.length,c=0;++c<100;){if(j.Q2k(10),u=Math.floor(j.L2k(2,l,h)),+(p=e.dataSet[u].DT)==+r)return e.tickCache[n]=u;if(p<r&&(l=u),r<p){if(e.dataSet[u-1].DT<r)return j.Q2k(9),e.tickCache[n]=j.L2k(1,u),e.tickCache[n]+(a?1:0);if(+e.dataSet[u-1].DT==+r)return j.R2k(9),e.tickCache[n]=j.I2k(1,u),j.Q2k(11),j.L2k(u,"1");h=u}}if(100<=c)return console.log("!!!Warning: tickFromDate() did not find match."),e.dataSet.length}return j.R2k(12),t=(i=j.L2k(o,r))?o:t,t=this.standardMarketIterator(t).futureTick({end:r}),s=i?-1*t:e.dataSet.length-1+t,e.tickCache[n]=s},I.ChartEngine.XAxisLabel=function(t,e,i){j.X6t(),this.hz=t,this.grid=e,this.text=i},I.ChartEngine.prototype.createXAxis=function(t){var e,i="cre";return i+="ateXAxis",t.dataSegment.length<=0||t.xAxis.noDraw?null:(e=[t],(i=this.runPrepend("createXAxis",e))||(i=this.mainSeriesRenderer&&this.mainSeriesRenderer.createXAxis?this.mainSeriesRenderer.createXAxis(t):this.createTickXAxisWithDates(t),this.headsUpHR(),this.runAppend("createXAxis",e)),i)},I.ChartEngine.prototype.resetDynamicYAxis=function(t){var e,i,a;if(!this.runPrepend("resetDynamicYAxis",arguments)){for(var r in e=!1,this.panels)if(i=this.panels[r],(!t||!t.chartName||i.chart.name===t.chartName)&&i.yaxisLHS&&i.yaxisRHS){a=i.yaxisLHS.concat(i.yaxisRHS);for(var n=0;n<a.length;n++)a[n]._dynamicWidth&&(e=!(a[n]._dynamicWidth=NaN))}!e||t&&t.noRecalculate||this.calculateYAxisPositions(),j.X6t(),this.runAppend("resetDynamicYAxis",arguments)}},I.ChartEngine.prototype.adjustYAxisHeightOffset=function(t,e){var i=e.topOffset,a=e.bottomOffset;i+a>t.height&&(console.log("The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be reset to 0."),e.bottomOffset=0,e.topOffset=0),this.xaxisHeight||0===this.xaxisHeight||(this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+4,(this.chart.xAxis.displayBorder||this.axisBorders)&&(this.xaxisHeight+=3)),(this.xAxisAsFooter&&t.bottom>this.chart.canvasHeight-this.xaxisHeight||!this.xAxisAsFooter&&t==this.chart.panel)&&(a+=this.xaxisHeight),e.top=t.top+i,e.bottom=t.bottom-a},I.ChartEngine.prototype.plotYAxisGrid=function(t){var e,i;if(!this.runPrepend("plotYAxisGrid",arguments)){if(e=this.chart.context,t.yAxis.yAxisPlotter){i=2;for(var a=1;1847452825!==j.Q5F(a.toString(),a.toString().length,78322);a++)t.yAxis.yAxisPlotter.draw(e,""),i+=2;1049146366!==j.Q5F(i.toString(),i.toString().length,53539)&&t.yAxis.yAxisPlotter.draw(e,"grid")}j.l6t(),this.runAppend("plotYAxisGrid",arguments)}},I.ChartEngine.prototype.plotYAxisText=function(t){var e,i,a;if(!this.runPrepend("plotYAxisText",arguments)){j.l6t(),e=t.yaxisLHS.concat(t.yaxisRHS);for(var r=0;r<e.length;r++)a="alphab",a+="e",a+="tic",i="l",i+="ef",i+="t",a="s",a+="tx_",a+="yax",a+="is",(i=e[r]).yAxisPlotter&&!i.noDraw&&i.width&&(this.canvasFont("stx_yaxis"),this.canvasColor("stx_yaxis"),(a=this.chart.context).textBaseline="middle",i.justifyRight?a.textAlign="right":a.textAlign="left",i.yAxisPlotter.draw(a,"text"),a.textBaseline="alphabetic",a.textAlign="left");this.runAppend("plotYAxisText",arguments)}},I.ChartEngine.prototype.decimalPlacesFromPriceTick=function(t){return t<1e-4?8:t<.01?4:t<.1?2:t<1?1:(j.l6t(),0)},I.ChartEngine.prototype.formatYAxisPrice=function(t,e,i,a){if(null==t||isNaN(t))return"";if(a=a||e.yAxis,(i=i)||0===i||(i=a.printDecimalPlaces),i||0===i||(i=this.decimalPlacesFromPriceTick(a.priceTick)),j.X6t(),e=a==e.chart.yAxis?2e4:1e3,a.priceTick>=e)return I.condenseInt(t);t=(a=this.internationalizer)?((e=a.priceFormatters.length)<=i&&(j.R2k(9),i=j.L2k(1,e)),a.priceFormatters[i].format(t)):t.toFixed(i);i=1;return-637774309!==j.d5F(i.toString(),i.toString().length,89346)||1732911637!==j.d5F(2..toString(),2..toString().length,88677)?t:void 0},I.ChartEngine.prototype.padOutPrice=function(t,e){var i,a;return 0===t||t&&"number"==typeof t?(e||0===e||(e=t),j.Q2k(4),i=(a=j.I2k(e,"")).substring(a.indexOf(".")).length-1,i=1e3<=e?Math.max(i,0):e<2?Math.max(i,4):Math.max(i,2),t=(a=this.internationalizer)?((e=a.priceFormatters.length)<=i&&(j.R2k(9),i=j.I2k(1,e)),a.priceFormatters[i].format(t)):t.toFixed(i)):""},I.ChartEngine.prototype.formatPrice=function(t,e){var i,a;return 0===t||t&&void 0!==t?(e=(e=e||this.currentPanel)||this.chart.panel)?((i=e.decimalPlaces)||0===i||(i=e.chart.decimalPlaces),i||0===i?t=(a=this.internationalizer)?((e=a.priceFormatters.length)<=i&&(j.R2k(9),i=j.I2k(1,e)),a.priceFormatters[i].format(t)):t.toFixed(i):t):t:""},I.ChartEngine.prototype.createCrosshairs=function(){var t,e="c";e+="r",e+="eateCrosshairs",this.runPrepend("createCrosshairs",arguments)||this.manageTouchAndMouse&&(t=this.controls.crossX,e=this.controls.crossY,t&&(t.onmousedown||(t.onmousedown=function(t){return j.l6t(),(t=t||event).preventDefault&&t.preventDefault(),!1})),e&&(e.onmousedown||(e.onmousedown=function(t){return(t=t||event).preventDefault&&t.preventDefault(),!1})),this.runAppend("createCrosshairs",arguments))},I.ChartEngine.prototype.determineMinMax=function(t,e,i,a,r){var n,s,o,l,h,c,u=-1*Number.MAX_VALUE,p=Number.MAX_VALUE,d=!1;j.l6t(),n=t.length,r&&(n=r);for(var g=0;g<=n+1;g++)if(e.length&&(s=g==n?this.getPreviousBar(this.chart,e[0],0):g==n+1?this.getNextBar(this.chart,e[0],n-1):t[g]),s){if(!a)if(s.transform)d=!0,s=s.transform;else if(d)continue;for(var f=o=0;f<e.length;f++)if(l=I.existsInObjectChain(s,e[f])){"number"==typeof(h=l.obj[l.member])&&(h=[h]);for(var m=0;m<h.length;m++)!(c=h[m])&&0!==c||(i?(u<(o+=c)&&(u=o),o<p&&(p=o)):(u<c&&(u=c),c<p&&(p=c)))}}return u==-1*Number.MAX_VALUE&&(u=0),p==Number.MAX_VALUE&&(p=0),[p,u]},I.ChartEngine.prototype.calculateYAxisRange=function(t,e,i,a){var r,n,s,o,l;i==Number.MAX_VALUE&&(a=i=0),r=t.height,l=n=null,this.adjustYAxisHeightOffset(t,e),e.height=e.bottom-e.top,s=Math.round(Math.abs(r/5)),0<=e.zoom&&r-Math.abs(e.scroll)<s&&(e.scroll=(r-s)*(e.scroll<0?-1:1)),!i&&0!==i||(l=a-i==0?(1==(o=Math.pow(10,-(i.toString()+".").split(".")[1].length))&&(o=100),j.R2k(4),n=j.L2k(o,i),j.Q2k(9),j.I2k(o,i)):(this.layout.semiLog||"log"==this.layout.chartScale)&&n?(s=Math.log(i)/Math.LN10,o=Math.log(a)/Math.LN10,n=Math.pow(10,o),Math.pow(10,s)):(n=a,i),e.high=n,e.low=l),j.X6t(),!e.max&&0!==e.max||(e.high=e.max),!e.min&&0!==e.min||(e.low=e.min),e.shadow=e.high-e.low,t.chart.name===t.name&&t.yAxis.name===e.name&&(l="pa",l+="nd",l+="f",l=this.layout.semiLog||"log"==this.layout.chartScale,!t.chart.isComparison&&"pandf"!=this.layout.aggregationType||(l=!1),e.semiLog!=l&&(this.clearPixelCache(),e.semiLog=l))},I.ChartEngine.prototype.renderYAxis=function(t){var e,i,a,r,n;if(!this.runPrepend("renderYAxis",arguments)){for(var s in this.rendererAction(t,"yAxis"),this.panels)if((e=this.panels[s]).chart==t)for(i=e.yaxisRHS.concat(e.yaxisLHS),n={},a=0;a<i.length;a++)r=i[a],this.calculateYAxisRange(e,r,r.lowValue,r.highValue),I.Studies&&(n=I.Studies.getYAxisParameters(this,r)),n.yAxis=r,this.createYAxis(e,n),this.drawYAxis(e,n),I.Studies&&I.Studies.doPostDrawYAxis(this,r);this.runAppend("renderYAxis",arguments)}},I.ChartEngine.prototype.initializeDisplay=function(y){var b,v,t,e,i,a,r,n,s,o;if(!this.runPrepend("initializeDisplay",arguments)){for(var l in b=[],v=this,e=null,o=Math.floor((y.width-this.micropixels)/this.layout.candleWidth),y.scroll>y.maxTicks&&y.maxTicks>o+1&&(e=y.dataSegment.length-1),this.panels){i=(a=this.panels[l]).yaxisLHS.concat(a.yaxisRHS);for(var h=0;h<i.length;h++)r=i[h],b=[],s=y.transformFunc&&r==y.panel.yAxis,function t(e,i){var a,r,n,s,o,l,h,c;0;0;0;j.Q2k(6);a=j.I2k("2",2147483647);for(var u=1;364588477!==j.d5F(u.toString(),u.toString().length,15442);u++)r=v.layout||v.layout.studies||v.layout.studies[e.name],a+=2;685880274!==j.d5F(a.toString(),a.toString().length,77379)&&(r=v.layout&&v.layout.studies&&v.layout.studies[e.name]);if(r){for(var p in r.outputMap)b.push(p);r.study&&r.study.renderer&&(b=b.concat(I.createObjectChainNames(p,["Close","Open","High","Low"])));for(var d=0;d<=2;d++)b.push(r.name+"_hist"+(d||""));0}if(!i)return;n=[];for(var g in y.seriesRenderers)if(s=y.seriesRenderers[g],o=s.params,l=o.panel,(o.yAxis||!v.panels[l]||v.panels[l].yAxis)==e){n=s.highLowBars?["Close","Open","High","Low"]:[y.defaultPlotField||"Close"];for(var f=0;f<s.seriesParams.length;f++)(h=s.seriesParams[f]).symbol?b=b.concat(I.createObjectChainNames(h.symbol,n)).concat(h.symbol):h.field?b.push(h.field):e==y.panel.yAxis&&(b=b.concat(n))}if(y.includeOverlaysInMinMax)for(var m in v.overlays)(c=v.overlays[m]).panel==i.name&&(v.getYAxisByName(c.panel,c.name)||i.yAxis)==e&&t({name:c.name})}(r,a),t=this.mainSeriesRenderer&&this.mainSeriesRenderer.determineMax?this.mainSeriesRenderer.determineMax(y.dataSegment,b,null,!s,e):this.determineMinMax(y.dataSegment,b,null,!s,e),this.mainSeriesRenderer&&(this.mainSeriesRenderer.highLowBars&&this.highLowBars[this.layout.chartType]||(n=this.mainSeriesRenderer||{},y.panel==a&&n.params&&n.params.baseline&&"mountain"!=n.params.type&&(!(n=y.baseline.actualLevel)&&0!==n||(s&&(n=y.transformFunc(this,y,n)),s=Math.max(n-t[0],t[1]-n),this.repositioningBaseline?t=[y.lowValue,y.highValue]:(j.R2k(9),t[0]=j.L2k(s,n),j.Q2k(4),t[1]=j.L2k(s,n)))))),r.lowValue=t[0],r.highValue=t[1],r==y.panel.yAxis&&(y.lowValue=r.lowValue,y.highValue=r.highValue)}(o=y.state.aggregation)&&o.box&&(y.lowValue-=o.box/2,y.highValue+=o.box/2),this.runAppend("initializeDisplay",arguments)}},I.ChartEngine.prototype.computePosition=function(t,e){return void 0===e&&(e=0),t*this.layout.candleWidth+e+this.micropixels},I.ChartEngine.prototype.computeColor=function(t,e){return t<e?"stx_candle_up":e<t?"stx_candle_down":"stx_candle_shadow"},I.ChartEngine.prototype.computeLength=function(t,e){t=this.pixelFromPrice(t),e=this.pixelFromPrice(e);return j.l6t(),j.Q2k(9),j.I2k(t,e)},I.ChartEngine.prototype.setSeriesRenderer=function(t){var e=t.params;return this.chart.seriesRenderers[e.name]||(e.yAxis&&(e.yAxis=this.addYAxis(this.panels[e.panel],e.yAxis)),(t.stx=this).chart.seriesRenderers[e.name]=t)},I.ChartEngine.prototype.setMainSeriesRenderer=function(t){var e,i,a,r,n="standa";n+="lon",n+="eBars",r="_main_serie",r+="s",e=this.layout.chartType,i=this.layout.aggregationType,a=this.chart.customChart,(r=this.mainSeriesRenderer)&&(r.removeAllSeries(t),this.removeSeriesRenderer(r),r=this.mainSeriesRenderer=null),r={panel:this.chart.panel.name,name:"_main_series",highlightable:!1,useChartLegend:!0},a&&a.chartType&&(e=a.chartType),"none"!=e&&(i&&"ohlc"!=i&&(e=i),(r=I.Renderer.produce(e,r))&&(this.setSeriesRenderer(r).attachSeries(null,{display:this.chart.symbol}),this.mainSeriesRenderer=r),j.X6t(),["highLowBars",n,"barsHaveWidth"].forEach(function(t){this.chart[t]=this.mainSeriesRenderer&&this.mainSeriesRenderer[t]}.bind(this)))},I.ChartEngine.prototype.setMarket=function(t,e){var i;e=e||this.chart,i=2;for(var a,r=1;1871377317!==j.Q5F(r.toString(),r.toString().length,96939);r++)e.market=new I.Market(t),i+=2;for(a in-885549311!==j.d5F(i.toString(),i.toString().length,2449)&&(e.market=new I.Market(t)),this.layout.marketSessions)e.market.disableSession(a,this.layout.marketSessions[a])},I.ChartEngine.prototype.setMarketFactory=function(t){j.X6t(),this.marketFactory=t},I.ChartEngine.prototype.removeSeriesRenderer=function(t){var e,i,a;for(a in j.l6t(),this.chart.seriesRenderers)if(t.params.name===this.chart.seriesRenderers[a].params.name)return e=(i=this.chart.seriesRenderers[t.params.name]).params.yAxis,i=this.panels[i.params.panel],delete this.chart.seriesRenderers[t.params.name],void this.deleteYAxisIfUnused(i,e)},I.ChartEngine.prototype.getSeriesRenderer=function(t){return this.chart.seriesRenderers[t]},I.ChartEngine.prototype.startClip=function(t,e){var i,a,r="c";r+="h",r+="a",r+="rt",t=t||"chart",a=(i=this.panels[t]).yAxis,this.chart.context.save(),this.chart.context.beginPath(),r=i.left,t=i.width,e?(r=0,t=this.width):i.yaxisLHS&&i.yaxisLHS.length&&(r++,t--),this.chart.context.rect(r,a.top,t,a.height),this.chart.context.clip()},I.ChartEngine.prototype.endClip=function(){this.chart.context.restore()},I.ChartEngine.prototype.setLineStyle=function(t,e){var i="objec";i+="t",i={},t&&"object"==typeof t?i=t:i.color=t,i.color||i.pattern||i.width||(i=null),e=e||this.chart,t=1,j.l6t(),i&&i.width&&(t=i.width),i&&i.pattern&&(i.pattern=I.borderPatternToArray(t,i.pattern)),e.lineStyle=i},I.ChartEngine.prototype.setGapLines=function(t,e){var i={};t&&"object"==typeof t?i=t:i.color=t,i.color||i.pattern||i.fillMountain||(i=null),e=e||this.chart,i&&i.pattern&&(i.pattern=I.borderPatternToArray(i.pattern)),i&&i.width<=0&&(i.width=null),e.gaplines=i},I.ChartEngine.prototype.getGapColorFunction=function(r,n,s,o,l){return"object"!=typeof s&&(s={color:s}),function(t,e,i){var a="objec";return a+="t",(a=l?l(t,e,i):s).color&&(a=a.color),(t=e[r])||0===t||(t=e[n]),i||!t&&0!==t?o?("object"!=typeof o&&(t="s",t+="tr",t+="i",t+="ng",o="string"==typeof o?{color:o}:{}),{color:o.color||a,pattern:o.pattern||s.pattern,width:o.width||s.width}):null:{color:a,pattern:s.pattern,width:s.width}}},I.ChartEngine.prototype.drawLineChart=function(t,e,i,a){var r,n,s,o,l;return n=(r=this.chart).context,s=r.lineStyle||{},o=this.canvasStyle(e),a=a||{},this.startClip(t.name),(l=a.width||s.width||o.width)&&parseInt(l,10)<=25?n.lineWidth=Math.max(1,I.stripPX(l)):n.lineWidth=1,a.pattern=a.pattern||s.pattern||o.borderTopStyle,j.l6t(),a.pattern=I.borderPatternToArray(n.lineWidth,a.pattern),this.canvasColor(e),(o=a.color||s.color)&&(n.strokeStyle=o),a.skipProjections=!0,e=a.field||r.defaultPlotField,s=a.subField||r.defaultPlotField||"Close",(o=a.gapDisplayStyle)||!1===o||(o=a.gaps),o||!1===o||(o=r.gaplines),o=o||"transparent",i=this.getGapColorFunction(e,s,{color:n.strokeStyle,pattern:a.pattern,width:n.lineWidth},o,i),t.chart.tension&&(a.tension=t.chart.tension),(i=this.plotDataSegmentAsLine(e,t,a,i)).colors.length||i.colors.push(n.strokeStyle),n.lineWidth=1,this.endClip(),a.returnObject?i:i.colors},I.ChartEngine.prototype.getPreviousBar=function(t,e,i){return j.X6t(),this.getNextBarInternal(t,e,i,-1)},I.ChartEngine.prototype.getNextBar=function(t,e,i){return j.X6t(),this.getNextBarInternal(t,e,i,1)},I.ChartEngine.prototype.getNextBarInternal=function(t,e,i,a){var r,n,s;if(j.X6t(),i=t.dataSegment&&t.dataSegment[i])for(r=i.tick;0<r&&r<t.dataSet.length;)if(j.R2k(4),r=j.I2k(a,r),n=t.dataSet[r],n&&(s=I.existsInObjectChain(n,e))&&s.obj[s.member])return n;return null},I.ChartEngine.prototype.getFirstLastDataRecord=function(t,e,i){var a=i?t.length-1:0;for(j.l6t();0<=a&&a<t.length;){if(t[a]&&void 0!==t[a][e])return t[a];i?a--:a++}return null},I.ChartEngine.prototype.updateFloatHRLabel=function(t){var e,i,a,r,n,s="no";if(s+="n",s+="e",e=t.yaxisLHS.concat(t.yaxisRHS),i=this.crossYActualPos||this.cy,this.floatCanvas.isDirty&&I.clearCanvas(this.floatCanvas,this),j.l6t(),!this.controls.crossX||"none"!=this.controls.crossX.style.display){this.controls.crossY&&(s="p",s+="x",s=t.width,"roundRectArrow"==this.yaxisLabelStyle&&(s-=7),this.controls.crossY.style.left=t.left+"px",j.R2k(4),this.controls.crossY.style.width=j.I2k("px",s));for(var o=0;o<e.length;o++)a=e[o],r=this.transformedPriceFromPixel(i,t,a),isNaN(r)||(a.min||0===a.min)&&r<a.min||(a.max||0===a.max)&&r>a.max||(n=null,a!==t.chart.yAxis&&(n=this.decimalPlacesFromPriceTick(a.priceTick),!a.decimalPlaces&&0!==a.decimalPlaces||(n=a.decimalPlaces)),r=a.priceFormatter?a.priceFormatter(this,t,r,n):this.formatYAxisPrice(r,t,n,a),n=this.canvasStyle("stx-float-price"),this.createYAxisLabel(t,r,i,n.backgroundColor,n.color,this.floatCanvas.context,a),this.floatCanvas.isDirty=!0)}},I.ChartEngine.prototype.headsUpHR=function(){var t,e,i,a,r,n;if(j.l6t(),!this.runPrepend("headsUpHR",arguments)&&(t=this.currentPanel)){if(e=t.chart,this.updateFloatHRLabel(t),(i=this.controls.floatDate)&&!e.xAxis.noDraw){a=this.barFromPixel(this.cx),r=2;for(var s=1;1972241925!==j.d5F(s.toString(),s.toString().length,74949);s++)n=e.xaxis[a],r+=2;-585838911!==j.Q5F(r.toString(),r.toString().length,79725)&&(n=e.xaxis[a]),n&&n.DT?o(I.displayableDate(this,e,n.DT)):n&&n.index?o(n.index):o("")}this.runAppend("headsUpHR",arguments)}function o(t){j.l6t(),I.efficientDOMUpdate(i,"innerHTML",t)}},I.ChartEngine.prototype.setCrosshairColors=function(){},I.ChartEngine.prototype.magnetize=function(){var t,e,i,a,r,n,s,o,l,h,c,u;if(this.magnetizedPrice=null,!this.runPrepend("magnetize",arguments)&&!this.repositioningDrawing&&(h=this.currentVectorParameters.vectorType,("annotation"!=h&&"callout"!=h||!I.ChartEngine.drawingLine)&&"projection"!=h&&"freeform"!=h)){if((t=this.currentPanel).name==t.chart.name){if(h="#FFFFF",h+="F",c=t.chart,(h=this.tickFromPixel(I.ChartEngine.crosshairX-this.left,c))>c.dataSet.length)return;if(!(e=c.dataSet[h]))return;if(i=this.valueFromPixel(this.cy,t),this.magnetizedPrice=e.Close,this.mainSeriesRenderer&&this.mainSeriesRenderer.highLowBars||this.highLowBars[this.layout.chartType]){a=["Open","High","Low","Close"],r=2;for(var p=1;-147190934!==j.Q5F(p.toString(),p.toString().length,14402);p++)n=7413428565,r+=2;-915105758!==j.Q5F(r.toString(),r.toString().length,11243)&&(n=4403754420),j.Q2k(0),n=j.L2k("1000000000",0);for(var d=0;d<a.length;d++)s=e[a[d]],Math.abs(i-s)<n&&(j.Q2k(9),n=Math.abs(j.L2k(s,i)),this.magnetizedPrice=s)}o=this.pixelFromTick(h,c),l=this.pixelFromPrice(this.magnetizedPrice,this.currentPanel),(h=this.chart.tempCanvas.context).beginPath(),h.lineWidth=1,c=Math.max(this.layout.candleWidth,12)/3,h.arc(o,l,Math.min(c,8),0,2*Math.PI,!1),h.fillStyle="#FFFFFF",h.strokeStyle="#000000",h.fill(),h.stroke(),h.closePath(),this.chart.tempCanvas.style.display="block"}u=2;for(var g=1;-1361832897!==j.d5F(g.toString(),g.toString().length,1982);g++)this.runAppend("magnetize",arguments),u+=2;j.l6t(),1209648767!==j.Q5F(u.toString(),u.toString().length,52889)&&this.runAppend("",arguments)}},I.ChartEngine.prototype.positionCrosshairsAtPointer=function(){var t,e,i,a;(t=this.currentPanel)&&this.manageTouchAndMouse&&(this.runPrepend("positionCrosshairsAtPointer",arguments)||(i=t.chart,a=this.container.getBoundingClientRect(),this.top=a.top,this.left=a.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cy=this.crossYActualPos=this.backOutY(I.ChartEngine.crosshairY),this.cx=this.backOutX(I.ChartEngine.crosshairX),e=this.crosshairTick=this.tickFromPixel(this.cx,i),a=this.pixelFromTick(e,i)-1,this.controls.crossX&&(j.Q2k(4),this.controls.crossX.style.left=j.I2k("px",a)),a>=t.right||a<=t.left?this.undisplayCrosshairs():(j.X6t(),a=("chart"==t.name?this.preferences:t).horizontalCrosshairField,i=i.dataSet,a&&i&&e<i.length&&-1<e&&(this.crossYActualPos=this.pixelFromPrice(i[e][a],t)),this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+"px"),this.runAppend("positionCrosshairsAtPointer",arguments))))},I.ChartEngine.prototype.doDisplayCrosshairs=function(){var t,e,i,a,r="doDis";r+="playCrosshairs",i="doDisplayCro",i+="sshairs",this.runPrepend("doDisplayCrosshairs",arguments)||(this.displayInitialized&&(t=this.floatCanvas,a=this.currentVectorParameters.vectorType,!(this.layout.crosshair||""!==a&&a)||I.Drawing&&I.Drawing[a]&&(new I.Drawing[a]).dragToDraw||this.overXAxis||this.overYAxis||!I.ChartEngine.insideChart&&!this.grabbingScreen||""!==this.openDialog?this.undisplayCrosshairs():(r=(e=this.controls).crossX,i=e.crossY,r&&""!==r.style.display&&(r.style.display="",i&&(i.style.display=""),this.preferences.magnet&&a?(I.unappendClassName(this.container,"stx-crosshair-on"),this.chart.tempCanvas.style.display="block"):I.appendClassName(this.container,"stx-crosshair-on")),e.floatDate&&!this.chart.xAxis.noDraw&&(e.floatDate.style.visibility="",this.currentPanel&&this.updateFloatHRLabel(this.currentPanel)),t&&(t.style.display="block"))),this.runAppend("doDisplayCrosshairs",arguments))},I.ChartEngine.prototype.undisplayCrosshairs=function(){var t,e,i;this.runPrepend("undisplayCrosshairs",arguments)||(t=(i=this.controls).crossX,e=i.crossY,t&&"none"!=t.style.display&&(t.style.display="none",e&&(e.style.display="none")),this.displayInitialized&&i.floatDate&&(i.floatDate.style.visibility="hidden"),I.unappendClassName(this.container,"stx-crosshair-on"),(i=this.floatCanvas)&&i.isDirty&&(I.clearCanvas(i,this),"none"!=i.style.display&&(i.style.display="none")),this.activeDrawing||this.repositioningDrawing||this.editingAnnotation||(i="non",i+="e",i="n",i+="o",i+="n",i+="e",(i=this.chart.tempCanvas)&&"none"!=i.style.display&&(i.style.display="none")),this.runAppend("undisplayCrosshairs",arguments))},I.ChartEngine.prototype.modalBegin=function(){j.X6t(),this.openDialog="modal",this.undisplayCrosshairs()},I.ChartEngine.prototype.modalEnd=function(){this.cancelTouchSingleClick=!0,j.X6t(),this.openDialog="",this.doDisplayCrosshairs()},I.ChartEngine.prototype.updateChartAccessories=function(){var t,e,i,a,r;null!==this.accessoryTimer&&clearTimeout(this.accessoryTimer),!I.ChartEngine.drawingLine&&I.touchDevice&&(new Date).getTime()-this.lastAccessoryUpdate<100?this.accessoryTimer=setTimeout((r=this,function(){r.updateChartAccessories()}),10):this.chart.dataSet&&(this.runPrepend("updateChartAccessories",arguments)||(this.positionCrosshairsAtPointer(),this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),(t=this.controls.floatDate)&&(i=(i=this.currentPanel)||this.chart.panel)&&(a=i.chart,e=!0===this.xAxisAsFooter?0:this.chart.canvasHeight-i.chart.bottom,i=t.offsetWidth/2-.5,(a=this.pixelFromTick(this.crosshairTick,a)-i)<0?a=0:a>this.width-2*i-1&&(a=this.width-2*i-1),I.efficientDOMUpdate(t.style,"left",a+"px"),I.efficientDOMUpdate(t.style,"bottom",e+"px")),this.headsUpHR(),this.runAppend("updateChartAccessories",arguments)))},I.ChartEngine.prototype.mousemove=function(t){var e=t||event;I.ChartEngine.crosshairX=e.clientX,I.ChartEngine.crosshairY=e.clientY,-1<e.type.toLowerCase().indexOf("enter")?this.positionCrosshairsAtPointer():this.runPrepend("mousemove",arguments)||this.displayInitialized&&""===this.openDialog&&(this.mousemoveinner(e.clientX,e.clientY),this.runAppend("mousemove",arguments))},I.ChartEngine.prototype.setResizeTimer=function(t){var e;j.l6t(),(this.resizeDetectMS=t)?(this.resizeTimeout&&window.clearInterval(this.resizeTimeout),this.resizeTimeout=window.setInterval((e=this,function(){e.chart.canvas&&(I.isAndroid||e.chart.canvas.height==Math.floor(e.devicePixelRatio*e.chart.container.clientHeight)&&e.chart.canvas.width==Math.floor(e.devicePixelRatio*e.chart.container.clientWidth)||e.resizeChart())}),t)):(this.resizeTimeout&&window.clearInterval(this.resizeTimeout),this.resizeTimeout=null)},I.ChartEngine.prototype.whichYAxis=function(t,e){var i,a,r;if(void 0===e&&(e=this.cx),t){i=t.yaxisLHS.concat(t.yaxisRHS);for(var n=0;n<i.length;n++)if((a=i[n]).left<=e&&a.left+a.width>=e)return a}j.R2k(1),j.X6t(),r=-j.L2k(29265472,"878589458");t=1;return 1878823358!==j.Q5F(t.toString(),t.toString().length,35363)||j.d5F(2..toString(),2..toString().length,71045)!==r?1:null},I.ChartEngine.prototype.findHighlights=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,A,m,y,b,v,S,k,x,C,w,T=this.preferences[t?"highlightsTapRadius":"highlightsRadius"];if(this.highlightViaTap=t,j.X6t(),i=this.cy,a=this.cx,this.anyHighlighted=!1,this.currentPanel){!this.preferences.magnet||this.activeDrawing||this.repositioningDrawing||I.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing&&(e=!0),r=!1,n=null,s=e?{}:{forceShow:!0,type:"drawing"},o=this.currentPanel.chart,l={x0:this.tickFromPixel(a-T,o),x1:this.tickFromPixel(a+T,o),y0:this.valueFromPixel(i-T,this.currentPanel),y1:this.valueFromPixel(i+T,this.currentPanel)},this.repositioningDrawing&&l.x1-l.x0<2?(l.x1++,l.x0--):l.x1==l.x0&&(l.x0-=.5,l.x1+=.5);for(var M=this.drawingObjects.length-1;0<=M;M--)h=this.drawingObjects[M],this.panels[h.panelName]&&(this.repositioningDrawing&&this.repositioningDrawing!=h||(c=h.highlighted,u=h.panelName==this.currentPanel.name,h.repositioner=h.intersected(this.crosshairTick,this.crosshairValue,l),u=u&&h.repositioner,!e&&u?(c?(n=h,this.anyHighlighted&&this.singleDrawingHighlight&&(h.highlighted=!1)):c!=h.highlight(!0)&&(n=n||h,this.anyHighlighted&&this.singleDrawingHighlight&&(h.highlighted=!1),r=!0),this.anyHighlighted=!0):c!=h.highlight(!1)&&(r=!0),h.highlighted&&(s.noDelete=h.permanent)));for(p in this.overlays)(d=this.overlays[p]).prev=d.highlight,d.highlight=!1;for(p in o.seriesRenderers){f=o.seriesRenderers[p];for(var D=0;D<f.seriesParams.length;D++)(g=f.seriesParams[D]).prev=g.highlight,g.highlight=!1}if(!e&&0<=(A=this.barFromPixel(a))&&A<o.dataSegment.length){for(p in this.overlays)if(d=this.overlays[p],d.panel==this.currentPanel.name&&!1!==d.study.isHighlighted)if("function"!=typeof d.study.isHighlighted){if(o.dataSegment[A]){for(var F in d.outputMap)if(d.outputMap[F]&&E.call(this,A,l,F,this.getYAxisByName(d.panel,d.name))){d.highlight=!0,this.anyHighlighted=!0;break}if(d.highlight)break}}else d.study.isHighlighted(this,a,i)&&(d.highlight=!0,this.anyHighlighted=!0);for(p in o.seriesRenderers)if(y=o.seriesRenderers[p],b=y.params.panel,y.params.highlightable&&b==this.currentPanel.name)for(var P=0;P<y.seriesParams.length;P++)v=(g=y.seriesParams[P]).field,g.symbol&&g.subField&&(v+="--\x3e"+g.subField),!(S=y.params.yAxis)&&b&&(S=this.panels[b].yAxis),y.params.step&&0<A?y.caches[g.id]&&(!(m=y.caches[g.id][A])&&0!==m||(j.R2k(9),(((k=y.caches[g.id][j.L2k(1,A)])||0===k)&&m<=i+T&&i-T<=k||i-T<=m&&k<=i+T)&&(g.highlight=!0,this.anyHighlighted=!0))):E.call(this,A,l,v,S,y.caches[g.id])&&(g.highlight=!0,this.anyHighlighted=!0)}for(p in this.overlays)(d=this.overlays[p]).highlight&&(this.anyHighlighted=!0,x=d.inputs.display||d.name,s={message:this.translateIf(x),noDelete:d.permanent,type:"study"},n=null),d.prev!=d.highlight&&(r=!0);for(p in o.seriesRenderers)if((C=o.seriesRenderers[p]).params.highlightable){w=C.params.yAxis?C.params.yAxis.textStyle:null;for(var _=0;_<C.seriesParams.length;_++)(g=C.seriesParams[_]).highlight&&(this.anyHighlighted=!0,s={message:g.display||g.symbol,backgroundColor:g.color||w,noDelete:g.permanent,type:"series"},n=null),g.prev!=g.highlight&&(r=!0)}r&&(this.draw(),this.displaySticky(this.anyHighlighted?s:{}),this.clearMeasure(),n&&n.measure()),this.anyHighlighted||this.setMeasure()}function E(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k="-";if(k+="-",k+=">",n=this.chart,s=this.currentPanel,a=a||s.yAxis,k=i.split("--\x3e"),j.Q2k(9),j.l6t(),o=k[j.L2k(0,"0")],l=(l=k[1])||"Close",k=n.dataSegment[A],g=d=p=null,f=new Array(3),k&&r){for(S=r[A],p=k.tick,!S&&0!==S||(j.R2k(6),f[j.L2k("0",2147483647)]=1),m=A-1;0<=m;m--)if(r[m]||0===r[m]){c=r[m],j.R2k(7),d=j.L2k(p,m,A),f[1]=1;break}for(m=A+1;m<n.dataSegment.length;m++)if(r[m]||0===r[m]){u=r[m],j.R2k(7),g=j.I2k(p,m,A),f[2]=1;break}}if(null===d){y=2;for(var x=1;272811671!==j.d5F(x.toString(),x.toString().length,6421);x++)h=this.getPreviousBar.call(this,n,i,A),y+=2;1914612354!==j.d5F(y.toString(),y.toString().length,12732)&&(h=this.getPreviousBar.call(this,n,i,A)),h&&(d=h.tick,c=C(h))}if(null===g&&(v=this.getNextBar.call(this,n,i,A))&&(g=v.tick,u=C(v)),null===d&&null===g)return!1;function C(t){var e;return t?((e=t[o])&&(e[l]||0===e[l])&&(e=e[l]),n.transformFunc&&a==n.yAxis?t.transform&&o in t.transform?((e=t.transform[o])&&(e[l]||0===e[l])&&(e=e[l]),e):n.transformFunc(this,n,e):e):null}if(r||(S=C(k),c=C(h),u=C(v),p=k.tick,h&&(d=h.tick),v&&(g=v.tick)),c||0===c||(d=c=0),u||0===u||(S||0===S?(u=S,f[2]=f[0]):(u=c,f[2]=f[1]),g=n.dataSet.length-1),!S&&0!==S&&(S=u,p=g,f[0]=f[2],0===c&&0===d)){c=S,d=p,b=2;for(var w=1;1102618667!==j.d5F(w.toString(),w.toString().length,24933);w++)f[1]=f[0],j.R2k(13),b+=j.I2k(1,"2");-2084426063!==j.d5F(b.toString(),b.toString().length,84387)&&(f[6]=f[5])}return k=this.pixelFromTransformedValue.bind(this),S=(v=this.valueFromPixel.bind(this))(f[0]?S:k(S,s,a),s),c=v(f[1]?c:k(c,s,a),s),u=v(f[2]?u:k(u,s,a),s),k=I.convertBoxToPixels(this,s.name,e),e=I.convertBoxToPixels(this,s.name,{x0:d,y0:c,x1:p,y1:S}),S=I.convertBoxToPixels(this,s.name,{x0:p,y0:S,x1:g,y1:u}),!(!I.boxIntersects(k.x0,k.y0,k.x1,k.y1,e.x0,e.y0,e.x1,e.y1,"segment")&&!I.boxIntersects(k.x0,k.y0,k.x1,k.y1,S.x0,S.y0,S.x1,S.y1,"segment"))}},I.ChartEngine.prototype.positionSticky=function(t){var e=Math.max(this.cy-t.offsetHeight-60,0),i=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-t.offsetWidth);j.R2k(4),t.style.top=j.L2k("px",e),j.R2k(4),t.style.right=j.I2k("px",i)},I.ChartEngine.prototype.displaySticky=function(t){var e,i,a,r,n,s,o,l,h,c;j.l6t(),(e=this.controls.mSticky)&&(i=C(".mStickyInterior",e))&&(a=C(".overlayTrashCan",e),r=C(".overlayEdit",e),n=C(".mouseDeleteInstructions",e),t&&"object"==typeof t||(t={message:arguments[0],backgroundColor:arguments[1],forceShow:arguments[2],noDelete:arguments[3],type:arguments[4]}),c=t.message,s=t.backgroundColor,h=t.forceShow,o=t.noDelete,l=t.type,h||c?(c=c||"",h&&!c?(i.style.backgroundColor="",i.style.color="",i.style.display="none"):(s?(i.style.backgroundColor=s,i.style.color=I.chooseForegroundColor(s)):(i.style.backgroundColor="",i.style.color=""),i.style.display="inline-block"),i.innerHTML=c,(c=C(".mStickyRightClick",e)).className="mStickyRightClick",l&&(j.Q2k(4),I.appendClassName(c,j.I2k(l,"rightclick_"))),c.style.display="",e.style.display="inline-block",this.positionSticky(e),o||!0===this.bypassRightClick||this.bypassRightClick[l]?c.style.display="none":this.highlightViaTap||this.touches.length?(a&&(a.style.display="inline-block"),r&&(r.style.display="inline-block"),n&&(n.style.display="none")):n&&(n.style.display="block")):(i.innerHTML="",e.style.display="none",a&&(a.style.display="none"),r&&(r.style.display="none"),n&&(n.style.display="none")))},I.ChartEngine.prototype.setMeasure=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d="se";if(d+="tMe",d+="as",d+="ure",n=".mMeasu",n+="re",d="setMeasur",d+="e",!this.runPrepend("setMeasure",arguments)){if(n=C(".mMeasure",this.chart.drawingContainer),d="",j.X6t(),t){if(!1!==e){if(p=(p=Math.round(Math.abs(t-e)*this.chart.roundit)/this.chart.roundit).toFixed(this.chart.yAxis.printDecimalPlaces),this.internationalizer?d+=this.internationalizer.numbers.format(p):d+=p,j.R2k(14),s=j.L2k(t,e,t),.1<Math.abs(s))j.R2k(13),s=Math.round(j.I2k(100,s));else if(.01<Math.abs(s)){j.R2k(2),o=-j.L2k("33601336",1408769952),l=2;for(var g=1;j.Q5F(g.toString(),g.toString().length,80909)!==o;g++)s=Math.round(1e3*s)/10,j.Q2k(1),l+=j.I2k(1210341664,"2");-1268726166!==j.Q5F(l.toString(),l.toString().length,76726)&&(s=Math.round(s-3379)-82)}else s=Math.round(1e4*s)/100;s=this.internationalizer?(j.Q2k(3),this.internationalizer.percent.format(j.I2k(s,100))):(j.R2k(4),j.I2k("%",s)),j.Q2k(5),d+=j.L2k(s," (",")")}if(!1!==a){j.R2k(9),h=Math.abs(j.I2k(i,a)),j.R2k(2),c=j.L2k("2",1693505760);for(var f=1;-1749098766!==j.Q5F(f.toString(),f.toString().length,23716);f++)h=Math.round(h)+1,u=this.translateIf("Bars"),c+=2;-420922658!==j.d5F(c.toString(),c.toString().length,46418)&&(h=Math.round(h)/5,u=this.translateIf("")),j.R2k(15),d+=j.L2k(u," ",h," ")}n&&(n.innerHTML=d)}else this.anyHighlighted||""!==this.currentVectorParameters.vectorType||this.clearMeasure();this.activeDrawing||((n=this.controls.mSticky)&&(p=n.children[0],r?(n.style.display="inline-block",p.style.display="inline-block",t&&(p.innerHTML=d),this.positionSticky(n)):(n.style.display="none",p.innerHTML="")),this.runAppend("setMeasure",arguments))}},I.ChartEngine.prototype.clearMeasure=function(){var t=C(".mMeasure",this.chart.drawingContainer);t&&(t.innerHTML="")},I.ChartEngine.prototype.pixelFromBar=function(t,e){var i,a;return e=e||this.chart,i=0,i=(a=this.chart.segmentImage)&&a[t]&&a[t].leftOffset?a[t].leftOffset:(t+.5)*this.layout.candleWidth,i=e.panel.left+Math.floor(i+this.micropixels)-1,j.X6t(),i},I.ChartEngine.prototype.barFromPixel=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g;if(e=e||this.chart,i=this.chart.segmentImage,a=this.micropixels,r=this.layout.candleWidth,i){if(n=t-e.panel.left-a,s=2,l=i.length,j.R2k(3),h=Math.round(j.I2k(l,s)),(p=i[l-1].leftOffset+i[l-1].candleWidth/2)<n)return l+Math.floor((t-p-e.panel.left-a)/r);for(var f=1;f<l&&(s*=2,o=i[h])&&(c=o.leftOffset,u=o.candleWidth/2,j.R2k(9),d=j.I2k(u,c),j.Q2k(4),g=j.I2k(u,c),!(0===h||d<=n&&n<g));f++)n<d?h-=Math.max(1,Math.round(l/s)):h+=Math.max(1,Math.round(l/s)),h=Math.max(0,Math.min(l-1,h));if(!i[h])for(f=0;f<l;f++)if(o=i[f]){if(n<(c=o.leftOffset)-(u=o.candleWidth/2))return j.Q2k(9),Math.max(0,j.L2k(1,f));if(n<c+u)return f;if(c+u<=n)return j.Q2k(4),j.I2k(1,f)}return h}return j.X6t(),Math.floor((t-e.panel.left-a)/r)},I.ChartEngine.prototype.tickFromPixel=function(t,e){var i;return j.l6t(),i=(e=e||this.chart).dataSet.length-e.scroll,e.segmentImage?i+=this.barFromPixel(t,e):i+=Math.floor((t-e.panel.left-this.micropixels)/this.layout.candleWidth),i},I.ChartEngine.prototype.pixelFromTick=function(t,e){var i,a,r,n,s,o,l,h,c;return i=(e=e||this.chart).dataSegment,a=e.dataSet,r=e.segmentImage,n=this.micropixels,s=i?i.length:0,o=e.panel,l=e.scroll,c=t-a.length+l,h=s?i[c]:null,r&&(h=r[c]),j.X6t(),h&&h.leftOffset?o.left+Math.floor(h.leftOffset+n):(c=e=0,h=s?i[s-1]:null,r&&(j.R2k(9),h=r[j.L2k(1,s)]),h&&h.leftOffset&&s<t-a.length+l&&(e=h.leftOffset-h.candleWidth/2,c=s),e+o.left+Math.floor((t-c-a.length+l+.5)*this.layout.candleWidth+n))},I.ChartEngine.prototype.pixelFromDate=function(t,e,i,a){return j.X6t(),this.pixelFromTick(this.tickFromDate(t,e,i,a),e)},I.ChartEngine.prototype.transformedPriceFromPixel=function(t,e,i){return e=e||this.chart.panel,t=(i=i||e.yAxis).bottom-t,i.multiplier?(e=i.low+t/i.multiplier,i.semiLog&&(i=i.logLow+t*i.logShadow/i.height,e=Math.pow(10,i)),e):null},I.ChartEngine.prototype.priceFromPixel=function(t,e,i){return e=e||this.chart.panel,t=this.transformedPriceFromPixel(t,e,i),this.charts[e.name]&&e.chart.untransformFunc&&(i&&i!=e.yAxis||(t=e.chart.untransformFunc(this,e.chart,t,i))),t},I.ChartEngine.prototype.valueFromPixel=function(t,e,i){return e=(e=e||this.whichPanel(t))||(t<=0?this.panels[I.first(this.panels)]:this.panels[I.last(this.panels)]),this.priceFromPixel(t,e,i)},I.ChartEngine.prototype.valueFromPixelUntransform=function(t,e,i){return j.l6t(),this.valueFromPixel(t,e,i)},I.ChartEngine.prototype.pixelFromPriceTransform=function(t,e,i){return this.pixelFromPrice(t,e,i)},I.ChartEngine.prototype.pixelFromTransformedValue=function(t,e,i){var a;return e=e||this.chart.panel,i=((a=i||e.yAxis).high-t)*a.multiplier,a.semiLog&&(e=Math.max(t,0),t=Math.log(e)/Math.LN10,i=(e=a.height)-e*(t-a.logLow)/a.logShadow),i+=a.top,j.l6t(),i},I.ChartEngine.prototype.pixelFromPrice=function(t,e,i){return e=e||this.chart.panel,j.l6t(),this.charts[e.name]&&e.chart.transformFunc&&(i&&i!=e.yAxis||(t=e.chart.transformFunc(this,e.chart,t,i))),this.pixelFromTransformedValue(t,e,i)},I.ChartEngine.prototype.pixelFromValueAdjusted=function(t,e,i,a){var r;return this.layout.adj||!this.charts[t.name]?this.pixelFromPrice(i,t,a):0<(e=Math.round(e))&&e<t.chart.dataSet.length&&(r=t.chart.dataSet[e].ratio)?(j.R2k(13),this.pixelFromPrice(j.I2k(r,i),t,a)):(j.l6t(),this.pixelFromPrice(i,t,a))},I.ChartEngine.prototype.adjustIfNecessary=function(t,e,i){var a,r;return!this.layout.adj&&t&&this.charts[t.name]&&0<(a=Math.round(e))&&a<t.chart.dataSet.length&&(r=t.chart.dataSet[a].ratio)?(j.R2k(3),j.L2k(i,r)):i},I.ChartEngine.prototype.setTransform=function(t,e,i){j.X6t(),t.transformFunc=e,t.untransformFunc=i},I.ChartEngine.prototype.unsetTransform=function(t){delete t.transformFunc,delete t.untransformFunc;for(var e=0;t.dataSet&&e<t.dataSet.length;e++)t.dataSet[e].transform=null},I.ChartEngine.prototype.undo=function(){this.runPrepend("undo",arguments)||(j.l6t(),this.activeDrawing&&(this.activeDrawing.abort(),this.activateDrawing(null),I.clearCanvas(this.chart.tempCanvas,this),this.draw(),I.swapClassName(this.controls.crossX,"stx_crosshair","stx_crosshair_drawing"),I.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing"),I.ChartEngine.drawingLine=!1),this.runAppend("undo",arguments))},I.ChartEngine.prototype.undoStamp=function(t,e){this.undoStamps.push(t),j.X6t(),this.dispatch("undoStamp",{before:t,after:e,stx:this})},I.ChartEngine.prototype.undoLast=function(){j.X6t(),this.activeDrawing?this.undo():this.undoStamps.length&&(this.drawingObjects=this.undoStamps.pop(),this.changeOccurred("vector"),this.draw())},I.ChartEngine.prototype.addDrawing=function(t){var e;j.X6t(),e=I.shallowClone(this.drawingObjects),this.drawingObjects.push(t),this.undoStamp(e,I.shallowClone(this.drawingObjects))},I.ChartEngine.prototype.connectTheDots=function(t,e,i,a,r,n){var s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w;if(n=n||{},"none"!=n.pattern&&(!0===r&&(r=this.chart.panel),null==a&&(a=this.chart.context),!(t.length<4))){s=0,o=this.chart.canvasHeight,l=this.chart.width,r&&(o=r.yAxis.bottom,s=r.yAxis.top),a.lineWidth=1.1,"object"==typeof e?(a.strokeStyle=e.color,e.opacity?a.globalAlpha=e.opacity:(j.R2k(16),a.globalAlpha=j.L2k(0,"1")),a.lineWidth=parseInt(I.stripPX(e.width),10)):!e||"auto"==e||I.isTransparent(e)?a.strokeStyle=this.defaultColor:a.strokeStyle=e,n.opacity&&(a.globalAlpha=n.opacity),n.lineWidth&&(a.lineWidth=n.lineWidth),h=I.borderPatternToArray(a.lineWidth,n.pattern),a.beginPath();for(var A=0;A<t.length-2;A+=2){if(c=t[A],j.Q2k(4),u=t[j.L2k(1,A)],j.R2k(17),p=t[j.I2k(A,"2")],j.R2k(4),d=t[j.I2k(3,A)],isNaN(c)||isNaN(p)||isNaN(u)||isNaN(d))return;g=0,f=1,j.Q2k(9),m=j.I2k(c,p),j.R2k(9),y=j.I2k(u,d);for(var T=0;T<4;T++){if(0===T&&(b=-m,j.Q2k(9),v=-j.I2k(c,0)),1==T&&(b=m,j.R2k(9),v=j.L2k(c,l)),2==T&&(b=-y,j.Q2k(9),v=-j.I2k(u,s)),3==T&&(b=y,j.Q2k(9),v=j.I2k(u,o)),j.Q2k(3),S=j.L2k(v,b),(d||0===d)&&0===b&&v<0)return!1;if(b<0){if(f<S)return!1;g<S&&(g=S)}else if(0<b){if(S<g)return!1;S<f&&(f=S)}}j.R2k(18),k=j.L2k(c,m,g),j.Q2k(18),x=j.I2k(u,y,g),j.R2k(18),C=j.I2k(c,m,f),j.Q2k(18),w=j.I2k(u,y,f);try{h&&h.length?a.dashedLineTo(k,x,C,w,h):(a.moveTo(k,x),a.lineTo(C,w))}catch(t){}}a.stroke(),a.closePath(),j.R2k(1),a.globalAlpha=j.I2k(607462432,"1"),a.lineWidth=1}},I.ChartEngine.prototype.plotSpline=function(t,e,i,a,r,n,s){var o,l;if("none"!=(s=s||{}).pattern){if(!0===n&&(n=this.chart.panel),null==r&&(r=this.chart.context),r.save(),r.lineWidth=1.1,"object"==typeof i)r.strokeStyle=i.color,i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,r.lineWidth=parseInt(I.stripPX(i.width),10);else if(n="a",n+="u",n+="t",n+="o",!i||"auto"==i||I.isTransparent(i)){o=2;for(var h=1;1405153774!==j.d5F(h.toString(),h.toString().length,62549);h++)r.strokeStyle=this.defaultColor,j.R2k(1),o+=j.I2k(1813867200,"2");713338405!==j.Q5F(o.toString(),o.toString().length,36821)&&(r.strokeStyle=this.defaultColor),r.strokeStyle=this.defaultColor}else r.strokeStyle=i;l=2;for(var c=1;-689345305!==j.Q5F(c.toString(),c.toString().length,83174);c++)s.opacity&&(r.globalAlpha=s.opacity),l+=2;-1118192861!==j.d5F(l.toString(),l.toString().length,93545)&&s.opacity&&(r.globalAlpha=s.opacity),s.lineWidth&&(r.lineWidth=s.lineWidth),i=I.borderPatternToArray(r.lineWidth,s.pattern),s.pattern&&r.setLineDash&&(r.setLineDash(i),r.lineDashOffset=0),r.beginPath(),u.plotSpline(t,e,r),r.stroke(),j.l6t(),r.closePath(),r.restore()}},I.ChartEngine.prototype.repositionDrawing=function(t,e){var i=this.panels[t.panelName],a=this.adjustIfNecessary(i,this.crosshairTick,this.valueFromPixel(this.backOutY(I.ChartEngine.crosshairY),i)),i=this.chart.tempCanvas;I.clearCanvas(i,this),e?t.render(i.context):t.reposition(i.context,t.repositioner,this.crosshairTick,a),t.measure&&t.measure()},I.ChartEngine.prototype.activateRepositioning=function(t){this.repositioningDrawing=t;t&&(this.draw(),this.repositionDrawing(t,!0)),this.chart.tempCanvas.style.display=t?"block":"none"},I.ChartEngine.prototype.activateDrawing=function(t,e){var i="bl";return i+="ock",t?(j.l6t(),e=e||this.chart.panel,(i=I.ChartEngine.drawingTools[t])||I.Drawing[t]&&(i=I.Drawing[t],I.ChartEngine.registerDrawingTool(t,i)),i&&(this.activeDrawing=new i,this.activeDrawing.construct(this,e),!this.charts[e.name]&&this.activeDrawing.chartsOnly)?(this.activeDrawing=null,!1):(this.chart.tempCanvas.style.display="block",!0)):(this.activeDrawing=null,!(this.chart.tempCanvas.style.display="none"))},I.ChartEngine.prototype.drawingClick=function(t,e,i){var a,r,n,s;if(I.Drawing&&t&&""===this.openDialog&&(this.activeDrawing||this.activateDrawing(this.currentVectorParameters.vectorType,t))){if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw)return void(I.ChartEngine.drawingLine||this.activateDrawing(null));a=this.tickFromPixel(e,t.chart),r=this.panels[this.activeDrawing.panelName],n=2;for(var o=1;277983216!==j.d5F(o.toString(),o.toString().length,12759);o++)s=this.adjustIfNecessary(r,a,this.valueFromPixel(i,r)),n+=2;return-1956799850!==j.Q5F(n.toString(),n.toString().length,65066)&&(s=this.adjustIfNecessary(r,a,this.valueFromPixel(i,r))),this.preferences.magnet&&this.magnetizedPrice&&(s=this.adjustIfNecessary(r,a,this.magnetizedPrice)),this.activeDrawing.click(this.chart.tempCanvas.context,a,s)?this.activeDrawing&&(I.ChartEngine.drawingLine=!1,I.clearCanvas(this.chart.tempCanvas,this),this.addDrawing(this.activeDrawing),this.activateDrawing(null),this.adjustDrawings(),this.draw(),this.changeOccurred("vector"),I.swapClassName(this.controls.crossX,"stx_crosshair","stx_crosshair_drawing"),I.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing")):(this.changeOccurred("drawing"),I.ChartEngine.drawingLine=!0,I.swapClassName(this.controls.crossX,"stx_crosshair_drawing","stx_crosshair"),I.swapClassName(this.controls.crossY,"stx_crosshair_drawing","stx_crosshair")),!0}return!1}},I.ChartEngine.prototype.whichPanel=function(t){var e,i;for(i in this.panels)if(e=this.panels[i],!e.hidden&&t>e.top&&t<e.bottom)return e;return null},I.ChartEngine.prototype.mouseup=function(t){var e,i,a;if(!this.runPrepend("mouseup",arguments)){if(this.swipe.end=!0,this.cancelLongHold=!0,this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||250<Date.now()-this.mouseTimer)return this.changeOccurred("vector"),I.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.adjustDrawings(),void this.draw();this.activateRepositioning(null)}if(this.repositioningBaseline)return this.repositioningBaseline=null,(i=this.mainSeriesRenderer||{}).params&&i.params.baseline&&"mountain"!=i.params.type&&(this.chart.panel.yAxis.scroll=this.pixelFromPrice(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/2),void this.draw();if(e=this.userPointerDown,this.userPointerDown=!1,this.displayInitialized)if(this.grabbingScreen=!1,""===this.openDialog){if(this.grabOverrideClick)return this.overXAxis||this.overYAxis||this.swipeRelease(),I.unappendClassName(this.container,"stx-drag-chart"),this.grabOverrideClick=!1,this.doDisplayCrosshairs(),void this.updateChartAccessories();if(I.ChartEngine.insideChart&&I.unappendClassName(this.container,"stx-drag-chart"),I.ChartEngine.resizingPanel)this.releaseHandle();else{if(t=t||event,a=this.backOutY(t.clientY),i=this.backOutX(t.clientX),t.which&&2<=t.which||t.button&&2<=t.button||t.ctrlKey)return this.anyHighlighted&&!0!==this.bypassRightClick?(this.rightClickHighlighted(),t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),t.stopPropagation(),!1):(this.dispatch("rightClick",{stx:this,panel:this.currentPanel,x:i,y:a}),!0);t.clientX<this.left||t.clientX>this.right||t.clientY<this.top||t.clientY>this.bottom||(!e||this.longHoldTookEffect&&!this.activeDrawing||this.drawingClick(this.currentPanel,i,a),j.l6t(),this.activeDrawing||this.longHoldTookEffect||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:i,y:a}),this.runAppend("mouseup",arguments))}}else I.ChartEngine.insideChart&&I.unappendClassName(this.container,"stx-drag-chart")}},I.ChartEngine.prototype.grabbingHand=function(){j.X6t(),this.allowScroll&&this.grabbingScreen&&(I.touchDevice||I.appendClassName(this.container,"stx-drag-chart"))},I.ChartEngine.prototype.mousedown=function(t){var e,i,a,r,n,s;if(!this.runPrepend("mousedown",arguments)&&(this.grabOverrideClick=!1,this.displayInitialized&&this.displayCrosshairs&&!this.repositioningDrawing&&!this.editingAnnotation&&!((t=t||event).which&&2<=t.which||t.button&&2<=t.button)))if(n=this.container.getBoundingClientRect(),this.top=n.top,j.l6t(),this.left=n.left,this.right=this.left+this.width,this.bottom=this.top+this.height,t.clientX>=this.left&&t.clientX<=this.right&&t.clientY>=this.top&&t.clientY<=this.bottom){if(I.ChartEngine.insideChart=!0,this.currentPanel){this.manageTouchAndMouse&&t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,this.hasDragged=!1,this.userPointerDown=!0,e=this.currentPanel.chart;for(var o,l=0;l<this.drawingObjects.length;l++)if((i=this.drawingObjects[l]).highlighted&&!i.permanent){if(this.cloneDrawing)return(a=new I.ChartEngine.drawingTools[i.name]).reconstruct(this,i.serialize()),this.drawingObjects.push(a),this.activateRepositioning(a),void(a.repositioner=i.repositioner);if(a=this.currentVectorParameters.vectorType,!(I.Drawing&&a&&I.Drawing[a]&&(new I.Drawing[a]).dragToDraw))return void this.activateRepositioning(i)}(s=this.mainSeriesRenderer||{}).params&&s.params.baseline&&!1!==e.baseline.userLevel&&this.controls.baselineHandle&&(r=this.valueFromPixel(this.cy-5,this.currentPanel),n=this.valueFromPixel(this.cy+5,this.currentPanel),s=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10),e.baseline.actualLevel<r&&e.baseline.actualLevel>n&&this.cx>s)?this.repositioningBaseline={lastDraw:Date.now()}:(this.drawingClick(this.currentPanel,this.cx,this.cy),this.activeDrawing&&this.activeDrawing.dragToDraw||(this.grabbingScreen=!0,e.spanLock=!1,this.yToleranceBroken=!1,t=t||event,this.grabStartX=t.clientX,this.grabStartY=t.clientY,this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=e.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(this.currentPanel),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPanel=this.currentPanel,setTimeout((o=this,j.l6t(),function(){j.l6t(),o.grabbingHand()}),100),this.swipeStart(e),this.longHoldTime&&this.startLongHoldTimer(),this.runAppend("mousedown",arguments)))}}else I.ChartEngine.insideChart=!1},I.ChartEngine.prototype.startLongHoldTimer=function(){var i=this;j.l6t(),this.cancelLongHold=!1,this.longHoldTimeout&&clearTimeout(this.longHoldTimeout),this.longHoldTimeout=setTimeout(function(){for(var t=2,e=1;-776006875!==j.d5F(e.toString(),e.toString().length,57793);e++){if(i.cancelLongHold)return;i.dispatch("longhold",{stx:i,panel:i.currentPanel,x:i.cx,y:i.cy}),t+=2}if(1967890989!==j.Q5F(t.toString(),t.toString().length,3687)){if(i.cancelLongHold)return;i.dispatch("",{stx:i,panel:i.currentPanel,x:i.cx,y:i.cy})}i.longHoldTookEffect=!0},this.longHoldTime)},I.ChartEngine.prototype.changeVectorType=function(t){this.currentVectorParameters.vectorType=t,I.Drawing.initializeSettings(this,t),I.ChartEngine.drawingLine&&this.undo(),j.l6t(),this.setCrosshairColors(),I.ChartEngine.insideChart&&this.doDisplayCrosshairs()},I.ChartEngine.prototype.changeVectorParameter=function(t,e){var i="u";return i+="n",i+="define",i+="d",i="line",i+="Width","axisLabel"==t?e="true"===e.toString()||Number(e):"lineWidth"==t?e=Number(e):"fontSize"==t&&(e=parseInt(e,10)+"px"),(void 0!==(i=this.currentVectorParameters)[t]||"font"==t.substr(0,4)&&("family"==(t=t.substr(4).toLowerCase())&&"default"==e.toLowerCase()&&(e=null),void 0!==(i=i.annotation.font)[t]))&&(i[t]=e,!0)},I.ChartEngine.prototype.rightClickOverlay=function(t,e){var i="ri";i+="ght",i+="ClickOver",i+="lay",i="right",i+="Cli",i+="ckOverl",i+="ay",this.runPrepend("rightClickOverlay",arguments)||((i=this.overlays[t]).editFunction?i.editFunction(e):this.removeOverlay(t),this.runAppend("rightClickOverlay",arguments))},I.ChartEngine.prototype.addOverlay=function(t){j.X6t(),this.runPrepend("addOverlay",arguments)||(this.overlays[t.name]=t,this.runAppend("addOverlay",arguments))},I.ChartEngine.prototype.removeOverlay=function(t){var e,i,a,r,n,s;if(!this.runPrepend("removeOverlay",arguments)){for(var o in e=this.overlays[t],this.overlays){i=this.overlays[o],a=["Field"],I.Studies&&(a=I.Studies.getFieldInputs(i));for(var l=0;l<a.length;l++)e.outputMap[i.inputs[a[l]]]&&this.removeOverlay(i.name)}if(I.Studies&&(r=this.layout.studies[t],I.deleteRHS(I.Studies.studyPanelMap,r),e&&this.cleanupRemovedStudy(e)),e&&(r=this.panels[e.panel],delete this.overlays[t],this.deleteYAxisIfUnused(r,this.getYAxisByName(r,t))),!this.currentlyImporting){j.Q2k(6),n=j.L2k("2009793613",2147483647),s=2;for(var h=1;j.d5F(h.toString(),h.toString().length,8494)!==n;h++)this.displaySticky(),this.createDataSet(),s+=2;-1975033164!==j.Q5F(s.toString(),s.toString().length,87105)&&(this.displaySticky(),this.createDataSet()),this.changeOccurred("layout")}this.resetDynamicYAxis(),this.runAppend("removeOverlay",arguments)}},I.ChartEngine.prototype.addSeries=function(o,l,r){var n,s,t,h,c,e,i,a,u,p="d";if(p+="ispl",p+="ay",e=this.runPrepend("addSeries",arguments))return e;function d(t){var e,i,a,r=l.renderer||"Lines",n=l.name||I.uniqueID();if(l.renderer||l.name||l.color||l.chartType){if(!(e=t.getSeriesRenderer(n))){if(i={name:n,overChart:!0,useChartLegend:!0},l.chartType){i=I.extend({panel:l.panel,yAxis:l.yAxis},i),j.Q2k(0),a=j.I2k("2",0);for(var s=1;721846368!==j.Q5F(s.toString(),s.toString().length,35448);s++)e=I.Renderer.produce(l.chartType,i),j.Q2k(9),a+=j.I2k(0,"2");1771692247!==j.Q5F(a.toString(),a.toString().length,81294)&&(e=I.Renderer.produce(l.chartType,i))}else I.ensureDefaults(l,{name:i.name,overChart:!0,useChartLegend:!0}),e=new I.Renderer[r]({params:l});if(!e)return;t.setSeriesRenderer(e)}e.attachSeries(o,l),j.l6t(),!1!==l.loadData&&e.ready()}}function g(a){return j.l6t(),function(t){var e,i="s";j.l6t(),i+="ymb",i+="o",i+="lImport",t.error||(e=t.quotes,i=l.fillGaps,c.cleanupGaps||(i=!1),e=c.doCleanupGaps(e,c.chart,{cleanupGaps:i}),c.updateChartData(e,c.chart,{secondarySeries:n,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),s.loading=!1,d(c)),null===l.action||h.length||c.dispatch(c.currentlyImporting?"symbolImport":"symbolChange",{stx:c,symbol:a.symbol,symbolObject:a.symbolObject,action:l.action}),r&&r.call(c,t.error,s)}}if(i=o||null,o=(n=o)||I.uniqueID(),s={parameters:l?I.clone(l):{},yValueCache:[],display:i,id:o,loading:!0},(l=s.parameters).symbol&&(n=l.symbol),l.yAxis&&(l.yAxis=new I.ChartEngine.YAxis(l.yAxis)),I.ensureDefaults(l,{chartName:this.chart.name,symbolObject:{symbol:n},panel:this.chart.panel.name,fillGaps:!1,action:"add-series"}),"display"in l&&(s.display=l.display),l.isComparison&&(l.shareYAxis=!0),a=this.charts[l.chartName],t=l.symbolObject,n=l.symbol=t.symbol,s.display||(s.display=n||l.field),s.endPoints={},l.gapDisplayStyle||!1===l.gapDisplayStyle||(l.gapDisplayStyle=l.gaps),l.isComparison&&void 0===l.gapDisplayStyle&&(l.gapDisplayStyle="transparent"),h=this.getSeries({symbolObject:t,chart:a,includeMaster:!0}),a.series[o]=s,c=this,l.isComparison&&this.setComparison(!0,a),e=(p=(p=a.masterData)||(a.masterData=this.masterData=[])).length,l.data&&!l.data.useDefaultQuoteFeed)g({symbol:n,symbolObject:t,action:l.action})({quotes:l.data});else if(h.length)s.endPoints=h[0].endPoints,d(this),r&&setTimeout(function(){j.l6t(),r.call(c,null,s)},0);else if(this.quoteDriver&&!1!==l.loadData)a=(i=this.quoteDriver).makeParams(n,t,a),e&&(a.startDate=p[0].DT,a.endDate=this.isHistoricalMode()?p[p.length-1].DT:new Date),a.stx.isEquationChart(a.symbol)?I.fetchEquationChart(a,g(a)):I.ChartEngine.Driver.fetchData(I.QuoteFeed.SERIES,i.quoteFeed,a,g(a));else{u=2;for(var f=1;-281381796!==j.Q5F(f.toString(),f.toString().length,70791);f++)d(this),u+=2;929430754!==j.d5F(u.toString(),u.toString().length,49297)&&d(this),r&&r.call(this,null,s)}return this.runAppend("addSeries",arguments),s},I.ChartEngine.prototype.getSeries=function(t){var e,i,a,r,n;for(n in j.X6t(),e=(s=t.chart||this.chart).series,i=(i=t.symbolObject)||{symbol:t.symbol},a=[],e)r=e[n],I.symbolEqual(i,r.parameters.symbolObject)&&a.push(r);t.includeMaster&&I.symbolEqual(i,s.symbolObject)&&a.push({}),j.Q2k(6),t=j.L2k("1415924678",2147483647);var s=1;return-516726303!==j.d5F(s.toString(),s.toString().length,8704)||j.d5F(2..toString(),2..toString().length,28386)!==t?a:void 0},I.ChartEngine.prototype.modifySeries=function(t,e){var i,a,r,n,s;if(j.X6t(),!this.runPrepend("modifySeries",arguments)&&e&&("string"==typeof t?(a=t,i=(r=e.chartName?this.charts[e.chartName]:this.chart).series[a]):(a=(i=t).id,r=this.charts[i.parameters.chartName]),i)){for(var o in I.extend(i.parameters,e),r.seriesRenderers){s=(n=r.seriesRenderers[o]).seriesParams;for(var l=0;l<s.length;++l)if(s[l].id===i.id){n.attachSeries(a,i.parameters);break}}this.changeOccurred("layout"),this.runAppend("modifySeries",arguments)}},I.ChartEngine.prototype.isEquationChart=function(t){return!(!this.allowEquations||!I.computeEquationChart)&&(j.l6t(),!(!t||"="!=t[0]))},I.ChartEngine.prototype.getDataFields=function(t){var e,i,a,r=(t=t||this.chart).defaultPlotField||"Close";for(a in(e=["Open","High","Low"]).push(r),t.series)i=t.series[a].parameters,e.push(i.symbol);return e},I.ChartEngine.prototype.cleanMasterData=function(t,e){var i,a,r,n,s;function o(t,e){j.l6t();for(var i=0;i<e.length;i++)if(void 0!==t[e[i]])return!1;return!0}if(i=t.symbol,(a=e.masterData)&&a.length){for(r=this.getDataFields(e),n=0;delete(s=a[n])[i],o.call(this,s,r)?a.splice(n,1):n++,n<a.length;);a=this.doCleanupGaps(a,e,{noCleanupDates:!0}),this.setMasterData(a,e,{noCleanupDates:!0}),this.clearCurrentMarketData(e,i)}},I.ChartEngine.prototype.deleteSeries=function(t,e,i){var a,r,n,s,o,l;if(j.l6t(),!this.runPrepend("deleteSeries",arguments)&&(a=(i=i||{}).action||"remove-series",s=(e="object"==typeof t?(r=t.id,e||this.charts[t.parameters.chartName]):(r=t,e||this.chart)).series[r])){if(n=s.parameters.loadData,l=s.parameters.symbolObject,delete e.series[r],s=this.getSeries({symbolObject:l,includeMaster:!0}),!1===n&&s.push(r),s.length||this.cleanMasterData(l,e),"percent"!=this.layout.chartScale){for(var h in o=!1,e.series)e.series[h].parameters.isComparison&&(o=!0);o||this.setComparison(!1,e)}this.createDataSet(),s.length||this.dispatch(this.currentlyImporting?"symbolImport":"symbolChange",{stx:this,symbol:l.symbol,symbolObject:l,action:a}),this.quoteDriver&&this.quoteDriver.updateSubscriptions(),this.runAppend("deleteSeries",arguments)}},I.ChartEngine.prototype.removeSeries=function(t,e){var i,a,r;if(!this.runPrepend("removeSeries",arguments)){for(var n in a=!1,(e="object"==typeof t?(i=t.id,e||this.charts[t.parameters.chartName]):(i=t,e||this.chart)).seriesRenderers)for(var s=(r=e.seriesRenderers[n]).seriesParams.length-1;0<=s;s--)r.seriesParams[s].id===i&&(r.removeSeries(i),r.seriesParams.length<1&&this.removeSeriesRenderer(r),a=!0);a||this.deleteSeries(i,e),this.resetDynamicYAxis(),this.draw(),this.runAppend("removeSeries",arguments)}},I.ChartEngine.prototype.isDailyInterval=function(t){return console.warn("CIQ.ChartEngine.prototype.isDailyInterval has been deprecated. Use use static version insted"),j.l6t(),I.ChartEngine.isDailyInterval(t)},I.ChartEngine.prototype.setPeriodicity=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S;if(!this.runPrepend("setPeriodicity",arguments))if(r=null,t&&"object"==typeof t?(i=t.period,a=t.interval,r=t.timeUnit):(i=t,a=e,e=arguments[arguments.length-1],3<arguments.length&&(r=arguments[2])),"function"!=typeof e&&(e=null),i=(o=I.cleanPeriodicity(i,a,r)).period,a=o.interval,r=o.timeUnit,s=(n=this.layout).candleWidth,n.setSpan={},n.range={},this.chart.inflectionPoint=null,o=!1,this.chart.symbol&&(o=this.needDifferentData({period:i,interval:a,timeUnit:r})),n.periodicity=i,n.interval=a,n.timeUnit=r,o){if(this.changeOccurred("layout"),this.clearCurrentMarketData(),this.quoteDriver)for(var k in this.charts)(l=this.charts[k]).symbol&&(this.displayInitialized?this.quoteDriver.newChart({symbol:l.symbol,symbolObject:l.symbolObject,chart:l},e):this.newChart(l.symbol,null,l,e));else this.dataCallback?(this.dataCallback(),e&&e(null)):console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");this.home()}else{for(h in this.charts)if(u=(c=this.charts[h]).dataSegment,p=c.dataSet,d=c.maxTicks,g=c.scroll,f=u?u.length:0,m=p?p.length:0,b=Math.round(c.maxTicks/2),this.setCandleWidth(s,c),S=!(v=!0),g<=d?v=!1:u&&!u[b]&&(v=!1,j.R2k(9),S=j.L2k(m,g)),v&&0<f&&(d<(Math.round(this.chart.width/s-.499)-1)/2&&(j.Q2k(9),b=j.I2k(1,f)),f<=b?(y=u[f-1].DT,j.R2k(9),b=j.I2k(1,f)):y=u[b].DT),this.createDataSet(),v){if(0<f)for(var x=m-1;0<=x;x--)if(p[x].DT.getTime()<y.getTime()){j.Q2k(19),c.scroll=j.L2k(b,x,1,m);break}}else S?c.scroll=p.length+S:(S=Math.round(this.preferences.whitespace/s),j.R2k(20),c.scroll=j.L2k(S,d,1));if(this.displayInitialized&&this.draw(),this.changeOccurred("layout"),this.quoteDriver)for(h in this.charts)(c=this.charts[h]).symbol&&c.moreAvailable&&this.quoteDriver.checkLoadMore(c);this.home(),e&&e(null),this.runAppend("setPeriodicity",arguments)}},I.ChartEngine.prototype.setPeriodicityV2=function(t,e,i,a){j.X6t(),"function"==typeof i&&(a=i,i=null),this.runPrepend("setPeriodicityV2",arguments)||(this.setPeriodicity(t,e,i,a),this.runAppend("setPeriodicityV2",arguments))},I.ChartEngine.prototype.drawVectors=function(){var t,e,i,a,r;if(j.X6t(),!this.vectorsShowing&&!this.runPrepend("drawVectors",arguments)){if(this.vectorsShowing=!0,!this.chart.hideDrawings){for(t={},i=0;i<this.drawingObjects.length;i++)a=this.drawingObjects[i],this.repositioningDrawing!==a&&(e=a.panelName,this.panels[a.panelName]&&!this.panels[a.panelName].hidden&&(t[e]||(t[e]=[]),t[e].push(a)));for(e in t){for(this.startClip(e),r=t[e],i=0;i<r.length;i++)r[i].render(this.chart.context);this.endClip()}}this.runAppend("drawVectors",arguments)}},I.ChartEngine.NONE=0,I.ChartEngine.CLOSEUP=1,I.ChartEngine.CLOSEDOWN=2,I.ChartEngine.CLOSEEVEN=4,I.ChartEngine.CANDLEUP=8,I.ChartEngine.CANDLEDOWN=16,I.ChartEngine.CANDLEEVEN=32,I.ChartEngine.prototype.displayChart=function(t){this.runPrepend("displayChart",arguments)||(this.rendererAction(t,"main"),j.l6t(),this.runAppend("displayChart",arguments))},I.ChartEngine.prototype.calculateATR=function(t,e,i){var a,r,n,s,o,l;i=i||t.dataSet,a=(a=t.state.calculations.atr)||(t.state.calculations.atr={}),e||(j.R2k(0),e=j.I2k("20",0)),r=[],a.accum&&(r=a.accum),j.l6t();for(var h=0;h<i.length;h++)if(s=i[h],n=h?i[h-1]:a.q1){if(o=Math.max(s.High-s.Low,Math.abs(s.High-n.Close),Math.abs(s.Low-n.Close)),r.length<e){if(r.push(o)==e){for(var c=l=0;c<r.length;c++)l+=r[c];j.Q2k(3),s.atr=j.I2k(l,e)}}else s.atr=(n.atr*(e-1)+o)/e;s.trueRange=o}t.state.calculations.atr={accum:r,q1:n}},I.ChartEngine.prototype.calculateMedianPrice=function(t,e){var i;e=e||t.dataSet;for(var a=0;a<e.length;++a)(i=e[a])["hl/2"]=(i.High+i.Low)/2},I.ChartEngine.prototype.calculateTypicalPrice=function(t,e){var i;e=e||t.dataSet;for(var a=0;a<e.length;++a)i="h",i+="l",i+="c",i+="/3",(i=e[a])["hlc/3"]=(i.High+i.Low+i.Close)/3},I.ChartEngine.prototype.calculateWeightedClose=function(t,e){var i;j.l6t(),e=e||t.dataSet;for(var a=0;a<e.length;++a)(i=e[a])["hlcc/4"]=(i.High+i.Low+2*i.Close)/4},I.ChartEngine.prototype.calculateOHLC4=function(t,e){var i;e=e||t.dataSet;for(var a=0;a<e.length;++a)(i=e[a])["ohlc/4"]=(i.Open+i.High+i.Low+i.Close)/4},I.ChartEngine.prototype.currentQuote=function(){if(!this.chart.dataSet)return null;for(var t=this.chart.dataSet.length-1;0<=t;t--)if(this.chart.dataSet[t])return this.chart.dataSet[t];return j.X6t(),null},I.ChartEngine.prototype.mostRecentClose=function(t){var e,i;if(!this.chart.dataSet)return null;for(var a=this.chart.dataSet.length-1;0<=a;a--)if(e=this.chart.dataSet[a],e&&(!t||(e=e[t])||0===e)){if(i=e.iqPrevClose,"object"==typeof e&&(e=e.Close),"number"==typeof e)return e;if("number"==typeof i)return i}return null},I.ChartEngine.prototype.correctIfOffEdge=function(t){var e,i,a,r,n,s;if(j.X6t(),!this.runPrepend("correctIfOffEdge",arguments)){for(var o in this.charts)n=(e=this.charts[o]).dataSet,i=e.maxTicks,s=this.layout,r=this.minimumLeftBars,this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[s.chartType]||r--,a=Math.min(r,i),e.allowScrollPast?(j.R2k(9),r=j.I2k(a,i),a>n.length&&(r=i-n.length),e.scroll-r>=n.length&&(e.scroll=n.length+r-1,this.micropixels=0),e.scroll<=a&&(e.scroll=a,this.micropixels=0)):(e.scroll<a&&(e.scroll=a),e.scroll>n.length&&(e.scroll=n.length)),!1===e.allowScrollFuture&&(n=this.getLabelOffsetInPixels(e,s.chartType)+s.candleWidth*e.whiteSpaceFutureTicks,s=i-Math.round(n/s.candleWidth)-1,(this.micropixels<0?e.scroll-1:e.scroll)<s&&(e.scroll=s,this.micropixels=0)),this.manageTouchAndMouse&&this.controls.chartControls&&(this.controls.chartControls.style.display="block");this.runAppend("correctIfOffEdge",arguments)}},I.ChartEngine.prototype.createDataSegment=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b;if(j.l6t(),!this.runPrepend("createDataSegment",arguments)){for(var v in this.charts){e=this.charts[v],t&&(e=t),e.isComparison&&I.Comparison.createComparisonSegmentInner(this,e),i=e.dataSet,a=e.baseline,r=e.scroll,n=e.maxTicks,o=(s=this.layout).candleWidth,a.actualLevel=a.userLevel||a.defaultLevel,l=a.includeInDataSegment&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars)&&!this.standaloneBars[s.chartType],c=e.dataSegment=[],u=i.length-1-r-1,p=e.defaultPlotField;for(var S=-1;S<r&&S<n;S++)u++,-1==S&&!l||(u<i.length&&0<=u?((h=i[u]).candleWidth=null,c.push(h),null===a.actualLevel&&0<=S&&(p&&"Close"!=p?(j.Q2k(21),!(d=i[j.L2k(u,"1",2127793376)])[p]&&0!==d[p]||(a.actualLevel=d[p])):!h.iqPrevClose&&0!==h.iqPrevClose||(a.actualLevel=h.iqPrevClose))):u<0&&c.push(null));if(e.segmentImage=null,(g=this.mainSeriesRenderer||{}).params&&g.params.volume){f=0,m=e.width-(n-c.length-1)*s.candleWidth;for(var k=0;k<c.length;k++)(h=c[k])&&(f+=h.Volume);y=0,e.segmentImage=[];for(var x=0;x<c.length;x++)h=c[x],e.segmentImage[x]={},b=null,h?(h.Volume?(h.candleWidth=m*h.Volume/f,b=y+h.candleWidth/2,y+=h.candleWidth):(h.candleWidth=o,j.R2k(22),b=j.I2k(o,885721056,y,"2"),y+=o),e.segmentImage[x]={tick:h.tick,candleWidth:h.candleWidth,leftOffset:b}):y+=o}if(t)break}e&&e.isComparison&&this.clearPixelCache(),this.positionCrosshairsAtPointer(),this.runAppend("createDataSegment",arguments)}},I.ChartEngine.prototype.getDataSegment=function(t){var e,i;return(e=(t=t||this.chart).dataSegment)&&e.length?(i=0,right=e.length,this.pixelFromBar(i,t)<t.panel.left&&i++,j.l6t(),this.pixelFromBar(right-1,t)>t.panel.right&&right--,e.slice(i,right)):[]},I.ChartEngine.prototype.leftTick=function(){return j.X6t(),this.chart.dataSet.length-this.chart.scroll},I.ChartEngine.prototype.getStartDateOffset=function(){for(var t=0;t<this.chart.dataSegment.length;t++)if(this.chart.dataSegment[t])return t;return 0},I.ChartEngine.prototype.setStartDate=function(t){for(var e=0;e<this.chart.dataSet.length;e++)if(this.chart.dataSet[e].DT.getTime()==t.getTime())return this.chart.scroll=this.chart.dataSet.length-e,void this.draw()},I.ChartEngine.prototype.updateListeners=function(t){var e,i;for(i in this.plugins)(e=this.plugins[i]).display&&e.listener&&e.listener(this,t)},I.ChartEngine.prototype.clearPixelCache=function(){var t,e,i,a;for(i in this.panels)(t=this.panels[i]).cacheHigh=null,t.cacheLow=null,t.cacheLeft=1e6,t.cacheRight=-1;for(a in j.l6t(),this.charts)if((e=this.charts[a]).dataSet)for(var r=0;r<e.dataSet.length;r++)e.dataSet[r].cache={}},I.ChartEngine.prototype.createYAxisLabel=function(t,e,i,a,r,n,s){var o,l,h,c,u,p;if(u="s",u+="tx_yax",u+="is",!1!==t.yAxis.drawPriceLabels&&!t.yAxis.noDraw&&!(o=s||t.yAxis).noDraw&&o.width){l=n||this.chart.context,p=this.getCanvasFontSize("stx_yaxis")+6,this.canvasFont("stx_yaxis",l),o.displayBorder,h=this.drawBorders?3:0;try{c=l.measureText(e).width+h+6}catch(t){c=o.width}u=o.left-3+3,j.Q2k(5),s=j.L2k(3,u,h),n=3,"left"===(null===o.position?t.chart.yAxis:o).position&&(u=o.left+o.width+3-3,j.Q2k(23),c=j.L2k(c,"1"),j.Q2k(20),s=j.L2k(3,u,h),n=-3,l.textAlign="right"),i+p/2>o.bottom&&(i=o.bottom-p/2),i-p/2<o.top&&(i=o.top+p/2),void 0===I[this.yaxisLabelStyle]&&(this.yaxisLabelStyle="roundRectArrow"),t=this.yaxisLabelStyle,o.yaxisLabelStyle&&(t=o.yaxisLabelStyle),r={ctx:l,x:u,y:i,top:i-p/2,width:c,height:p,radius:n,backgroundColor:a,fill:!0,stroke:!1,margin:{left:s-u,top:1},txt:e,color:r},I[t](r)}},I.ChartEngine.prototype.createXAxisLabel=function(t,e,i,a,r,n){var s,o,l,h;s=this.chart.context,l="stx-float-date",h=this.getCanvasFontSize(l)+4,this.canvasFont(l,s);try{o=s.measureText(e).width+4}catch(t){o=0}l=t.top+t.height-h,i+o/2<t.left||i-o/2>t.right||(n||(i+o/2>t.right&&(i=t.right-o/2),i-o/2<t.left&&(i=t.left+o/2)),s.fillStyle=a,I.roundRect({ctx:s,x:i-o/2,top:l,width:o,height:h,radius:3,fill:!0}),h=t.bottom-t.yAxis.bottom-h,s.beginPath(),j.X6t(),n?(j.R2k(9),s.moveTo(j.I2k(h,i),l),j.Q2k(20),s.lineTo(i,j.I2k(h,l,1)),j.R2k(4),s.lineTo(j.I2k(h,i),l),s.closePath(),s.fill()):(s.moveTo(i,l),j.Q2k(9),s.lineTo(i,j.L2k(h,l)),s.strokeStyle=a,s.stroke()),s.textBaseline="top",s.fillStyle=r||I.chooseForegroundColor(a),s.fillStyle==a&&("#FFFFFF"==a.toUpperCase()?s.fillStyle="#000000":s.fillStyle="#FFFFFF"),j.R2k(24),s.fillText(e,j.L2k("2",2,2147483647,o,i),j.L2k(2,l,j.R2k(4))))},I.ChartEngine.prototype.drawCurrentHR=function(){var t,e,i,a,r,n,s,o,l,h,c,u,p,d;if(!this.runPrepend("drawCurrentHR",arguments)&&!(e=this.mainSeriesRenderer||{}).noCurrentHR){for(var g in j.l6t(),i=e.highLowBars||this.highLowBars[this.layout.chartType],this.charts)if(d="dat",d+="a",d+="Set",a=this.charts[g],r=a.panel,u=r.yAxis,!r.hidden&&!1!==u.drawCurrentPriceLabel&&!u.noDraw&&e.params&&(n=(n=u.whichSet)||"dataSet",!this.isHistoricalModeSet||"dataSegment"===n)){if(s=a[n].length,o=this.layout.candleWidth,"dataSegment"==n)for(;s>(a.width-this.micropixels+o/2+1)/o;)s--;if(s&&a[n][s-1]){(l=a.defaultPlotField)&&!i||(l="Close");do{if(c=h=a[n][--s][l],0===s)break}while(null===c);"dataSet"==n&&a.currentQuote?c=a.currentQuote[l]:2<=a[n].length&&(j.R2k(9),(p=a[n][j.I2k(1,s)])&&(h=p[l])),d=c<h?(t=this.canvasStyle("stx_current_hr_down").backgroundColor,this.canvasStyle("stx_current_hr_down").color):(t=this.canvasStyle("stx_current_hr_up").backgroundColor,this.canvasStyle("stx_current_hr_up").color),a.transformFunc&&(c=a.transformFunc(this,a,c)),p=Math.max(r.yAxis.printDecimalPlaces,r.chart.decimalPlaces),!u.maxDecimalPlaces&&0!==u.maxDecimalPlaces||(p=Math.min(p,u.maxDecimalPlaces)),u=u.priceFormatter?u.priceFormatter(this,r,c,p):this.formatYAxisPrice(c,r,p),p=this.pixelFromTransformedValue(c,r),this.createYAxisLabel(r,u,p,t,d),!0===this.preferences.currentPriceLine&&this.isHome()&&(d="d",d+="ashe",d+="d",r.chart.context.globalCompositeOperation="destination-over",this.plotLine(r.left,r.right,p,p,t,"line",r.chart.context,r,{pattern:"dashed",lineWidth:1,opacity:.8}),r.chart.context.globalCompositeOperation="source-over")}}this.runAppend("drawCurrentHR",arguments)}},I.ChartEngine.prototype.getDefaultColor=function(){var t,e,i,a;for(this.defaultColor="#000000",t=null,e=this.chart.container;!t||I.isTransparent(t);){if(!(i=getComputedStyle(e)))return;if(t=i.backgroundColor,I.isTransparent(t)&&(t="transparent"),!(e=e.parentNode)||!e.tagName)break}t?("transparent"==t&&(t="#FFFFFF"),this.containerColor=t,I.isTransparent(t)?this.defaultColor="#000000":(a=I.hsv(t)[2],this.defaultColor=.65<a?"#000000":"#FFFFFF")):this.containerColor="#FFFFFF"},I.ChartEngine.prototype.startAsyncAction=function(){this.pendingAsyncs||(this.pendingAsyncs=[]),j.l6t(),this.pendingAsyncs.push(!0)},I.ChartEngine.prototype.registerChartDrawnCallback=function(t){return this.asyncCallbacks||(this.asyncCallbacks=[]),this.asyncCallbacks.push(t),{fc:t}},I.ChartEngine.prototype.unregisterChartDrawnCallback=function(t){for(var e=0;e<this.asyncCallbacks.length;e++)if(this.asyncCallbacks[e]==t.fc)return void this.asyncCallbacks.splice(e,1)},I.ChartEngine.prototype.makeAsyncCallbacks=function(){if(this.asyncCallbacks&&(!this.pendingAsyncs||!this.pendingAsyncs.length))for(var t=0;t<this.asyncCallbacks.length;t++)this.asyncCallbacks[t]()},I.ChartEngine.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop(),this.makeAsyncCallbacks()},I.ChartEngine.prototype.draw=function(){var t,e,i,a,r,n;if(this.debug(),this.chart.canvas&&(j.l6t(),this.chart.dataSet&&this.chart.canvasHeight&&(this.offset=this.layout.candleWidth*this.candleWidthPercent/2,I.clearCanvas(this.chart.canvas,this),this.masterData&&(this.masterData.length||this.chart.currentMarketData.touched)&&!this.runPrepend("draw",arguments)))){for(i in this.getDefaultColor(),this.vectorsShowing=!1,this.drawPanels(),this.yAxisLabels=[],this.charts){e=this.charts[i],this.correctIfOffEdge(),this.createDataSegment(),r=this.createXAxis(e),this.initializeDisplay(e),this.drawXAxis(e,r);try{this.renderYAxis(e)}catch(t){if(t&&"reboot draw"===t.message)return this.draw();throw t}for(t in e.tmpWidth=Math.floor(this.layout.candleWidth*this.candleWidthPercent),e.tmpWidth%2==0&&(e.tmpWidth+=1,e.tmpWidth>this.layout.candleWidth&&(e.tmpWidth-=2)),e.tmpWidth<.5&&(e.tmpWidth=.5),this.plugins)(a=this.plugins[t]).display&&a.drawUnder&&a.drawUnder(this,e);this.chart.legend&&(this.chart.legend.colorMap=null),this.controls.baselineHandle&&(this.controls.baselineHandle.style.display="none"),this.rendererAction(e,"underlay"),I.Studies&&I.Studies.displayStudies(this,e,!0),this.displayChart(e),I.Studies&&I.Studies.displayStudies(this,e,!1),this.rendererAction(e,"overlay"),e.legend&&e.legend.colorMap&&e.legendRenderer&&e.legendRenderer(this,{chart:e,legendColorMap:e.legend.colorMap,coordinates:{x:e.legend.x,y:e.legend.y+e.panel.yAxis.top}})}for(i in this.charts)for(t in e=this.charts[i],this.plugins)(a=this.plugins[t]).display&&a.drawOver&&a.drawOver(this,e);for(var s in this.panels)this.panels[s].hidden||this.plotYAxisText(this.panels[s]);for(var o=0;o<this.yAxisLabels.length;o++)"series"==(n=this.yAxisLabels[o]).src&&n.args[6]&&!1===n.args[6].drawSeriesPriceLabels||this.createYAxisLabel.apply(this,n.args);for(i in this.createCrosshairs(),this.drawVectors(),this.drawCurrentHR(),this.displayInitialized=!0,this.controls.home&&(this.controls.home.style.display=this.isHome()?"none":"block"),this.positionMarkers(),this.charts)e=this.charts[i],this.quoteDriver&&!this.animations.zoom.running&&this.quoteDriver.checkLoadMore(e);this.runAppend("draw",arguments),this.makeAsyncCallbacks()}},I.ChartEngine.prototype.adjustBackingStore=function(t,e){var i,a,r;if(this.devicePixelRatio=window.devicePixelRatio||1,this.devicePixelRatio<1&&(this.devicePixelRatio=1),r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=this.devicePixelRatio/r,!this.useBackingStore)return j.R2k(6),void(this.devicePixelRatio=this.adjustedDisplayPixelRatio=j.L2k("1",2147483647));I.isAndroid&&!I.is_chrome||(a=t.width,r=t.height,j.Q2k(13),t.width=j.L2k(i,a),j.Q2k(13),t.height=j.L2k(i,r),j.Q2k(4),t.style.width=j.L2k("px",a),j.R2k(4),t.style.height=j.I2k("px",r),e.scale(i,i),this.adjustedDisplayPixelRatio=i,this.backing={ratio:i,width:t.width,height:t.height,styleWidth:a,styleHeight:r})},I.ChartEngine.prototype.reconstituteBackingStore=function(){var t;this.useBackingStore&&(t=this.chart.canvas).width!=this.backing.width&&(t.width=this.backing.width,t.height=this.backing.height,t.context.scale(this.backing.ratio,this.backing.ratio),this.adjustedDisplayPixelRatio=this.backing.ratio,this.draw())},I.ChartEngine.prototype.disableBackingStore=function(){var t;this.useBackingStore&&(t=this.chart.canvas).width!=this.backing.styleWidth&&(t.width=this.backing.styleWidth,t.height=this.backing.styleHeight,t.context.scale(1,1),this.adjustedDisplayPixelRatio=1,this.draw())},I.ChartEngine.prototype.resizeCanvas=function(){var t,e,i,a,r,n,s=this.chart.canvas,o=this.chart.context;for(n in s&&o&&(this.floatCanvas.height=this.chart.tempCanvas.height=s.height=this.chart.container.clientHeight,this.floatCanvas.width=this.chart.tempCanvas.width=s.width=this.chart.container.clientWidth,this.adjustBackingStore(s,o),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context)),s=this.container.getBoundingClientRect(),this.top=s.top,this.left=s.left,this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth,this.right=this.left+this.canvasWidth,this.height=this.chart.container.clientHeight,this.width=this.right-this.left,0!==this.width||this.container.dimensionlessCanvas||console.log("warning: zero width chart. Check CSS for chart container."),this.bottom=this.top+this.height,this.calculateYAxisPositions(),this.chart.canvasRight=this.right,this.chart.canvasHeight=this.height,void 0===(t=this.layout.candleWidth)&&(t=8),this.charts){e=this.charts[n],this.setCandleWidth(t,e),e.scroll<e.width/t&&(e.scroll=Math.floor(e.width/t),i=Math.round(this.preferences.whitespace/this.layout.candleWidth),e.scroll-=i),a=10;try{r=2*o.measureText("10:00").width}catch(t){r=100}for(;1<a&&!(this.chart.width/r>a);)a/=1.5;e.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/a),e.xAxis.autoComputedTickSizePixels<1&&(e.xAxis.autoComputedTickSizePixels=1)}},I.ChartEngine.prototype.setCandleWidth=function(t,e){e=e||this.chart,t<this.minimumCandleWidth&&(t=this.minimumCandleWidth),this.layout.candleWidth=t,e.maxTicks=Math.round(e.width/t)+1},I.ChartEngine.prototype.resizeChart=function(t){var e,i;if(!this.runPrepend("resizeChart",arguments)){!1!==t&&(t=!0),t&&this.preAdjustScroll(),i=this.chart.canvasHeight,this.resizeCanvas(),t&&this.postAdjustScroll(),(this.displayInitialized||0!==this.chart.canvasHeight&&0===i)&&(this.adjustPanelPositions(),this.draw()),this.doDisplayCrosshairs(),this.updateChartAccessories(),e=2,j.l6t();for(var a=1;-29025475!==j.Q5F(a.toString(),a.toString().length,46222);a++)this.runAppend("",arguments),e+=2;2102579062!==j.Q5F(e.toString(),e.toString().length,34986)&&this.runAppend("resizeChart",arguments)}},I.ChartEngine.prototype.newChart=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g,f,m,y;if(i=i||this.chart,r=r||{},n=this.layout,(y=r.periodicity)&&(d=I.cleanPeriodicity(y.period||y.periodicity,y.interval,y.timeUnit),n.interval=d.interval,n.periodicity=d.period,n.timeUnit=d.timeUnit),s=i.symbol,o=I.clone(i.symbolObject),l=i.market,h=i.dataSet,c=i.moreAvailable,i.dataSet=[],i.moreAvailable=null,t)if("object"==typeof t){i.symbol=t.symbol,u=2;for(var b=1;-308796122!==j.Q5F(b.toString(),b.toString().length,67074);b++)i.symbolObject=t,u+=2;-1303199502!==j.d5F(u.toString(),u.toString().length,77305)&&(i.symbolObject=t),i.symbolObject=t}else i.symbol=t,i.symbolObject.symbol=t;else i.symbol=null,i.symbolObject={symbol:null};p=2;for(var v=1;-1402300156!==j.d5F(v.toString(),v.toString().length,63595);v++)i.inflectionPoint=1,j.Q2k(9),p+=j.I2k(0,"2");-409650323!==j.d5F(p.toString(),p.toString().length,46855)&&(i.inflectionPoint=null),this.marketFactory&&(g=this.marketFactory(i.symbolObject),this.setMarket(g,i)),this.setMainSeriesRenderer(!0),d=r.span,(g=r.range)||d||!n?g&&d&&(d={}):(d=n.range?{}:n.setSpan,g=n.range||{}),this.clearCurrentMarketData(i),f=this,!e&&this.quoteDriver?(m=function(t){t&&"orphaned"!=t&&(i.symbol=s,i.symbolObject=o,i.market=l,i.dataSet=h,i.moreAvailable=c),f.dispatch(f.currentlyImporting?"symbolImport":"symbolChange",{stx:f,symbol:f.chart.symbol,symbolObject:f.chart.symbolObject,action:"master"}),a&&a.call(f,t)},g&&Object.keys(g).length?(delete r.span,delete n.setSpan,this.chart.masterData=null,this.displayInitialized=!1,y&&(g.periodicity=y),g.forceLoad=!0,this.setRange(g,m)):d&&d.base?(d.multiplier=d.multiplier||1,this.chart.masterData=null,this.displayInitialized=!1,y&&(d.maintainPeriodicity=!0),d.forceLoad=!0,this.setSpan(d,m)):this.quoteDriver.newChart({symbol:i.symbol,symbolObject:i.symbolObject,chart:i,initializeChart:!0},function(t){t||(f.adjustPanelPositions(),f.quoteDriver.updateSubscriptions(),r.stretchToFillScreen&&f.fillScreen()),m.apply(f,arguments)})):(e||console.log("Warning: No masterData specified and no QuoteFeed configured"),i.symbol||(i.symbol=""),this.initializeChart(),e=this.doCleanupGaps(e,i),this.setMasterData(e,i,{noCleanupDates:!0}),i.endPoints={},e&&e.length&&(i.endPoints={begin:e[0].DT,end:e[e.length-1].DT}),this.createDataSet(),g&&Object.keys(g).length?this.setRange(g):d&&d.multiplier&&d.base?this.setSpan({maintainPeriodicity:!0,multiplier:d.multiplier,base:d.base}):r.stretchToFillScreen?this.fillScreen():e&&e.length?this.draw():this.clear(),this.adjustPanelPositions(),f.dispatch(f.currentlyImporting?"symbolImport":"symbolChange",{stx:f,symbol:f.chart.symbol,symbolObject:f.chart.symbolObject,action:"master"}),a&&a.call(f))},I.ChartEngine.prototype.clear=function(){var t,e;for(e in this.displayInitialized=!1,this.layout.studies)t=this.layout.studies[e],I.Studies.removeStudy(this,t);this.controls.chartControls&&(this.controls.chartControls.style.display="none"),this.chart.panel.title.innerHTML="",this.chart.panel.title.appendChild(document.createTextNode(this.chart.panel.display))},I.ChartEngine.prototype.fillScreen=function(){var t=this.chart,e=this.layout.candleWidth,i=t.width-this.preferences.whitespace,a=t.dataSet.length;i<=a*e?this.draw():(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[this.layout.chartType]||a--,j.Q2k(3),a=j.I2k(i,a),this.setCandleWidth(a,t),this.home({maintainWhitespace:!0}))},I.ChartEngine.prototype.setMasterData=function(t,e,i){var a,r,n,s;for(j.l6t(),e=e||this.chart,this.marketFactory&&(a=this.marketFactory(e.symbolObject),this.setMarket(a,e)),(i=i||{}).noCleanupDates||this.doCleanupDates(t,this.layout.interval),e.masterData=t,"chart"==e.name&&(this.masterData=t),r=0;t&&r<t.length;r++)(n=t[r]).DT?("[object Date]"!=Object.prototype.toString.call(n.DT)&&(n.DT=new Date(n.DT)),n.Date&&17==n.Date.length||(n.Date=I.yyyymmddhhmmssmmm(n.DT))):n.Date?n.DT=I.strToDateTime(n.Date):console.log("setMasterData : Missing DT and Date on masterData object"),n.Volume&&"number"!=typeof n.Volume&&(n.Volume=parseInt(n.Volume,10)),t.length-r<50&&this.updateCurrentMarketData(n,e);for(r in e.decimalPlaces=this.callbacks.calculateTradingDecimalPlaces({stx:this,chart:e,symbol:e.symbolObject.symbol,symbolObject:e.symbolObject}),this.setDisplayDates(t),e.roundit=Math.pow(10,e.decimalPlaces),this.plugins)(s=this.plugins[r]).display&&s.setMasterData&&s.setMasterData(this,e)},I.ChartEngine.prototype.setMasterDataRender=function(t,e,i){var a;(i=i||this.chart).symbol||(i.symbol=""),this.setMasterData(e,i),e&&(i.endPoints={},e.length&&(i.endPoints={begin:e[0].DT,end:e[e.length-1].DT},i.symbol=t)),j.Q2k(16),t=-j.I2k(302531437,"302538607"),a=2;for(var r=1;745813095!==j.Q5F(r.toString(),r.toString().length,71980);r++)this.createDataSet(),this.initializeChart(),j.R2k(0),a+=j.L2k("2",0);j.Q5F(a.toString(),a.toString().length,68314)!==t&&(this.createDataSet(),this.initializeChart()),this.draw(),e&&e.length||(i.symbol=null,this.clear()),this.adjustPanelPositions()},I.ChartEngine.prototype.getSymbols=function(t){var e,i,a,r,n,s,o,l,h;function c(t,e,i){return j.l6t(),{symbol:t,symbolObject:e,periodicity:i.periodicity,interval:i.interval,timeUnit:i.timeUnit,setSpan:i.setSpan}}for(h in t=t||{},e=[],a=this.layout,j.X6t(),this.charts)for(var u in(s=this.charts[h]).symbolObject&&s.symbolObject.symbol&&e.push(c(s.symbol,s.symbolObject,a)),s.series)(o=s.series[u].parameters).data&&!o.data.useDefaultQuoteFeed||(n=o.symbolObject,(i=c(r=o.symbol,n,a)).id=u,t["include-parameters"]&&(i.parameters=o),t["exclude-studies"]&&"study"==o.bucket||e.push(i));for(var p=e.length-1;0<=p;p--)if(r=e[p].symbol,this.isEquationChart(r)&&(l=I.formatEquation(r))){for(var d=0;d<l.symbols.length;d++)i=c(l.symbols[d],e[p].symbolObject,e[p]),e.push(i);e.splice(p,1)}return e},I.ChartEngine.prototype.setDisplayDate=function(t){var e,i,a;I.ChartEngine.isDailyInterval(this.layout.interval)||(e=t.DT,j.l6t(),i=1e3*e.getSeconds()+e.getMilliseconds(),this.displayZone&&(a=new l.Date(e.getTime(),this.displayZone),e=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes()),e=new Date(e.getTime()+i)),t.displayDate=e)},I.ChartEngine.prototype.setDisplayDates=function(t){var e;if(t&&(j.l6t(),!I.ChartEngine.isDailyInterval(this.layout.interval)))for(var i=0;i<t.length;i++)(e=t[i]).DT&&this.setDisplayDate(e)},I.ChartEngine.prototype.streamTrade=function(t,e,i,a){var r,n,s,o,l,h=this.chart;(a=a||{}).chart&&(h=a.chart),a.fillGaps=this.streamParameters.fillGaps,j.Q2k(25),n=(r=j.I2k(typeof t,"object"))?t.last:t,j.X6t(),s=r?t.volume:arguments[1],o=r?t.bid:null,l=r?t.ask:null,r||(e=arguments[2],i=arguments[3]),i&&(a.secondarySeries=i),l={DT:e,Last:n,Volume:s,Bid:o,Ask:l},this.updateChartData(l,h,a)},I.ChartEngine.prototype.appendMasterData=function(t,e,i){this.updateChartData(t,e,i)},I.ChartEngine.prototype.updateChartData=function(o,l,h){var c,u,p,d,g,f,m,y,t,e,i,a,r,n,s,b,v,S,k,x,C="append";if(C+="MasterDat",C+="a",h=h||{},l=l||this.chart,c=!1,u=!1,p=l.masterData,d=this.layout,this.dataZone,g=this,f=h.secondarySeries,h.noCleanupDates||this.doCleanupDates(o,d.interval),(h.useAsLastSale||o.constructor==Object&&(o.Last||0===o.Last))&&(x="[ob",x+="ject Date]",j.l6t(),c=!0,h.useAsLastSale&&h.useAsLastSale.aggregatedVolume&&(u=!0),o.constructor===Array?(x=o[o.length-1],(o={}).DT=x.DT,o.Close=x.Close,o.Volume=x.Volume):o.Last&&(o.Close=o.Last,delete o.Last),o.DT&&"[object Date]"!=Object.prototype.toString.call(o.DT)&&(o.DT=new Date(o.DT)),o.DT&&"Invalid Date"!=o.DT||(o.DT=new Date),"tick"!=d.interval&&function(){var t,e,i,a,r,n,s;if(t={market_tz:l.market.market_def.market_tz||null},"month"!=(e=d.interval)&&"week"!=e||(g.dontRoll||(e="day"),t=g.chart.market.market_def),t=new I.Market(t),e={begin:(p&&p.length?p[p.length-1]:o).DT,interval:e,periodicity:1,timeUnit:d.timeUnit},i=t.newIterator(e),a=i.next(),p){if(o.DT<a){for(r=0,s=i.previous(),n=o.DT,h.appending=!0;n<s&&r<1e3;)h.appending=!1,s=i.previous(),r++;o.DT=s,h.updating=!h.appending}else if(o.DT>=a){for(r=0,n=o.DT;a<n&&r<1e3;)o.DT=a,a=i.next(),r++;h.appending=!0}}else o.DT=new Date(+i.previous())}(),o.Open=o.Close,o.High=o.Close,o.Low=o.Close),o&&o.constructor==Object&&(o=[o]),o&&o.length&&!this.runPrepend("appendMasterData",[o,l,h])&&!this.runPrepend("updateChartData",[o,l,h])){t=(p=p||[]).length-1,e=!1,h.fillGaps&&p.length&&function(){var t,e,i;t=new Date(0),(e=g.getFirstLastDataRecord(p,f||l.defaultPlotField,!0))&&(t=e.DT);for(var a=o.length-1;0<=a;a--)if(o[a].DT<=t){a++;break}(i=o.slice(a)).unshift(f?e[f]:e),(i=g.doCleanupGaps(i,l)).shift(),o=o.slice(0,a).concat(i)}();for(var w=0;w<o.length;w++){for(a=(i=o[w]).DT,r=i.Date,a&&"[object Date]"!=Object.prototype.toString.call(a)&&(i.DT=a=new Date(a)),a&&(r&&17==r.length||(i.Date=I.yyyymmddhhmmssmmm(i.DT))),a=a||(i.DT=I.strToDateTime(r));0<=t&&t<p.length;){if((b=(b=p[t].DT)||I.strToDateTime(p[t].Date)).getTime()<=a.getTime()){if(e=!0,j.R2k(0),n=j.I2k("0",0),b.getTime()<a.getTime()){if(t<p.length-1&&(p[t+1].DT||I.strToDateTime(p[t+1].Date)).getTime()<=a.getTime()){t++;continue}n=1}if(h.deleteItems){n||function(t,e){var i,a;if(j.l6t(),f)delete p[t][f],g.cleanupGaps&&(i={DT:e,Close:null},"gap"!=g.cleanupGaps&&p[t-1]&&p[t-1][f]&&(i.Close=p[t-1][f].Close,i.High=i.Low=i.Open=i.Close,i.Volume=0),p[t][f]=i);else{for(m in a=p.splice(t,1)[0],i={DT:a.DT,Close:null,needed:!1},l.series)y=l.series[m].parameters.symbolObject.symbol,void 0!==a[y]&&(i[y]=a[y],delete i.needed);g.cleanupGaps&&"gap"!=g.cleanupGaps&&(delete i.needed,"gap"!=g.cleanupGaps&&p[t-1]&&(i.Close=p[t-1].Close,i.High=i.Low=i.Open=i.Close,j.Q2k(16),i.Volume=j.I2k(0,"0"))),!1!==i.needed&&p.splice(t,0,i)}}(t,a);break}n||function(t,e){var i,a,r;if(j.X6t(),i=p[t],f&&(i=i[f]||{}),null===e.Close)void 0!==i.Open&&(e.Open=null),void 0!==i.High&&(e.High=null),void 0!==i.Low&&(e.Low=null),void 0!==i.Volume&&(e.Volume=null);else{if(c?(e.Volume&&(e.Volume=parseInt(e.Volume,10)),u||(e.Volume+=i.Volume)):!I.isValidNumber(e.Volume)&&i.Volume&&(e.Volume=i.Volume),!h.allowReplaceOHL&&(I.isValidNumber(i.Open)&&(e.Open=i.Open),I.isValidNumber(i.High)&&I.isValidNumber(e.High)&&i.High>e.High&&(e.High=i.High),I.isValidNumber(i.Low)&&I.isValidNumber(e.Low))){a=2;for(var n=1;-1819362485!==j.d5F(n.toString(),n.toString().length,63708);n++)i.Low<=e.Low&&(e.Low=i.Low),a+=2;382145334!==j.d5F(a.toString(),a.toString().length,43616)&&i.Low<=e.Low&&(e.Low=i.Low),i.Low<e.Low&&(e.Low=i.Low)}j.R2k(16),t=-j.I2k(1610772e3,"1887596527"),r=2;for(var s=1;-582946334!==j.d5F(s.toString(),s.toString().length,56723);s++)-I.isValidNumber(e.Close)&&(e.Close=i.Close),~I.isValidNumber(e.Open)&&(e.Open=i.Open),+I.isValidNumber(e.High)&&(e.High=i.High),+I.isValidNumber(e.Low)&&(e.Low=i.Low),r+=2;for(m in j.d5F(r.toString(),r.toString().length,64702)!==t&&(+I.isValidNumber(e.Close)&&(e.Close=i.Close),-I.isValidNumber(e.Open)&&(e.Open=i.Open),~I.isValidNumber(e.High)&&(e.High=i.High),-I.isValidNumber(e.Low)&&(e.Low=i.Low)),I.isValidNumber(e.Close)||(e.Close=i.Close),I.isValidNumber(e.Open)||(e.Open=i.Open),I.isValidNumber(e.High)||(e.High=i.High),I.isValidNumber(e.Low)||(e.Low=i.Low),I.isValidNumber(e.Bid)||(e.Bid=i.Bid),I.isValidNumber(e.Ask)||(e.Ask=i.Ask),l.series)void 0===e[y=l.series[m].parameters.symbolObject.symbol]&&void 0!==i[y]&&(e[y]=i[y])}}(t,i),I.isValidNumber(i.Close)&&(I.isValidNumber(i.Open)||(i.Open=i.Close),s=Math.max(i.Open,i.Close),b=Math.min(i.Open,i.Close),(!I.isValidNumber(i.High)||i.High<s)&&(i.High=s),(!I.isValidNumber(i.Low)||i.Low>b)&&(i.Low=b)),i.Volume&&!I.isValidNumber(i.Volume)&&(i.Volume=parseInt(i.Volume,10)),this.setDisplayDate(i),t+=n,f?(o.length-w<50&&this.updateCurrentMarketData(i,l,f),"tick"==d.interval&&void 0===i.Close||(n&&p.splice(t,0,{DT:i.DT}),p[t][f]=i)):(o.length-w<50&&this.updateCurrentMarketData(i,l),"tick"==d.interval&&void 0===i.Close||p.splice(t,n?0:1,i));break}t+=e?1:-1}t<0&&(f?(this.updateCurrentMarketData(i,l,f),"tick"==d.interval&&void 0===i.Close||(j.Q2k(0),p.splice(j.I2k("0",0),0,{DT:i.DT}),p[0][f]=i)):(this.updateCurrentMarketData(i,l),"tick"==d.interval&&void 0===i.Close||p.splice(0,0,i)),e=!0,t=0)}p.length&&(this.masterData=l.masterData=p),this.maxMasterDataSize&&(p=l.masterData=this.masterData=p.slice(-this.maxMasterDataSize)),v=f?this.getSeries({symbol:f,chart:l}):[l];for(var A,T=0;T<v.length;T++)(!(S=v[T]).endPoints.begin||S.endPoints.begin>o[0].DT)&&(S.endPoints.begin=o[0].DT),(!S.endPoints.end||S.endPoints.end<o[o.length-1].DT)&&(S.endPoints.end=o[o.length-1].DT);for(A in j.l6t(),this.plugins)(k=this.plugins[A]).display&&k.appendMasterData&&k.appendMasterData(this,o,l);this.masterData&&this.masterData.length||(this.masterData=p),h.noCreateDataSet||(++(C=this.streamParameters).count>C.maxTicks||h.bypassGovernor?(clearTimeout(C.timeout),this.createDataSet(null,null,h),this.draw(),this.updateChartAccessories(),C.count=0,C.timeout=-1):-1==C.timeout&&(C.timeout=setTimeout(function(){g.createDataSet(null,null,h),g.draw(),g.updateChartAccessories(),g.streamParameters.count=0,j.R2k(6),g.streamParameters.timeout=-j.L2k("1",2147483647)},C.maxWait))),this.runAppend("appendMasterData",arguments),this.runAppend("updateChartData",arguments)}},I.ChartEngine.prototype.updateCurrentMarketData=function(a,t,e){var r,i,n="L";if(n+="a",n+="s",n+="t",a&&a.DT&&!this.runPrepend("updateCurrentMarketData",arguments)){t=t||this.chart,r=t.currentMarketData,e&&(r[e]||(r[e]={}),r=r[e]),[n,"Bid","Ask"].forEach(function(t){var e;if(a[t]&&"number"==typeof a[t]&&(!r[t]||!r[t].DT||r[t].DT<=a.DT)){e=2;for(var i=1;173253505!==j.d5F(i.toString(),i.toString().length,47052);i++)r[t]={DT:a.DT,Price:a[t],Size:a[""*t]},e+=2;1376342238!==j.Q5F(e.toString(),e.toString().length,78408)&&(r[t]={DT:a.DT,Price:a[t],Size:a[t+"Size"]})}delete a[t],j.R2k(4),delete a[j.I2k("Size",t)]}),["BidL2","AskL2"].forEach(function(t){j.l6t(),a[t]&&a[t]instanceof Array&&(r[t]&&r[t].DT&&!(r[t].DT<=a.DT)||(r[t]={DT:a.DT,Price_Size:a[t]})),delete a[t]}),a.Close&&(!r.Last||r.Last.DT<=a.DT)&&(r.Last={DT:a.DT,Price:a.Close}),i=2;for(var s=1;-2132667729!==j.d5F(s.toString(),s.toString().length,93154);s++)r.touched=new Date,this.runAppend("",arguments),i+=2;1310125635!==j.Q5F(i.toString(),i.toString().length,11042)&&(r.touched=new Date,this.runAppend("",arguments)),r.touched=new Date,this.runAppend("updateCurrentMarketData",arguments)}},I.ChartEngine.prototype.clearCurrentMarketData=function(t,e){var i,a,r;if(j.l6t(),!this.runPrepend("clearCurrentMarketData",arguments)){if(a=[],t)a.push(t);else for(i in this.charts)a.push(this.charts[i]);for(i=0;i<a.length;i++)if(r=a[i].currentMarketData,e)delete r[e];else for(var n in r)delete r[n];this.runAppend("clearCurrentMarketData",arguments)}},I.ChartEngine.prototype.setMaxTicks=function(t,e){var i;e=e||{},(t=Math.round(t))<2&&(t=2),j.X6t(),i=e.padding||0,this.layout.candleWidth=(this.chart.width-i)/t,this.layout.candleWidth||(this.layout.candleWidth=8),this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-.499),!e.padding&&0!==e.padding||(j.R2k(4),this.chart.scroll=j.I2k(1,t))},I.ChartEngine.prototype.construct=function(){var t,e;j.Q2k(2),t=-j.I2k("1830562424",1484362144),j.X6t(),e=2;for(var i=1;j.d5F(i.toString(),i.toString().length,30116)!==t;i++)this.stackPanel("chart","chart",1),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name],this.cx=0,this.cy=0,this.micropixels=0,this.controls.home&&this.chart.panel.subholder.appendChild(this.controls.home),e+=2;893962978!==j.d5F(e.toString(),e.toString().length,9472)&&(this.stackPanel("chart","chart",5),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name],this.cx=2,this.cy=9,this.micropixels=2,this.controls.home&&this.chart.panel.subholder.appendChild(this.controls.home)),this.callbackListeners={doubleTap:[],drawing:[],layout:[],longhold:[],move:[],newChart:[],preferences:[],rightClick:[],studyOverlayEdit:[],studyPanelEdit:[],symbolChange:[],symbolImport:[],tap:[],theme:[],undoStamp:[]},this.longHoldTime=1e3},I.ChartEngine.prototype.addDomEventListener=function(t,e,i,a){t.addEventListener(e,i,a),this.eventListeners.push({element:t,event:e,function:i,options:a})},I.ChartEngine.prototype.addEventListener=function(t,e){var i;if("*"===t)for(var a in this.callbackListeners)this.callbackListeners[a].push(e);else if(t instanceof Array)for(var r=0;r<t.length;r++)this.callbackListeners[t[r]].push(e);else{if(!(i=this.callbackListeners[t]))throw new Error("Attempted to add an invalid listener.");i.push(e)}return{type:t,cb:e}},I.ChartEngine.prototype.removeEventListener=function(t,e){var i,a;if(j.X6t(),t&&"object"==typeof t||(t={type:t,cb:e}),i=function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return void t.splice(i,1)},a=this.callbackListeners,"*"!==t.type){if(!a[t.type])throw new Error("Attempted to remove an invalid listener.");i(a[t.type],t.cb)}else for(var r in a)i(a[r],t.cb)},I.ChartEngine.prototype.dispatch=function(t,e){var i,a;if(this.callbacks[t]&&this.callbacks[t].call(this,e),i=this.callbackListeners[t]){for(var r=0;r<i.length;r++)a=i[r].call(this,e);if(a)return a}if(i=this.callbackListeners["*"]){for(var n=0;n<i.length;n++)a=i[n].call(this,e);if(a)return a}return!1},I.ChartEngine.prototype.getYAxisByName=function(t,e){var i;if(j.X6t(),t){if("string"==typeof t&&(t=this.panels[t]),e===t.yAxis.name)return t.yAxis;for(i=0;t.yaxisLHS&&i<t.yaxisLHS.length;i++)if(t.yaxisLHS[i].name===e)return t.yaxisLHS[i];for(i=0;t.yaxisRHS&&i<t.yaxisRHS.length;i++)if(t.yaxisRHS[i].name===e)return t.yaxisRHS[i]}},I.ChartEngine.prototype.deleteYAxisIfUnused=function(t,e){var i,a;if(j.l6t(),e&&e.name!==t.yAxis.name){for(var r in this.chart.seriesRenderers)if(i=this.chart.seriesRenderers[r],i.params.yAxis&&i.params.yAxis.name===e.name&&0!==i.seriesParams.length)return;for(a=0;a<t.yaxisLHS.length;a++)t.yaxisLHS[a]===e&&t.yaxisLHS.splice(a,1);for(a=0;a<t.yaxisRHS.length;a++)t.yaxisRHS[a]===e&&t.yaxisRHS.splice(a,1);this.preAdjustScroll(),this.resizeCanvas(),this.adjustPanelPositions(),this.postAdjustScroll()}},I.ChartEngine.prototype.addYAxis=function(t,e){var i,a,r;if(e){if(!t.yaxisLHS){t.yaxisLHS=[],t.yaxisRHS=[],i=2;for(var n=1;496113053!==j.Q5F(n.toString(),n.toString().length,46980);n++)("left"==t.yAxis.position?t.yaxisLHS:t.yaxisRHS).push(t.yAxis),j.R2k(1),i+=j.L2k(668601824,"2");1262804805!==j.Q5F(i.toString(),i.toString().length,64541)&&(""===t.yAxis.position?t.yaxisLHS:t.yaxisRHS).push(t.yAxis)}for(a=(r=t.yaxisLHS).length-1;0<=a;a--)if(r[a].name===e.name){if("left"==e.position)return r[a];r.splice(a,1)}for(a=(r=t.yaxisRHS).length-1;0<=a;a--)if(r[a].name===e.name){if("left"!=e.position)return r[a];r.splice(a,1)}return"left"===e.position?t.yaxisLHS.unshift(e):(e.position||(e.position="right"),t.yaxisRHS.push(e)),e.height=t.yAxis.height,this.preAdjustScroll(),this.resizeCanvas(),this.adjustPanelPositions(),this.calculateYAxisMargins(e),this.postAdjustScroll(),e}},I.ChartEngine.prototype.calculateYAxisPositions=function(){var t,e,i,a,r,n,s,o,l,h,c,u,p,d=[];this.chart;for(u in this.charts)this.charts[u].hidden||d.push(u);for(p in this.panels)(t=this.panels[p]).name===t.chart.name||t.hidden||d.push(p);for(this.drawBorders,r=i=e=0;r<d.length;r++)if(n=this.panels[d[r]]){for(n.yaxisLHS||(n.yaxisLHS=[],n.yaxisRHS=[]),n.yAxis.position||n.chart.panel.yAxis.position,a=0;a<n.yaxisLHS.length;a++)if(n.yaxisLHS[a].name==n.yAxis.name){n.yaxisLHS.splice(a,1);break}for(a=0;a<n.yaxisRHS.length;a++)if(n.yaxisRHS[a].name==n.yAxis.name){n.yaxisRHS.splice(a,1);break}for("left"==n.yAxis.position?n.yaxisLHS.push(n.yAxis):n.yaxisRHS.unshift(n.yAxis),n.yAxis.width||0===n.yAxis.width||(n.yAxis.width=this.yaxisWidth),n.yaxisTotalWidthRight=0,n.yaxisTotalWidthLeft=0,o=n.yaxisLHS.concat(n.yaxisRHS),a=0;a<o.length;a++)!(s=o[a]).noDraw&&s.width&&("left"==s.position?(n.yaxisTotalWidthLeft+=s.width,l=!s.justifyRight&&!1!==s.justifyRight,s.justifyRight=(l?n.chart.yAxis:s).justifyRight,l&&(s.justifyRight=!0)):n.yaxisTotalWidthRight+=s.width);n.yaxisTotalWidthLeft>e&&(e=n.yaxisTotalWidthLeft),n.yaxisTotalWidthRight>i&&(i=n.yaxisTotalWidthRight)}for(j.l6t(),r=0;r<d.length;r++)if(n=this.panels[d[r]]){for(h=n.name===n.chart.name,c=e,a=n.yaxisLHS.length-1;0<=a;a--)(s=n.yaxisLHS[a]).noDraw||(c-=s.width,s.left=c);for(c=this.width-i,a=0;a<n.yaxisRHS.length;a++)(s=n.yaxisRHS[a]).noDraw||(s.left=c,c+=s.width);void 0!==this.yaxisLeft&&(n.chart.yaxisPaddingRight=this.yaxisLeft),n.yaxisCalculatedPaddingRight=i,!n.chart.yaxisPaddingRight&&0!==n.chart.yaxisPaddingRight||(n.yaxisCalculatedPaddingRight=n.chart.yaxisPaddingRight),n.yaxisCalculatedPaddingLeft=e,!n.chart.yaxisPaddingLeft&&0!==n.chart.yaxisPaddingLeft||(n.yaxisCalculatedPaddingLeft=n.chart.yaxisPaddingLeft),h?(n.left=n.yaxisCalculatedPaddingLeft,n.right=this.width-n.yaxisCalculatedPaddingRight):(n.left=n.chart.panel.left,n.right=n.chart.panel.right),n.width=n.right-n.left,n.handle&&(n.handle.style.left=n.left+"px",n.handle.style.width=n.width+"px"),h&&(n.chart.left=n.left,n.chart.right=n.right,n.chart.width=Math.max(n.right-n.left,0))}this.setCandleWidth(this.layout.candleWidth)},I.ChartEngine.prototype.initializeChart=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v="in";if(v+="itia",v+="lize",v+="Chart",s="0p",s+="x",i="abs",i+="olute",v="ab",v+="s",v+="olut",v+="e",s="abso",s+="lute",!this.runPrepend("initializeChart",arguments)){if(this.chart.symbolObject.symbol||(this.chart.symbolObject.symbol=this.chart.symbol),this.locale&&this.setLocale(this.locale),!this.displayZone&&I.ChartEngine.defaultDisplayTimeZone&&this.setTimeZone(null,I.ChartEngine.defaultDisplayTimeZone),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.micropixels=0,t?this.chart.container=t:t=this.chart.container,t.stx=this,t.CIQRegistered||(t.CIQRegistered=!0,I.ChartEngine.registeredContainers.push(t)),I.isSurface&&(this.gesture||(this.gesture=new MSGesture,this.manageTouchAndMouse?this.gesture.target=t:this.gesture.target=document.body,this.gesturePointerId=null)),this.registerHTMLElements(),i=this.chart.canvas,v=this.chart.tempCanvas,s=this.floatCanvas,i&&document.createElement("canvas").getContext){if(i.id||(t.removeChild(i),this.chart.canvas=null),v&&!v.id){t.removeChild(v),e=2;for(var S=1;1463575361!==j.Q5F(S.toString(),S.toString().length,49383);S++)this.chart.tempCanvas=null,e+=2;-1881396418!==j.d5F(e.toString(),e.toString().length,34879)&&(this.chart.tempCanvas=1)}s&&!s.id&&(t.removeChild(s),this.floatCanvas=null)}else this.layout.candleWidth<this.minimumCandleWidth&&(this.layout.candleWidth=this.minimumCandleWidth),200<this.layout.candleWidth&&(this.layout.candleWidth=8);for(var k in this.chart.canvas||(i=this.chart.canvas=document.createElement("canvas")),this.chart.canvas.getContext?t.appendChild(i):((i=this.chart.canvas=C(".ie8canvas",t)).getContext||window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i),i.style.display="block"),i.style.position="absolute",i.style.left="0px",(i.context=this.chart.context=i.getContext("2d")).lineWidth=1,this.chart.tempCanvas||(v=this.chart.tempCanvas=document.createElement("canvas")),this.chart.tempCanvas.getContext?t.appendChild(v):(i=".ie8canvasTe",i+="m",i+="p",(v=this.chart.tempCanvas=C(".ie8canvasTemp",t)).getContext||window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(v)),v.style.position="absolute",v.style.left="0px",v.context=this.chart.tempCanvas.getContext("2d"),v.context.lineWidth=1,v.style.display="none",this.floatCanvas||(s=this.floatCanvas=document.createElement("canvas")),this.floatCanvas.getContext?t.appendChild(s):(a=".ie8canvasFlo",a+="at",(s=this.floatCanvas=C(".ie8canvasFloat",t)).getContext||window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(s)),s.style.position="absolute",s.style.left="0px",s.context=s.getContext("2d"),s.context.lineWidth=1,s.style.display="none",this.resizeCanvas(),I.isAndroid&&(this.chart.tempCanvas.ontouchstart=function(t){t.preventDefault&&t.preventDefault()},this.floatCanvas.ontouchstart=function(t){t.preventDefault&&t.preventDefault()}),a=this.chart,r=this.panels,a.panel.display=a.symbol,a.symbolDisplay&&(a.panel.display=a.symbolDisplay),this.adjustPanelPositions(),this.chart.panel=r[a.name],r){n=r[k].yaxisLHS.concat(r[k].yaxisRHS);for(var x=0;x<n.length;x++)n[x].height=r[k].yAxis.height,this.calculateYAxisMargins(n[x])}for(y in this.initialWhitespace=this.preferences.whitespace,a.dataSet&&0<a.dataSet.length&&(a.scroll=Math.floor(a.width/this.layout.candleWidth),o=Math.round(this.preferences.whitespace/this.layout.candleWidth),a.scroll-=o),I.touchDevice&&(s=C(".overlayEdit",t),o=C(".overlayTrashCan",t),u=C(".vectorTrashCan",t),s?(I.safeClickTouch(s,(f=this,j.X6t(),function(t){j.l6t(),f.deleteHighlighted(!0,!0)})),o&&I.safeClickTouch(o,(g=this,j.X6t(),function(t){g.deleteHighlighted(!1)}))):o&&I.safeClickTouch(o,(d=this,j.l6t(),function(t){j.l6t(),d.deleteHighlighted(!0)})),u&&I.safeClickTouch(u,(p=this,j.X6t(),function(t){j.X6t(),p.deleteHighlighted(!0)}))),this.manageTouchAndMouse&&(this.registerTouchAndMouseEvents(),this.controls.chartControls&&(this.controls.chartControls.style.display="block")),t.onmouseout=(m=this,j.l6t(),function(t){j.X6t(),m.handleMouseOut(t)}),this.abortDrawings(),this.undoStamps=[],r)(l=r[y]).markerHolder&&(t.removeChild(l.markerHolder),l.markerHolder=null);for(b in this.plugins)(h=this.plugins[b]).display&&h.initializeChart&&h.initializeChart(this);j.X6t(),this.resizeListenerInitialized||((c=this).resizeListenerInitialized=!0,u=function(){return j.X6t(),function(t){j.X6t(),c.resizeChart()}},this.addDomEventListener(window,"resize",u(),!0)),a.baseline.userLevel&&(a.baseline.userLevel=null),this.setResizeTimer(this.resizeDetectMS),this.runAppend("initializeChart",arguments)}},I.ChartEngine.prototype.destroy=function(){var t,e,i,a,r;this.setResizeTimer(0),this.quoteDriver&&this.quoteDriver.die(),this.styles={},j.X6t();for(var n=0;n<this.eventListeners.length;n++)(t=this.eventListeners[n]).element.removeEventListener(t.event,t.function,t.options);if(this.streamParameters.timeout&&clearTimeout(this.streamParameters.timeout),-1<(i=(e=I.ChartEngine.registeredContainers).indexOf(this.chart.container))){a=2;for(var s=1;1061962163!==j.d5F(s.toString(),s.toString().length,83806);s++)e.splice(i,2),a+=2;919340116!==j.Q5F(a.toString(),a.toString().length,17909)&&(j.R2k(6),e.splice(i,j.I2k("1",2147483647)))}this.slider&&-1<(r=e.indexOf(this.slider.slider.chart.container))&&e.splice(r,1)},I.ChartEngine.prototype.handleMouseOut=function(t){var e,i;j.X6t(),t=t||window.event,I.withinElement(this.chart.container,t.pageX,t.pageY)||this.runPrepend("handleMouseOut",arguments)||(this.undisplayCrosshairs(),this.grabbingScreen=!1,this.touches=[],this.touching=!1,this.activeDrawing&&this.userPointerDown&&(this.userPointerDown=!1,this.drawingLine=!1,e=this.backOutY(t.pageY),i=this.backOutX(t.pageX),this.drawingClick(this.currentPanel,i,e)),I.ChartEngine.insideChart=!1,this.displaySticky(),this.findHighlights(!1,!0),this.runAppend("handleMouseOut",arguments))},I.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var t,i,a,e,r;this.touchAndMouseEventsRegistered||(this.touchAndMouseEventsRegistered=!0,t=C(".stx-zoom-in",this.controls.chartControls),e=C(".stx-zoom-out",this.controls.chartControls),i=this.chart.container,a=this,r=function(t,e){a.addDomEventListener(i,t,e)},I.touchDevice?I.isSurface?(r("mousemove",function(t){j.l6t(),a.msMouseMoveProxy(t)}),r("mouseenter",function(t){a.msMouseMoveProxy(t)}),r("mousedown",function(t){j.X6t(),a.msMouseDownProxy(t)}),r("mouseup",function(t){j.l6t(),a.msMouseUpProxy(t)}),window.navigator.msPointerEnabled?(r("MSPointerDown",function(t){return j.l6t(),a.startProxy(t)}),r("MSGestureStart",function(t){a.gestureInEffect=!0}),r("MSGestureChange",function(t){return j.X6t(),a.touchmove(t)}),r("MSGestureEnd",function(t){return a.gestureInEffect=!1,j.l6t(),a.touchend(t)}),r("MSPointerMove",function(t){a.moveProxy(t)}),r("MSPointerEnter",function(t){return a.moveProxy(t)}),r("MSPointerUp",function(t){return a.endProxy(t)})):(r("pointerdown",function(t){return j.l6t(),a.startProxy(t)}),r("MSGestureStart",function(t){a.gestureInEffect=!0}),r("MSGestureChange",function(t){return j.l6t(),a.touchmove(t)}),r("MSGestureEnd",function(t){return a.gestureInEffect=!1,j.l6t(),a.touchend(t)}),r("pointermove",function(t){a.moveProxy(t)}),r("pointerenter",function(t){return j.l6t(),a.moveProxy(t)}),r("pointerup",function(t){return a.endProxy(t)}))):(I.isAndroid||I.ipad||I.iphone||(r("mousemove",function(t){a.iosMouseMoveProxy(t)}),r("mouseenter",function(t){a.iosMouseMoveProxy(t)}),r("mousedown",function(t){j.l6t(),a.iosMouseDownProxy(t)}),r("mouseup",function(t){a.iosMouseUpProxy(t)})),r("touchstart",function(t){j.l6t(),a.touchstart(t)}),r("touchmove",function(t){a.touchmove(t)}),r("touchend",function(t){j.X6t(),a.touchend(t)}),t&&(t.removeAttribute("onMouseOver"),t.removeAttribute("onMouseOut")),e&&(e.removeAttribute("onMouseOver"),e.removeAttribute("onMouseOut"))):(e="m",e+="ous",e+="e",e+="down",r("mousemove",function(t){j.X6t(),a.mousemove(t)}),r("mouseenter",function(t){a.mousemove(t)}),r("mousedown",function(t){j.l6t(),a.mousedown(t)}),r("mouseup",function(t){j.l6t(),a.mouseup(t)})),r=I.wheelEvent,this.captureMouseWheelEvents&&this.addDomEventListener(i,r,function(t){j.X6t(),a.mouseWheel(t)}))},I.ChartEngine.prototype.rightClickHighlighted=function(){this.runPrepend("rightClickHighlighted",arguments)||(this.deleteHighlighted(!0),this.runAppend("rightClickHighlighted",arguments))},I.ChartEngine.prototype.deleteHighlighted=function(t,e){var i,a,r,n,s,o="d";if(o+="eleteHighlighted",!this.runPrepend("deleteHighlighted",arguments)){if(this.cancelTouchSingleClick=!0,I.clearCanvas(this.chart.tempCanvas,this),(o=!1===this.bypassRightClick)||!this.bypassRightClick.drawing)for(var l=this.drawingObjects.length-1;0<=l;l--)(i=this.drawingObjects[l]).highlighted&&!i.permanent&&(i.abort()||(i=I.shallowClone(this.drawingObjects),this.drawingObjects.splice(l,1),this.undoStamp(i,I.shallowClone(this.drawingObjects))),this.changeOccurred("vector"));if(o||!this.bypassRightClick.study)for(var h in this.overlays)(a=this.overlays[h]).highlight&&!a.permanent&&(t||e?this.rightClickOverlay(h,e):this.removeOverlay(h));if(r=this.currentPanel.chart,o||!this.bypassRightClick.series)for(var c in r.seriesRenderers)for(var u=(n=r.seriesRenderers[c]).seriesParams.length-1;0<=u;u--)(s=n.seriesParams[u]).highlight&&!s.permanent&&(n.removeSeries(s.id),n.seriesParams.length<1&&this.removeSeriesRenderer(n));this.draw(),this.clearMeasure(),(o=this.controls.mSticky)&&(o.style.display="none",o.children[0].innerHTML=""),this.runAppend("deleteHighlighted",arguments)}},I.ChartEngine.prototype.panelExists=function(t){for(var e in this.panels)if(this.panels[e].name==t)return!0;return!1},I.ChartEngine.prototype.hideCrosshairs=function(){this.displayCrosshairs=!1},I.ChartEngine.prototype.showCrosshairs=function(){j.X6t(),this.displayCrosshairs=!0},I.ChartEngine.prototype.grabHandle=function(t){this.runPrepend("grabHandle",arguments)||t&&(I.ChartEngine.crosshairY=t.top+this.top,I.ChartEngine.resizingPanel=t,I.appendClassName(t.handle,"stx-grab"),this.runAppend("grabHandle",arguments))},I.ChartEngine.prototype.releaseHandle=function(){if(this.runPrepend("releaseHandle",arguments))return!0;I.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),I.ChartEngine.resizingPanel&&I.unappendClassName(I.ChartEngine.resizingPanel.handle,"stx-grab"),I.ChartEngine.resizingPanel=null,this.runAppend("releaseHandle",arguments)},I.ChartEngine.prototype.storePanels=function(){var t,e,i;for(i in j.X6t(),this.layout||(this.layout={}),(t=this.layout).panels={},this.panels)e=this.panels[i],t.panels[e.name]={percent:e.percent,display:e.display,yAxis:e.yAxis}},I.ChartEngine.prototype.savePanels=function(t){j.X6t(),this.storePanels(),!1!==t&&this.changeOccurred("layout")},I.ChartEngine.prototype.resolveY=function(t){return this.top+t},I.ChartEngine.prototype.resolveX=function(t){return this.left+t},I.ChartEngine.prototype.backOutY=function(t){return t-this.top},I.ChartEngine.prototype.backOutX=function(t){return t-this.left},I.ChartEngine.prototype.cleanupRemovedStudy=function(t){for(var e in t.study.removeFN&&t.study.removeFN(this,t),t.study.feed&&this.detachTagAlongQuoteFeed(t.study.feed),this.plugins)-1<e.indexOf("{"+t.id+"}")&&delete this.plugins[e];this.layout.studies&&delete this.layout.studies[t.name],delete this.overlays[t.name],j.l6t(),I.Studies.removeStudySymbols(t,this),this.quoteDriver&&this.quoteDriver.updateSubscriptions()},I.ChartEngine.prototype.privateDeletePanel=function(t){var e,i,a;if(this.layout.studies&&(e=this.layout.studies[t.name])&&this.cleanupRemovedStudy(e),delete this.panels[t.name],I.Studies)for(var r in I.Studies.studyPanelMap)I.Studies.studyPanelMap[r].panel==t.name&&delete I.Studies.studyPanelMap[r];for(a in this.overlays)this.overlays[a].panel==t.name&&(this.cleanupRemovedStudy(this.layout.studies[a]),delete this.overlays[a]);if(t.holder&&(this.chart.container.removeChild(t.holder),this.getMarkerArray)){i=this.getMarkerArray("panelName",t.name);for(var n=0;n<i.length;n++)this.removeFromHolder(i[n])}t.handle&&t.handle.parentNode.removeChild(t.handle),this.currentPanel=null},I.ChartEngine.prototype.panelClose=function(t){var e;if(t&&!this.runPrepend("panelClose",arguments)){if(this.cancelTouchSingleClick=!0,I.ChartEngine.drawingLine=!1,t.soloing&&this.panelSolo(t),this.charts[t.name]){for(var i in this.panels)(e=this.panels[i]).chart.name==t.name&&this.privateDeletePanel(e);delete this.charts[t.name]}else this.privateDeletePanel(t);this.currentlyImporting||(this.showCrosshairs(),this.createDataSet(),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.adjustPanelPositions(),this.draw(),this.savePanels()),this.openDialog&&(this.openDialog=""),this.runAppend("panelClose",arguments)}},I.ChartEngine.prototype.deleteAllPanels=function(){var t,e;for(e in this.panels)t=this.panels[e],this.privateDeletePanel(t);j.X6t(),this.layout.panels={},this.panels={}},I.ChartEngine.prototype.panelUp=function(t){var e,i,a,r;for(a in this.cancelTouchSingleClick=!0,I.ChartEngine.drawingLine=!1,this.showCrosshairs(),e={},i=0,this.panels){if(a==t.name)break;i++}if(i){for(a in r=0,this.panels)r==i-1&&(e[t.name]=t),a!=t.name&&(e[a]=this.panels[a],r++);this.panels=e,this.adjustPanelPositions(),this.draw(),this.savePanels()}},I.ChartEngine.prototype.panelDown=function(t){var e,i,a,r,n,s;for(a in this.cancelTouchSingleClick=!0,I.ChartEngine.drawingLine=!1,this.showCrosshairs(),e={},i=0,this.panels){if(a==t.name)break;i++}for(a in r=0,j.X6t(),this.panels)r++;if(i!=r-1){for(a in n=0,this.panels)a!=t.name&&(e[a]=this.panels[a],n==i+1&&(e[t.name]=t)),n++;this.panels=e,this.adjustPanelPositions(),s=2;for(var o=1;-472787813!==j.Q5F(o.toString(),o.toString().length,54411);o++)this.draw(),s+=2;915144188!==j.d5F(s.toString(),s.toString().length,17894)&&this.draw(),this.savePanels()}},I.ChartEngine.prototype.panelSolo=function(t){var e,i;for(i in this.cancelTouchSingleClick=!0,I.ChartEngine.drawingLine=!1,this.showCrosshairs(),e=!0,t.soloing?(e=!1,t.soloing=!1,I.unappendClassName(t.solo,"stx_solo_lit"),t.percent=t.oldPercent,"chart"==t.name||this.soloPanelToFullScreen||(this.chart.panel.percent=this.chart.panel.oldPercent),this.soloPanelToFullScreen&&(this.xAxisAsFooter=this.chart.panel.oldXAxisAsFooter,this.controls.home&&this.chart.panel.subholder.appendChild(this.controls.home))):(t.soloing=!0,I.appendClassName(t.solo,"stx_solo_lit"),t.oldPercent=t.percent,this.chart.panel.oldXAxisAsFooter=this.xAxisAsFooter,"chart"!=t.name&&(this.soloPanelToFullScreen?(this.xAxisAsFooter=!0,this.controls.home&&t.subholder.appendChild(this.controls.home)):(this.chart.panel.oldPercent=this.chart.panel.percent,t.percent=1-this.chart.panel.percent))),this.panels)this.panels[i].hidden=e;this.soloPanelToFullScreen||(this.chart.panel.hidden=!1),t.hidden=!1,this.adjustPanelPositions(),j.l6t(),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()},I.ChartEngine.prototype.calculatePanelPercent=function(t){for(var e=t.bottom-t.top,i=2,a=1;1739264976!==j.Q5F(a.toString(),a.toString().length,50841);a++)t.percent=e+this.chart.canvasHeight,i+=2;-125294440!==j.Q5F(i.toString(),i.toString().length,70994)&&(t.percent=e/this.chart.canvasHeight)},I.ChartEngine.prototype.resizePanels=function(){var t,e,i,a;if(I.ChartEngine.resizingPanel){if(t=!0,I.ChartEngine.crosshairY>this.resolveY(I.ChartEngine.resizingPanel.top)&&(t=!1),t){for(e in a=null,this.panels){if(this.panels[e]==I.ChartEngine.resizingPanel)break;this.panels[e].hidden||(a=this.panels[e])}(i=this.backOutY(I.ChartEngine.crosshairY))<a.top+30&&(i=a.top+30,I.ChartEngine.crosshairY=this.resolveY(i)),a.bottom=i,I.ChartEngine.resizingPanel.top=i,this.calculatePanelPercent(a),this.calculatePanelPercent(I.ChartEngine.resizingPanel)}else{for(e in a=null,this.panels){if(this.panels[e]==I.ChartEngine.resizingPanel)break;this.panels[e].hidden||(a=this.panels[e])}(i=this.backOutY(I.ChartEngine.crosshairY))>I.ChartEngine.resizingPanel.bottom-30&&(i=I.ChartEngine.resizingPanel.bottom-30,I.ChartEngine.crosshairY=this.resolveY(i)),a.bottom=i,I.ChartEngine.resizingPanel.top=i,this.calculatePanelPercent(a),this.calculatePanelPercent(I.ChartEngine.resizingPanel)}this.adjustPanelPositions(),this.draw(),this.savePanels()}},I.ChartEngine.prototype.adjustPanelPositions=function(){var t,e,i,a,r,n,s,o,l,h,c,u,p;if(this.chart.tempCanvas&&I.clearCanvas(this.chart.tempCanvas,this),this.chart.symbol&&!this.runPrepend("adjustPanelPositions",arguments)){for(s in t=0,e=this.chart.canvasHeight,i=!1,a=0,j.Q2k(16),r=j.L2k(0,"0"),n=!1,this.panels)o=this.panels[s],(isNaN(o.percent)||o.percent<=0)&&(o.percent=.05),o.hidden||(a+=o.percent,r++,o.soloing&&(n=!0));for(s in this.panels)if(l=0,(o=this.panels[s]).hidden)o.markerHolder&&(o.markerHolder.style.display="none");else{this.manageTouchAndMouse&&(o.up&&(i?this.displayIconsUpDown&&(o.up.style.display=""):(i=!0,o.up.style.display="none")),o.solo&&(n?o.soloing?this.displayIconsSolo&&(o.solo.style.display=""):o.solo.style.display="none":1==r?o.solo.style.display="none":2!=r||this.soloPanelToFullScreen?this.displayIconsSolo&&(o.solo.style.display=""):o.solo.style.display="none"),o.down&&(1==r?o.down.style.display="none":this.displayIconsUpDown&&(o.down.style.display="")),o.edit&&(o.editFunction?o.edit.style.display="":o.edit.style.display="none")),o.percent=o.percent/a,o.top=t,o.bottom=o.top+e*o.percent,o.height=o.bottom-o.top,o.chart.name==o.name&&(o.chart.top=o.top,o.chart.bottom=o.bottom,o.chart.height=o.height),t=o.bottom,h=o.yaxisLHS.concat(o.yaxisRHS);for(var d=0;d<h.length;d++)(c=h[d]).zoom&&0<c.height&&(l=c.zoom/c.height),this.adjustYAxisHeightOffset(o,c),c.height=c.bottom-c.top,l&&(c.zoom=l*c.height,c.zoom>c.height&&(c.zoom=0,c.scroll=0)),c.high||0===c.high||(c.high=100,c.low=0,j.Q2k(0),c.shadow=j.L2k("100",0)),c.multiplier=c.height/c.shadow;o.holder&&(o.holder.style.right="0px",o.holder.style.top=o.top+"px",o.holder.style.left="0px",o.holder.style.height=o.height+"px",o.subholder.style.left=o.left+"px",o.subholder.style.width=o.width+"px",o.subholder.style.top="0px",0<=o.yAxis.height&&(o.subholder.style.height=o.yAxis.height+"px"))}if(s&&this.panels[s].down&&(this.panels[s].down.style.display="none"),this.manageTouchAndMouse&&2==r&&!n&&this.chart.panel.solo&&(this.chart.panel.solo.style.display=""),this.controls.chartControls&&this.chart.panel){if(n&&this.soloPanelToFullScreen)u=this.chart.canvasHeight-o.yAxis.bottom+12;else{p=2;for(var g=1;-1573237231!==j.Q5F(g.toString(),g.toString().length,92875);g++)u=this.chart.canvasHeight-this.chart.panel.yAxis.bottom+12,p+=2;-219390191!==j.d5F(p.toString(),p.toString().length,33908)&&(u=this.chart.canvasHeight+this.chart.panel.yAxis.bottom-81)}j.R2k(4),this.controls.chartControls.style.bottom=j.I2k("px",u)}this.clearPixelCache(),this.adjustDrawings(),this.runAppend("adjustPanelPositions",arguments)}},I.ChartEngine.prototype.addChart=function(t,e){e.name=t,this.charts[t]=e},I.ChartEngine.prototype.createPanel=function(t,e,i,a,r){var n,s;if(!this.runPrepend("createPanel",arguments)){for(var o in a=a||"chart",n=this.chart.canvasHeight,i||(j.R2k(13),i=j.I2k(.2,n)),j.R2k(3),n=j.I2k(i,n),j.R2k(26),s=j.I2k("1",2147483647,n),this.panels)this.panels[o].percent*=s;this.stackPanel(t,e,n,a,r),this.adjustPanelPositions(),this.savePanels(!1),this.runAppend("createPanel",arguments)}},I.ChartEngine.prototype.configurePanelControls=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m;if(t.icons){if(i=t.name==t.chart.name,I.appendClassName(t.icons,"stx-show"),t.title=C(".stx-panel-title",t.icons),t.up=C(".stx-ico-up",t.icons),t.up&&(t.up=t.up.parentNode),t.solo=C(".stx-ico-focus",t.icons),t.solo&&(t.solo=t.solo.parentNode),t.down=C(".stx-ico-down",t.icons),t.down&&(t.down=t.down.parentNode),t.edit=C(".stx-ico-edit",t.icons),t.edit&&(t.edit=t.edit.parentNode),t.close=C(".stx-ico-close",t.icons),t.close&&(t.close=t.close.parentNode),t.title){e=2;for(var y=1;-1432539707!==j.d5F(y.toString(),y.toString().length,11330);y++)t.title.innerHTML="",t.display&&t.title.appendChild(document.createTextNode(t.display)),e+=2;735538652!==j.d5F(e.toString(),e.toString().length,36193)&&(t.title.innerHTML="",t.display&&t.title.appendChild(document.createTextNode(t.display))),i&&(I.appendClassName(t.title,"chart-title"),I.appendClassName(t.icons,"stx-chart-panel"))}I.touchDevice&&!I.isSurface||this.makeModal(t.icons),t.handle&&(I.touchDevice&&!I.isSurface||(t.handle.onmouseover=(l=this,j.X6t(),function(){l.hideCrosshairs()})),I.touchDevice&&!I.isSurface||(t.handle.onmouseout=(o=this,function(){j.l6t(),o.showCrosshairs()})),I.touchDevice&&(t.handle.ontouchstart=(n=this,s=t,function(t){n.resizingPanel||(t.preventDefault(),j.l6t(),n.grabHandle(s))}),t.handle.ontouchend=(j.X6t(),function(t){t.preventDefault(),j.l6t()})),t.handle.onmousedown=(a=this,r=t,j.l6t(),function(t){t=t||event,j.l6t(),a.grabHandle(r)}),t.handle.onmouseup=function(t){t=t||event}),t.close&&(I.safeClickTouch(t.close,(h=this,c=t,j.X6t(),function(){j.X6t(),h.panelClose(c)})),"chart"==t.name&&(t.close.style.display="none")),t.up&&I.safeClickTouch(t.up,(u=this,p=t,function(){u.panelUp(p)})),t.down&&I.safeClickTouch(t.down,(d=this,g=t,j.l6t(),function(){d.panelDown(g)})),t.solo&&I.safeClickTouch(t.solo,(f=this,m=t,function(){j.l6t(),f.panelSolo(m)}))}},I.ChartEngine.prototype.stackPanel=function(t,e,i,a,r){var n,s,o,l="ch";if(l+="a",l+="r",l+="t",!this.runPrepend("stackPanel",arguments)){if(a=a||"chart",l=this.charts[a],j.R2k(25),j.l6t(),(s=j.I2k(e,a))&&(t=l.symbol,l.symbolDisplay&&(t=l.symbolDisplay),r=r||l.yAxis),n=this.panels[e]=new I.ChartEngine.Panel(e,r),!s&&l.yAxis&&n.yAxis.position==l.yAxis.position&&(n.yAxis.width=l.yAxis.width),s&&!l.panel&&(l.panel=n),n.percent=i,n.chart=l,n.display=t,n.holder=I.newChild(this.container,"div","stx-holder"),n.subholder=I.newChild(n.holder,"div","stx-subholder"),n.subholder.style.zIndex=1,n.holder.setAttribute("cq-panel-name",e),n.subholder.setAttribute("cq-panel-name",e),s=s?"stx-panel-chart":"stx-panel-study",I.appendClassName(n.holder,s),this.controls.handleTemplate&&this.manageTouchAndMouse&&(n.handle=this.controls.handleTemplate.cloneNode(!0),this.container.appendChild(n.handle),n.handle.panel=n),this.controls.iconsTemplate){n.icons=this.controls.iconsTemplate.cloneNode(!0),n.subholder.appendChild(n.icons),j.Q2k(0),o=j.I2k("2",0);for(var h=1;-1988597291!==j.Q5F(h.toString(),h.toString().length,66427);h++)this.configurePanelControls(n),o+=2;1022597736!==j.Q5F(o.toString(),o.toString().length,80962)&&this.configurePanelControls(n)}this.resizeCanvas(),this.runAppend("stackPanel",arguments)}},I.ChartEngine.prototype.setPanelEdit=function(t,e){t.editFunction=e,t.edit&&I.safeClickTouch(t.edit,e),this.adjustPanelPositions()},I.ChartEngine.prototype.drawPanels=function(){var t,e,i,a,r;if(!this.runPrepend("drawPanels",arguments)){for(var n in t=!1,this.panels)e="seg",e+="me",e+="n",e+="t",(e=this.panels[n]).state={},i=this.translateIf(e.display),e.title&&e.title.textContent!=i&&(e.title.innerHTML="",e.title.appendChild(document.createTextNode(i))),I.appendClassName(e.icons,"stx-show"),e.hidden?(I.unappendClassName(e.icons,"stx-show"),e.handle&&(e.handle.style.display="none"),e.holder.style.display="none"):(a=this.manageTouchAndMouse,this.displayIconsUpDown&&a||!e.up||(e.up.style.display="none"),this.displayIconsUpDown&&a||!e.down||(e.down.style.display="none"),this.displayIconsSolo&&a||!e.solo||(e.solo.style.display="none"),this.displayIconsClose&&a||!e.close||(e.close.style.display="none"),e.editFunction&&a||!e.edit||(e.edit.style.display="none"),e.holder.style.display="block",t?(r=e.top,r=Math.round(r)+.5,this.plotLine(e.left,e.right,r,r,this.canvasStyle("stx_panel_border"),"segment",this.chart.context,!1,{}),e.handle&&(this.displayPanelResize?e.handle.style.display="":e.handle.style.display="none",e.handle.style.top=r-e.handle.offsetHeight/2+"px")):(e.handle&&(e.handle.style.display="none"),t=!0));this.runAppend("drawPanels",arguments)}},I.ChartEngine.prototype.touchSingleClick=function(t,r,n){var s=this,o=arguments;return function(){j.l6t(),function(){var t,e,i,a;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",o))return;if(this.editingAnnotation)return;if(this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},!this.displayCrosshairs)return;if(!this.displayInitialized)return;if(""!==this.openDialog)return;if(r<this.left||r>this.right||n<this.top||n>this.bottom)return;t=this.backOutY(I.ChartEngine.crosshairY),e=this.backOutX(I.ChartEngine.crosshairX),this.currentPanel=this.whichPanel(t),i=this.currentVectorParameters.vectorType,I.Drawing&&i&&I.Drawing[i]&&(new I.Drawing[i]).dragToDraw||(this.drawingClick(this.currentPanel,e,t)||this.layout.crosshair||(I.ChartEngine.crosshairY=0,j.Q2k(0),I.ChartEngine.crosshairX=j.I2k("0",0),this.cx=this.backOutX(I.ChartEngine.crosshairX),this.cy=this.backOutY(I.ChartEngine.crosshairY),this.findHighlights(null,!0),I.ChartEngine.crosshairY=n,I.ChartEngine.crosshairX=r,a=this.container.getBoundingClientRect(),this.top=a.top,this.left=a.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cx=this.backOutX(I.ChartEngine.crosshairX),this.cy=this.backOutY(I.ChartEngine.crosshairY),this.currentPanel&&this.currentPanel.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel))),this.headsUpHR(),this.findHighlights(!0)),this.currentVectorParameters.vectorType||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:e,y:t}))}s.cancelTouchSingleClick=!1,this.runAppend("touchSingleClick",o)}.apply(s,o)}},I.ChartEngine.prototype.touchDoubleClick=function(t,e,i){var a;j.l6t(),this.runPrepend("touchDoubleClick",arguments)||this.dispatch("doubleTap",{stx:this,finger:t,x:e,y:i})||e<this.left||e>this.right||i<this.chart.panel.top||i>this.chart.panel.bottom||this.editingAnnotation||(I.ChartEngine.drawingLine?this.undo():this.anyHighlighted?this.deleteHighlighted():((a=this.currentPanel.yAxis).scroll==(a.initialMarginTop-a.initialMarginBottom)/2&&a.zoom==a.initialMarginTop+a.initialMarginBottom?this.home():this.calculateYAxisMargins(this.currentPanel.yAxis),this.draw()),this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.runAppend("touchDoubleClick",arguments))},I.ChartEngine.prototype.startProxy=function(t){j.l6t(),4==t.pointerType||"mouse"==t.pointerType?this.mouseMode=!0:this.mouseMode=!1,this.mouseMode||(this.touches[this.touches.length]={pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY},this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY}],this.gestureInEffect||1!=this.touches.length?(this.gesture.stop(),this.touchstart(t)):(this.gesturePointerId=t.pointerId,this.overrideGesture=!1,this.gesture&&(this.gesture.addPointer(t.pointerId),this.touchstart(t))))},I.ChartEngine.prototype.moveProxy=function(t){4==t.pointerType||"mouse"==t.pointerType?this.mouseMode=!0:this.mouseMode=!1,this.mouseMode||this.gestureInEffect||this.touchmove(t)},I.ChartEngine.prototype.endProxy=function(t){var e;if(!this.mouseMode){e=this.touches.length;for(var i=0;i<this.touches.length;i++)if(this.touches[i].pointerId==t.pointerId){this.touches.splice(i,1);break}if(i==e)return this.touches=[],this.grabbingScreen=!1,void(this.touching=!1);this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY}],this.gestureInEffect||this.touchend(t)}},I.ChartEngine.prototype.msMouseMoveProxy=function(t){!this.touches.length&&this.mouseMode&&(j.X6t(),this.mousemove(t))},I.ChartEngine.prototype.msMouseDownProxy=function(t){this.mouseMode&&this.mousedown(t)},I.ChartEngine.prototype.msMouseUpProxy=function(t){j.l6t(),this.mouseMode&&this.mouseup(t)},I.ChartEngine.prototype.iosMouseMoveProxy=function(t){this.touching||(j.X6t(),this.mousemove(t))},I.ChartEngine.prototype.iosMouseDownProxy=function(t){this.touching?this.mouseMode=!1:(j.l6t(),this.mouseMode=!0,this.mousedown(t))},I.ChartEngine.prototype.iosMouseUpProxy=function(t){j.l6t(),this.touching||this.mouseup(t)},I.ChartEngine.prototype.rawWatermark=function(t,e,i,a){this.canvasFont("stx_watermark",t),t.fillStyle=this.defaultColor,t.globalAlpha=.5,this.chart.context.textBaseline="alphabetic",t.fillText(a,e,i),t.globalAlpha=1},I.ChartEngine.prototype.watermark=function(t,e){var i,a,r="alp";r+="habetic",a="m",a+="id",a+="d",a+="le",r="t",r+="o",r+="p",a="obj",a+="ect",e&&"object"!=typeof e&&(e={h:arguments[1],v:arguments[2],text:arguments[3]}),e={h:e.h||"left",v:e.v||"bottom",text:e.text||"",hOffset:e.hOffset||10,vOffset:e.vOffset||20},this.chart.context&&(i=this.panels[t])&&!i.hidden&&(r=i.yAxis.bottom-e.vOffset,"top"==e.v?r=i.top+e.vOffset:"middle"==e.v&&(r=(i.top+i.yAxis.bottom)/2),this.chart.context.save(),this.canvasFont("stx_watermark"),this.canvasColor("stx_watermark"),this.chart.context.textBaseline="alphabetic",a=i.left+e.hOffset,"right"==e.h?a=i.right-e.hOffset:"center"==e.h&&(a=(i.right+i.left-this.chart.context.measureText(e.text).width)/2),this.chart.context.globalAlpha=.5,this.chart.context.fillText(e.text,a,r),this.chart.context.globalAlpha=1,this.chart.context.restore())},I.ChartEngine.prototype.preAdjustScroll=function(t){t=t||this.chart,j.l6t(),this.previousAdjust={chart:t,scroll:t.scroll,maxTicks:t.maxTicks}},I.ChartEngine.prototype.postAdjustScroll=function(){var t;this.previousAdjust&&((t=this.previousAdjust.chart).scroll=this.previousAdjust.scroll+(t.maxTicks-this.previousAdjust.maxTicks),this.displayInitialized&&this.draw())},I.ChartEngine.prototype.adjustDrawings=function(){for(var t,e=0;e<this.drawingObjects.length;e++)t=this.drawingObjects[e],this.panels[t.panelName]&&t.adjust()},I.ChartEngine.prototype.getNextInterval=function(t,e,i){return e=e||1,!1!==i&&(i=!0),i=this.standardMarketIterator(t,i?this.dataZone:this.displayZone),e<1?(j.R2k(27),i.previous(j.I2k(0,e,"1"))):i.next(e)},I.ChartEngine.prototype.standardMarketIterator=function(t,e,i){i=i||this.chart,e={begin:t,interval:"tick"==this.layout.interval?1:this.layout.interval,periodicity:"tick"==this.layout.interval?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,timeUnit:this.layout.timeUnit,outZone:e};return i.market.newIterator(e)},I.ChartEngine.prototype.zoomSet=function(t,e){var i,a,r,n=this.mainSeriesRenderer||{};if(!n.params||!n.params.volume){if(this.preferences.zoomAtCurrentMousePosition&&this.zoomInitiatedByMouseWheel&&this.crosshairTick<e.dataSet.length){a=2;for(var s=1;-739630828!==j.Q5F(s.toString(),s.toString().length,64130);s++)i=this.crosshairTick&&this.tickFromPixel(this.cx,e),a+=2;296331411!==j.d5F(a.toString(),a.toString().length,83070)&&(i=this.crosshairTick&&this.tickFromPixel(this.cx,e)),i=this.crosshairTick||this.tickFromPixel(this.cx,e)}else i=this.isHome()?e.dataSet.length-1:this.chart.scroll>this.chart.dataSet.length?0:"zoom-x"==this.grabMode?this.tickFromPixel(this.chart.width,e):this.tickFromPixel(this.chart.width/2,e);this.animations.zoom.hasCompleted&&(this.zoomInitiatedByMouseWheel=!1),r=e.dataSet.length-1-i,n=e.scroll,e.scroll=Math.floor((this.pixelFromTick(i,e)-e.left)/t)+1+r,this.micropixels+=(n-r)*this.layout.candleWidth-(e.scroll-r)*t}this.setCandleWidth(t),e.spanLock=!1,this.draw(),j.X6t(),this.doDisplayCrosshairs(),this.updateChartAccessories()},I.ChartEngine.prototype.zoomOut=function(t,e){var i,a,r;if(!this.runPrepend("zoomOut",arguments))for(var n in e=this.preferences.zoomOutSpeed||e||1.3,t&&t.preventDefault&&t.preventDefault(),this.cancelTouchSingleClick=!0,(i=this).charts){if(a=this.charts[n],I.ipad&&a.maxTicks>I.ChartEngine.ipadMaxTicks)return;r=Math.floor(a.maxTicks*e),!1===a.allowScrollFuture&&!1===a.allowScrollPast&&r>a.dataSet.length&&(r=a.dataSet.length),(r=this.chart.width/r)<this.minimumCandleWidth&&(r=this.minimumCandleWidth),this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(function(e){return function(t){i.zoomSet(t,e),i.animations.zoom.hasCompleted&&(i.runAppend("zoomOut",arguments)||i.changeOccurred("layout"))}}(a),this.layout.candleWidth,r)}},I.ChartEngine.prototype.mouseWheel=function(t){var e,i,a,r,n,s="ve";if(s+="rt",s+="ical",!this.runPrepend("mouseWheel",arguments)&&((t=t||event).preventDefault&&t.preventDefault(),e=t.deltaX,r=t.deltaY,Math.abs(r)>Math.abs(e)?e=0:r=0,this.lastMouseWheelEvent=Date.now(),0!==Math.abs(e)||0!==Math.abs(r))){if(this.allowSideswipe&&0!==e)return this.lastMove="horizontal",50<(s=e)&&(s=50),s<-50&&(s=-50),this.grabbingScreen=!0,this.currentPanel||(this.currentPanel=this.chart.panel),this.grabStartX=I.ChartEngine.crosshairX,this.grabStartY=I.ChartEngine.crosshairY,this.grabStartScrollX=this.chart.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartMicropixels=this.micropixels,this.grabStartPanel=this.currentPanel,this.mousemoveinner(I.ChartEngine.crosshairX-s,I.ChartEngine.crosshairY),this.updateChartAccessories(),void(this.grabbingScreen=!1);if(this.lastMove="vertical",j.X6t(),this.allowZoom&&this.displayInitialized){if(r||("onmousewheel"==I.wheelEvent?(r=-.025*t.wheelDelta,t.wheelDeltaX&&(e=-.025*t.wheelDeltaX)):r=t.detail),void 0===t.deltaMode&&(t.deltaMode="MozMousePixelScroll"==t.type?0:1),e=-r,1==t.deltaMode&&(e*=33),a=i=null,this.mouseWheelAcceleration&&(r=Math.max(Math.pow(Math.abs(e),.3),1),j.R2k(28),i=j.L2k(1,r,1,"0.1"),j.Q2k(18),a=j.L2k(1,r,.2)),this.zoomInitiatedByMouseWheel=!0,0<e)this.reverseMouseWheel?this.zoomOut(null,a):this.zoomIn(null,i);else if(e<0){n=2;for(var o=1;2134180026!==j.d5F(o.toString(),o.toString().length,85437);o++)this.reverseMouseWheel?this.zoomIn(null,i):this.zoomOut(null,a),n+=2;1327173114!==j.Q5F(n.toString(),n.toString().length,20868)&&(this.reverseMouseWheel?(j.R2k(1),this.zoomIn(j.L2k(1462404160,"1"),i)):(j.Q2k(6),this.zoomOut(j.L2k("1",2147483647),a)))}if(!this.runAppend("mouseWheel",arguments))return!1}}},I.ChartEngine.prototype.zoomIn=function(t,e){var i,a,r,n;i=2;for(var s=1;-266340683!==j.Q5F(s.toString(),s.toString().length,86056);s++){if(this.runPrepend("zoomIn",arguments))return;i+=2}if(2082363028===j.Q5F(i.toString(),i.toString().length,40193)||!this.runPrepend("",arguments))for(var o in e=this.preferences.zoomInSpeed||e||.7,t&&t.preventDefault&&t.preventDefault(),this.cancelTouchSingleClick=!0,(a=this).charts)r=this.charts[o],n=Math.floor(r.maxTicks*e),r.maxTicks-n<1&&(n=r.maxTicks-1),n<this.minimumZoomTicks&&(n=this.minimumZoomTicks),n=this.chart.width/n,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(function(e){return j.X6t(),function(t){a.zoomSet(t,e),a.animations.zoom.hasCompleted&&(a.runAppend("zoomIn",arguments)||a.changeOccurred("layout"))}}(r),this.layout.candleWidth,n)},I.ChartEngine.prototype.translateIf=function(t){return this.translationCallback?this.translationCallback(t):t},I.ChartEngine.prototype.setTimeZone=function(t,e){var i,a,r,n,s;if(void 0!==l){for(var o in n=r=a=(i=new Date).getTimezoneOffset(),t&&(this.dataZone=t),this.dataZone&&(r=new l.Date(i,this.dataZone).getTimezoneOffset()),e&&(this.displayZone=e),this.displayZone&&(n=new l.Date(i,this.displayZone).getTimezoneOffset()),j.R2k(29),this.timeZoneOffset=j.I2k(r,n,a,a),this.charts)s=this.charts[o],this.setDisplayDates(s.masterData);this.preferences.timeZone=e,this.changeOccurred("preferences"),this.createDataSet()}else this.timeZoneOffset=0},I.ChartEngine.prototype.setLocale=function(t,e){var i,a,r,n;if("undefined"!=typeof Intl&&this.locale!=t){for(this.locale=t,(a=this.internationalizer={}).hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hour12:!1}),a.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}),a.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),a.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"}),a.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric"}),a.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"}),a.month=new Intl.DateTimeFormat(this.locale,{month:"short"}),a.numbers=new Intl.NumberFormat(this.locale),a.priceFormatters=[],e=e||8,i=0;i<e+1;i++)a.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:i,minimumFractionDigits:i}));for(i=0;i<5;i++)n="p",n+="er",n+="cen",n+="t",(n=r=i)||(r="",n=2),j.R2k(4),a[j.I2k(r,"percent")]=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:n,maximumFractionDigits:n});j.X6t(),I.I18N.createMonthArrays&&I.I18N.createMonthArrays(this,a.month,this.locale)}},I.ChartEngine.prototype.importLayout=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D;if(j.l6t(),t){if("object"!=typeof e&&(e={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]}),i=this.layout,a=I.shallowClone(i),r=e.managePeriodicity,n=e.cb,s=e.seriesCB,o=e.noDataLoad,S=this.minimumCandleWidth,l=e.preserveTicksAndCandleWidth,h=this.exportDrawings(),this.abortDrawings(),this.currentlyImporting=!0,I.Studies)for(var F in i.studies)c=i.studies[F],I.Studies.removeStudy(this,c);if(this.overlays={},u=I.shallowClone(this.panels),this.panels={},p=I.clone(t),I.dataBindSafeAssignment(i,I.clone(p)),i.periodicity=a.periodicity,i.interval=a.interval,i.timeUnit=a.timeUnit,i.setSpan=a.setSpan,i.range=a.range,l){j.Q2k(1),d=j.L2k(1372826176,"219305016"),g=2;for(var P=1;378203195!==j.d5F(P.toString(),P.toString().length,94275);P++)i.candleWidth=a.candleWidth,g+=2;j.Q5F(g.toString(),g.toString().length,97856)!==d&&(i.candleWidth=a.candleWidth)}else i.candleWidth||(i.candleWidth=8);for(b in i.candleWidth<S&&(i.candleWidth=S),this.setCandleWidth(i.candleWidth),"percent"==i.chartScale&&this.setComparison(!0),y=[],f=p.panels){if(!("top"in f[b]))break;for((v=f[b]).name=b,m=y.length-1;0<=m&&y[m].top>v.top;--m);j.R2k(4),y.splice(j.I2k(1,m),0,v)}if(i.panels={},0<y.length)for(var _=0;_<y.length;++_)v=y[_],this.stackPanel(v.display,v.name,v.percent,v.chartName);else for(b in f)v=f[b],yAxis=v.yAxis?new I.ChartEngine.YAxis(v.yAxis):null,this.stackPanel(v.display,b,v.percent,v.chartName,yAxis);for(var E in I.isEmpty(f)&&this.stackPanel("chart","chart",1,"chart"),u)if(k=u[E],x=this.panels[E]){for(var O in this.container.removeChild(x.holder),k.handle&&this.container.removeChild(k.handle),{holder:!0,subholder:!0,display:!0,icons:!0})x[O]=k[O];this.configurePanelControls(x),k.chart.panel==k&&(k.chart.panel=x)}else this.privateDeletePanel(k);if(this.adjustPanelPositions(),this.storePanels(),I.Studies)for(var L in C=I.clone(i.studies),delete i.studies,C)w=C[L],I.Studies.addStudy(this,w.type,w.inputs,w.outputs,w.parameters,w.panel);if(this.extendedHours&&this.extendedHours.prepare(i.extended,i.marketSessions),void 0===i.chartType&&(i.chartType="line"),this.setMainSeriesRenderer(),this.adjustPanelPositions(),A=this,!o){if(p.symbols&&p.symbols.length)return M={},!l&&r&&p.range&&Object.keys(p.range).length?M.range=p.range:!l&&r&&p.setSpan&&Object.keys(p.setSpan).length?M.span=p.setSpan:r&&p.interval?M.periodicity={interval:p.interval,period:p.periodicity,timeUnit:p.timeUnit}:M.periodicity={interval:a.interval,period:a.periodicity,timeUnit:a.timeUnit},T=p.symbols[0].symbolObject||p.symbols[0].symbol,void this.newChart(T,null,this.chart,function(t){var e;if(!t)for(var i,a=1;a<p.symbols.length;++a)(i=p.symbols[a]).parameters||(i.parameters={}),(e=I.clone(i.parameters)).action=null,A.addSeries(i.id,e,s);N(),n&&n.apply(null,arguments)},M);if(r){if(!l){if((D=p.range)&&Object.keys(D).length&&this.chart.symbol)return void this.setRange(D,function(){j.l6t(),N(),n&&n()});if(p.setSpan&&Object.keys(p.setSpan).length&&this.chart.symbol)return void this.setSpan(p.setSpan,function(){N(),n&&n()})}return T=p.interval,M=p.periodicity,D=p.timeUnit,isNaN(M)&&(j.R2k(1),M=j.I2k(419297600,"1")),T=T||"day",void this.setPeriodicity({period:M,interval:T,timeUnit:D},function(){N(),n&&n()})}}r&&(i.periodicity=p.periodicity,i.interval=p.interval,i.timeUnit=p.timeUnit,i.setSpan=p.setSpan),this.createDataSet(),l||this.home(),N(),n&&n()}else e.cb&&e.cb();function N(){A.importDrawings(h),A.currentlyImporting=!1,A.draw(),A.updateListeners("layout")}},I.ChartEngine.prototype.exportLayout=function(t){var e,i,a,r,n,s,o,l={};for(n in this.layout)"studies"!=n&&"panels"!=n?l[n]=I.clone(this.layout[n]):"studies"==n?l.studies={}:"panels"==n&&(l.panels={});for(s in this.panels)e=l.panels[s]={},i=this.panels[s],e.percent=i.percent,e.display=i.display,e.chartName=i.chart.name,e.top=i.top,i.yAxis.position&&(e.yAxis={position:i.yAxis.position});for(o in this.layout.studies)a=l.studies[o]={},r=this.layout.studies[o],a.type=r.type,a.inputs=I.clone(r.inputs),a.outputs=I.clone(r.outputs),a.panel=r.panel,a.parameters=I.clone(r.parameters);return t?l.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0}):delete l.symbols,l},I.ChartEngine.prototype.doCleanupDates=function(t,e){var i,a,r,n;if(j.X6t(),t&&t.length)for(var s=0;s<t.length;s++)((a=(i=t[s]).DT)||i.Date)&&(i.DT&&"[object String]"==Object.prototype.toString.call(a)&&a.length<=10?(a=new Date(a)).setMinutes(a.getMinutes()+a.getTimezoneOffset()):(n=!0,i.DT||(a=I.strToDateTime(i.Date),i.Date.length<=10&&(n=!1)),"[object Date]"!=Object.prototype.toString.call(a)&&(a=new Date(a)),this.dataZone&&n&&(r=new l.Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),this.dataZone),n=1e3*a.getSeconds()+a.getMilliseconds(),a=new Date(r.getTime()+n)),I.ChartEngine.isDailyInterval(e)&&a.setHours(0,0,0,0)),i.DT||(i.Date=I.yyyymmddhhmmssmmm(a)),i.DT=a)},I.ChartEngine.prototype.doCleanupGaps=function(t,e,o){var l,i,h,c,a,r,u,p,n,s,d,g="ti";if(g+="ck",!t||!t.length)return t;if(r=this.layout.interval,o=o||{},e=e||this.chart,o.noCleanupDates||this.doCleanupDates(t,r),!1===(g=o.cleanupGaps))return t;if(g&&!0!==g||(g=this.cleanupGaps||g),j.Q2k(25),l=j.L2k(g,"gap"),!g)return t;if("tick"==r)return t;if("month"==r||"week"==r){if(this.dontRoll)return t;r="day"}function f(t,e){var i,a=o.field;if(a)return void(void 0!==t[a]&&void 0===e[a]&&(e[a]=l?null:t[a]));l||(i=t[p],a=e[p],void 0!==i&&void 0===a&&I.ensureDefaults(e,{Close:i,Open:i,High:i,Low:i,Volume:0,Adj_Close:t.Adj_Close}))}i=function(t){return t.DT?"[object Date]"!=Object.prototype.toString.call(t.DT)?new Date(t.DT):new Date(+t.DT):I.strToDateTime(t.Date)},h=[],c=t[0],h.push(c),a={begin:i(c),interval:r,periodicity:1,timeUnit:this.layout.timeUnit},r=new I.Market(e.market.market_def),u=r.newIterator(a),this.extendedHours&&this.extendedHours.filter&&u.market.enableAllAvailableSessions(),p=e.defaultPlotField;for(var m=1;m<t.length;m++){for(s=t[m],function(t,e){var i,a,r,n=o.field,s=n?c[n]:c;for(void 0===s&&(s={}),i=l?null:s[p],a=l?null:s.Adj_Close;+t<+e;)r={DT:t},n||(h.push(r),I.extend(r,{Open:i,High:i,Low:i,Close:i,Volume:0,Adj_Close:a})),t=u.next()}(n=u.next(),d=i(s));d<n;){if(++m==t.length)return h;f(c,s),h.push(s),c=s,d=i(s=t[m])}n<d?(m--,n=u.previous()):(f(c,s),h.push(s),c=s)}return h},I.Comparison=function(){},I.Comparison.initialPrice=100,I.Comparison.getInitialPrice=function(t){var e,i,a;if(t.initialComparisonPrice)return t.initialComparisonPrice;if(t.initialComparisonPrice=100,e=I.Comparison.initialPrice,"number"==typeof e&&(t.initialComparisonPrice=e),j.X6t(),"string"==typeof e&&(t.series[e]||""===e)){i="Cl",i+="o",i+="se",t.defaultPlotField&&(t.highLowBars||(i=t.defaultPlotField));for(var r=t.dataSet.length-t.scroll;r<t.dataSet.length;r++)if(a=t.dataSet[r]){if(a[e]&&a[e][i]){t.initialComparisonPrice=a[e][i];break}if(""===e&&a[i]){t.initialComparisonPrice=a[i];break}}}return t.initialComparisonPrice},I.Comparison.priceToPercent=function(t,e,i){var a=I.Comparison.baseline||i;return j.l6t(),Math.round((i-a)/a*100*1e4)/1e4},I.Comparison.percentToPrice=function(t,e,i){var a=I.Comparison.baseline||1;return j.R2k(30),j.L2k(1,a,i,100)},I.Comparison.priceToRelative=function(t,e,i){var a=I.Comparison.baseline||i,e=I.Comparison.getInitialPrice(e);return j.Q2k(31),j.L2k(a,i,e)},I.Comparison.relativeToPrice=function(t,e,i){var a=I.Comparison.baseline||1,e=I.Comparison.getInitialPrice(e);return j.Q2k(31),j.X6t(),j.I2k(e,i,a)},I.Comparison.createComparisonSegmentInner=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A;for(a in i=[],e.series)(s=e.series[a].parameters).isComparison&&i.push(s.symbol);if(o=["Close","Open","High","Low","iqPrevClose"],w=t.chart.highLowBars||t.highLowBars[t.layout.chartType],e.defaultPlotField&&!w&&o.unshift(e.defaultPlotField),l=o[0],h=t.layout.studies)for(var T in h)if(c=h[T],r=t.panels[c.panel],n=t.getYAxisByName(r,c.name)||r.yAxis,r&&r.yAxis==n){for(a in c.outputMap)o.push(a);for(var M=0;M<=2;M++)o.push(c.name+"_hist"+(M||""));c.referenceOutput&&o.push(c.referenceOutput+" "+c.name)}for(A in t.plugins)if((u=t.plugins[A]).transformOutputs)for(a in u.transformOutputs)o.push(a);e.initialComparisonPrice=null,e.dataSegment=[],p=null,d=e.dataSet.length-e.scroll,t.micropixels+t.layout.candleWidth/2<0&&d++,g=e.maxTicks+3;for(var D=0;D<=g;D++){if(D==g&&(D=-1),j.Q2k(4),(f=j.L2k(D,d))<e.dataSet.length&&0<=f){if(y=(m=e.dataSet[f])[l],!p){if(0===y||null===y){if(D<0)break;continue}p=I.clone(m)}for(m.transform||(m.transform={cache:{},DT:m.DT,Date:m.Date}),!I.Comparison.baseline&&y&&(p=I.clone(m)),I.Comparison.baseline=p[l],b=0;b<o.length;b++)!m[a=o[b]]&&0!==m[a]||(m.transform[a]=e.transformFunc(t,e,m[a]));for(b=0;b<i.length;b++)if(a=i[b],v=e.series[a],-1==D&&v&&v.parameters.isComparison)delete m.transform[a];else{S=m[a];for(var F=0;S&&F<o.length;F++)!(k=S[o[F]])&&0!==k||((x=p[a]&&p[a][o[0]])||0===x||(p[a]||(p[a]={}),p[a][o[F]]=x=k*I.Comparison.baseline/m[l]),0!==x&&(C=I.Comparison.baseline||1,j.R2k(32),C=j.I2k(x,k,C),m.transform[a]||(m.transform[a]={}),m.transform[a][o[F]]=e.transformFunc(t,e,C)))}e.dataSegment.push(m)}else f<0&&e.dataSegment.push(null);if(D<0)break}},I.Comparison.priceFormat=function(t,e,i){return j.X6t(),null==i||isNaN(i)?"":(e=e.yAxis.priceTick,i=(t=t.internationalizer)?5<=e?(j.R2k(3),t.percent.format(j.I2k(i,100))):.5<=e?(j.R2k(3),t.percent1.format(j.I2k(i,100))):.05<=e?(j.Q2k(3),t.percent2.format(j.I2k(i,100))):.005<=e?(j.R2k(33),t.percent3.format(j.L2k("100",62413152,i))):(j.R2k(3),t.percent4.format(j.I2k(i,100))):5<=e?i.toFixed(0)+"%":.5<=e?i.toFixed(1)+"%":.05<=e?i.toFixed(2)+"%":.005<=e?i.toFixed(3)+"%":i.toFixed(4)+"%",0===parseFloat(i)&&"-"==i.charAt(0)&&(i=i.substring(1)),i)},I.ChartEngine.prototype.setComparison=function(t,e,i){var a,r,n;if(j.l6t(),"string"==typeof(e=e||this.chart)&&(e=this.charts[e]),!i&&""!==i||(I.Comparison.initialPrice=i),!0===t){if(e.isComparison)return;a=2;for(var s=1;-732633169!==j.Q5F(s.toString(),s.toString().length,21196);s++)t="",a+=2;-401568522!==j.Q5F(a.toString(),a.toString().length,74978)&&(t=""),t="percent"}switch(this.resetDynamicYAxis(),n=(r=e.panel.yAxis).priceFormatter==I.Comparison.priceFormat,t){case"relative":this.setTransform(e,I.Comparison.priceToRelative,I.Comparison.relativeToPrice),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet="dataSegment",e.isComparison=!0;break;case"percent":this.setTransform(e,I.Comparison.priceToPercent,I.Comparison.percentToPrice),n||(r.originalPriceFormatter={func:r.priceFormatter},r.priceFormatter=I.Comparison.priceFormat),r.whichSet="dataSegment",e.isComparison=!0;break;default:this.unsetTransform(e),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet="dataSet",e.isComparison=!1}},I.ChartEngine.prototype.importPreferences=function(t){I.extend(this.preferences,t),t.timeZone&&this.setTimeZone(this.dataZone,t.timeZone),t.language&&I.I18N&&I.I18N.localize(this,t.language),this.changeOccurred("preferences")},I.ChartEngine.prototype.exportPreferences=function(){return j.X6t(),this.preferences},"undefined"!=typeof document&&document.addEventListener("contextmenu",I.ChartEngine.handleContextMenu),t},ft[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"lK35U",{get:function(){return this},configurable:!0}),e=lK35U,i=5;break;case 5:e.PHYDq=e,i=4;break;case 4:i="undefined"==typeof PHYDq?3:9;break;case 9:delete e.PHYDq,delete Object.prototype.lK35U,i=6}}catch(t){e=window}return e}}(),ft[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="l0",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="b",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(ft[12018]),ft[366344]=function(t){function e(t){for(;;)return[arguments][0][0].RegExp}for(var i=2;62!==i;)switch(i){case 33:h[61]=h[55],h[61]+=h[9],h[61]+=h[9],h[64]=h[1],i=29;break;case 48:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;9!==n;)if(2===n){var s=[arguments];s[5]="neProperty",s[7]="",s[7]="efi";try{for(var o=2;8!==o;)switch(o){case 4:s[6].value=s[3][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[1]](s[3],s[0][4],s[6]),l=3;break;case 2:s[1]=h[2],s[1]+=s[7],s[1]+=s[5],l=4}}catch(t){}s[3][s[0][4]]=s[6].value,o=8;break;case 2:s[6]={},s[2]=(0,s[0][1])(s[0][0]),s[3]=[s[2],s[2].prototype][s[0][3]],o=4}}catch(t){}n=9}}(h[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=47;break;case 39:h[99]+=h[51],h[36]=h[2],h[36]+=h[3],h[36]+=h[9],i=54;break;case 6:h[4]="i",h[9]="3",h[1]="_",h[2]="d",i=11;break;case 27:h[57]="k7",h[21]=1,h[15]=0,h[26]=h[57],i=23;break;case 29:h[64]+=h[86],h[64]+=h[74],h[14]=h[4],h[14]+=h[5],h[14]+=h[7],h[99]=h[1],h[99]+=h[1],i=39;break;case 3:h[6]="v7",h[7]="",h[7]="33",h[5]="7",i=6;break;case 23:h[26]+=h[9],h[26]+=h[9],h[18]=h[90],h[18]+=h[5],h[18]+=h[7],i=33;break;case 65:a(s,h[64],h[15],h[61]),i=64;break;case 47:a(s,h[13],h[15],h[76]),i=46;break;case 50:h[13]+=h[8],h[13]+=h[62],i=48;break;case 46:a(e,"test",h[21],h[36]),i=45;break;case 63:a(n,"apply",h[21],h[26]),i=62;break;case 45:a(s,h[99],h[15],h[14]),i=65;break;case 2:var h=[arguments];h[8]="",h[8]="_optimiz",h[6]="",i=3;break;case 54:h[76]=h[6],h[76]+=h[9],h[76]+=h[9],h[13]=h[1],i=50;break;case 18:h[51]="abstract",h[90]="M",h[86]="_residu",h[57]="",i=27;break;case 11:h[3]="73",h[62]="e",h[55]="x7",h[74]="al",i=18;break;case 64:a(r,"push",h[21],h[18]),i=63}function r(t){for(;;)return[arguments][0][0].Array}function n(t){for(;;)return[arguments][0][0].Function}function s(t){for(;;)return[arguments][0][0]}}(ft[12018]),ft.N2v=function(){return"function"==typeof ft[160123].n6t?ft[160123].n6t.apply(ft[160123],arguments):ft[160123].n6t},ft[440061]=220,ft.h6S=function(){return"function"==typeof ft[372105].Z6S?ft[372105].Z6S.apply(ft[372105],arguments):ft[372105].Z6S},ft[160123]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[8];case 2:var e=[arguments];e[3]=void 0,e[8]={},e[8].n6t=function(){for(var t=2;90!==t;)switch(t){case 12:a[5]=a[9],a[4]={},a[4].M2S=["U1S"],t=20;break;case 2:var a=[arguments],t=1;break;case 75:a[22]={},a[22][a[82]]=a[30][a[64]][a[24]],a[22][a[57]]=a[26],t=72;break;case 1:t=e[3]?5:4;break;case 5:return 79;case 58:a[15]=0,t=57;break;case 70:a[15]++,t=57;break;case 61:a[57]="j2S",a[27]="P1S",a[82]="J2S",t=58;break;case 17:a[2].M2S=["U1S"],a[2].P1S=function(){return/\x31\x39\x32/.d733(function(){!function(){for(var t=0;t<20;t++)0}()}+[])},a[3]=a[2],a[45]={},a[45].M2S=["U1S"],t=25;break;case 39:a[14]={},a[14].M2S=["U1S"],a[14].P1S=function(){return!/(\x5b|\u005d)/.d733(function(){return["a","a"].join()}+[])},a[37]=a[14],t=54;break;case 43:a[31]={},a[31].M2S=["U1S"],a[31].P1S=function(){return/\x39\u0037/.d733(function(){return"a".codePointAt(0)}+[])},a[38]=a[31],t=39;break;case 56:a[30]=a[6][a[15]];try{a[26]=a[30][a[27]]()?a[62]:a[61]}catch(t){a[26]=a[61]}t=77;break;case 68:t=68;break;case 20:a[4].P1S=function(){return/\u0078\u0078/.d733(function(){return"x".repeat(2)}+[])},a[7]=a[4],a[2]={},t=17;break;case 57:t=a[15]<a[6].length?56:69;break;case 25:a[45].P1S=function(){return/\x3d/.d733(function(){return unescape("%3D")}+[])},a[28]=a[45],t=23;break;case 49:a[6].M733(a[87]),a[6].M733(a[47]),a[6].M733(a[3]),a[6].M733(a[28]),t=45;break;case 30:a[50]={},a[50].M2S=["Q1S"],a[50].P1S=function(){var t=!1,e=[];try{for(var i in console)e.M733(i);t=0===e.length}catch(t){}return t},a[87]=a[50],t=43;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 17:i[1]=0,e=16;break;case 20:i[2][i[9][a[82]]].h+=!0,e=19;break;case 7:e=i[1]<i[0][0].length?6:18;break;case 26:e=.5<=i[7]?25:24;break;case 8:i[1]=0,e=7;break;case 4:i[2]={},i[6]=[],i[1]=0,e=8;break;case 5:return;case 11:i[2][i[9][a[82]]].t+=!0,e=10;break;case 1:e=0===i[0][0].length?5:4;break;case 23:return i[3];case 14:e=void 0===i[2][i[9][a[82]]]?13:11;break;case 2:var i=[arguments],e=1;break;case 6:i[9]=i[0][0][i[1]],e=14;break;case 25:i[3]=!0,e=24;break;case 24:i[1]++,e=16;break;case 12:i[6].M733(i[9][a[82]]),e=11;break;case 13:i[2][i[9][a[82]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[9]={},e[9].h=0,e[9].t=0,t=3;break;case 3:return e[9]}}.k733(this,arguments),e=12;break;case 19:i[1]++,e=7;break;case 15:i[4]=i[6][i[1]],i[7]=i[2][i[4]].h/i[2][i[4]].t,e=26;break;case 10:e=i[9][a[57]]===a[62]?20:19;break;case 16:e=i[1]<i[6].length?15:23;break;case 18:i[3]=!1,e=17}}(a[90])?68:67;break;case 76:t=a[24]<a[30][a[64]].length?75:70;break;case 34:a[81]={},a[81].M2S=["Q1S"],a[81].P1S=function(){return"function"==typeof x733},a[47]=a[81],t=30;break;case 7:a[8]=a[1],a[9]={},a[9].M2S=["U1S"],a[9].P1S=function(){return/\u0032\u0035/.d733(function(){return encodeURIComponent("%")}+[])},t=12;break;case 67:return e[3]=46,39;case 23:a[96]={},a[96].M2S=["Q1S"],a[96].P1S=function(){return"function"==typeof i733},a[34]=a[96],t=34;break;case 45:a[6].M733(a[7]),a[90]=[],a[62]="F6S",a[61]="g6S",a[64]="M2S",t=61;break;case 72:a[90].M733(a[22]),t=71;break;case 77:a[24]=0,t=76;break;case 4:a[6]=[],a[1]={},a[1].M2S=["Q1S"],a[1].P1S=function(){return"function"==typeof v733},t=7;break;case 54:a[6].M733(a[38]),a[6].M733(a[37]),a[6].M733(a[34]),a[6].M733(a[5]),a[6].M733(a[8]),t=49;break;case 71:a[24]++,t=76}},t=3}}(),ft[152846]={a3M:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.l0bb(n)|(255&t.l0bb(n+1))<<8|(255&t.l0bb(n+2))<<16|(255&t.l0bb(n+3))<<24,s=gt(s,3432918353),a=5*(a=(524287&(a^=s=gt(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.l0bb(2+r))<<16;case 2:s|=(255&t.l0bb(1+r))<<8;case 1:s|=255&t.l0bb(r),s=gt(s,3432918353),a^=s=gt(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=gt(a^=a>>>16,2246822507),a=gt(a^=a>>>13,3266489909),a^=a>>>16}},ft.b6S=function(){return"function"==typeof ft[372105].Z6S?ft[372105].Z6S.apply(ft[372105],arguments):ft[372105].Z6S},ft.A6S=function(){return"function"==typeof ft[372105].X6S?ft[372105].X6S.apply(ft[372105],arguments):ft[372105].X6S},ft[647112]="HvC",ft.M9M=function(){return"function"==typeof ft[152846].a3M?ft[152846].a3M.apply(ft[152846],arguments):ft[152846].a3M},ft.r2v=function(){return"function"==typeof ft[160123].n6t?ft[160123].n6t.apply(ft[160123],arguments):ft[160123].n6t},ft.j9M=function(){return"function"==typeof ft[152846].a3M?ft[152846].a3M.apply(ft[152846],arguments):ft[152846].a3M},ft[603030]=ft[152846],ft[372105]={X6S:function(){var t,e=arguments;switch(_){case 18:t=(e[0]-e[2])/e[1];break;case 1:t=e[0]*+e[1];break;case 8:t=e[1]/e[0];break;case 17:t=e[0]|e[1];break;case 22:t=e[0]<<e[1];break;case 10:t=e[2]*e[1]*e[0];break;case 16:t=e[3]*e[0]*e[2]+(e[1]|e[4]);break;case 12:t=e[5]*e[0]*e[3]+e[2]*e[1]+e[4];break;case 3:t=e[1]+ +e[0];break;case 21:t=(e[0]-e[1])*e[4]-e[3]+e[2];break;case 11:t=e[1]*e[3]*(e[0]>>e[2]);break;case 6:t=e[0]>>e[1];break;case 7:t=e[1]-+e[0];break;case 15:t=e[4]*e[1]*e[2]+e[3]*e[0];break;case 9:t=e[0]-e[1];break;case 19:t=e[0]*(e[1]|e[2]);break;case 20:t=e[2]+e[0]+e[1];break;case 5:t=e[0]*e[1];break;case 13:t=e[0]&e[1];break;case 14:t=(e[0]<<e[3])-e[1]+e[2];break;case 4:t=e[0]^e[1];break;case 0:t=(e[2]-e[1])*e[0];break;case 23:t=e[0]%e[1];break;case 24:t=e[0]%(e[2]>>e[1]);break;case 2:t=e[1]+e[0]}return t},Z6S:function(t){_=t}},(ft[12018].H3ss=ft).v6S=function(){return"function"==typeof ft[372105].X6S?ft[372105].X6S.apply(ft[372105],arguments):ft[372105].X6S},ft.N2v(),E=function(t){var h,c,e,u,p,l,d=ft,i="201";i+="2",i+="-12",i+="-31",i="8",i+=":",i+="0",i+="0",i="2012-",i+="04-06",i="20",i+="12-01-0",i+="2",i="8",i+=":",i+="0",i+="0",i="20",i+="13-12-31",i="8",i+=":00",i="2013-05-0",i+="6",i="1",i+="2:",i+="30",i="201",i+="4-12-24",i="2",i+="014-08-25",i="1",i+="2",i+=":30",i="201",i+="5-12-28",i="8",i+=":",i+="00",i="2015-08-",i+="31",i="2015-05-",i+="0",i+="4",i="8:0",i+="0",i="2016",i+="-12-27",i="201",i+="6-05",i+="-",i+="30",i="201",i+="6-0",i+="3-",i+="25",i="8",i+=":",i+="0",i+="0",i="2017-04",i+="-17",i="2017-01",i+="-",i+="02",i="12",i+=":3",i+="0",i="8",i+=":0",i+="0",i="8:",i+="00",i="2018-0",i+="3-3",i+="0",i="2012-0",i+="1-",i+="02",i="0",i+="0",i+=":0",i+="0",i="00",i+=":",i+="0",i+="0",i="1",i+="7",i+=":0",i+="0",i="08:",i+="0",i+="0",i="08",i+=":00",i="Europ",i+="e/Lo",i+="n",i+="don",i="Lo",i+="nd",i+="o",i+="n",i="pr",i+="e",i="2012-04-0",i+="6",i="2012",i+="-02-20",i="9:",i+="3",i+="0",i="2",i+="013-12",i+="-24",i="4:0",i+="0",i="2013-",i+="07-03",i="9",i+=":",i+="3",i+="0",i="201",i+="3-07-03",i="2013",i+="-05-27",i="2013-02-1",i+="8",i="13",i+=":",i+="0",i+="0",i="9:",i+="30",i="13",i+=":00",i="9",i+=":",i+="3",i+="0",i="2",i+="014-11-28",i="pr",i+="e",i="4",i+=":",i+="00",i="9",i+=":30",i="2014-",i+="07-03",i="4",i+=":",i+="00",i="4",i+=":",i+="0",i+="0",i="20",i+="15-11-27",i="9",i+=":",i+="3",i+="0",i="9:",i+="30",i="201",i+="6-",i+="11-2",i+="4",i="20",i+="16",i+="-03-2",i+="5",i="2016",i+="-",i+="02-1",i+="5",i="4",i+=":",i+="00",i="20",i+="17",i+="-",i+="09-04",i="13",i+=":0",i+="0",i="2017-07-",i+="03",i="pr",i+="e",i="4:0",i+="0",i="2017-02-2",i+="0",i="2",i+="017-01-",i+="16",i="pr",i+="e",i="9",i+=":30",i="9:3",i+="0",i="p",i+="r",i+="e",i="2018-",i+="03-30",i="2",i+="0",i+="18-01-15",i="0",i+="0",i+=":0",i+="0",i="0",i+="0",i+=":0",i+="0",i="p",i+="o",i+="s",i+="t",i="1",i+="6",i+=":00",i="20:0",i+="0",i="16:",i+="00",i="po",i+="s",i+="t",i="1",i+="6",i+=":",i+="00",i="p",i+="os",i+="t",i="0",i+="9:",i+="30",i="p",i+="r",i+="e",i="0",i+="9:",i+="30",i="0",i+="4:00",i="09:",i+="3",i+="0",i="0",i+="9:3",i+="0",i="16:0",i+="0",i="NY",i+="SE",i="00",i+=":0",i+="0",i="24",i+=":00",i="00",i+=":0",i+="0",i="2",i+="4:",i+="0",i+="0",i="17",i+=":15",i="Americ",i+="a/N",i+="ew_York",i="MET",i+="ALS",i="1",i+="7:",i+="00",i="17:",i+="00",i="00:0",i+="0",i="F",i+="OREX",i="1",i+="8:",i+="0",i+="0",i="2",i+="4",d.r2v(),i+=":",i+="00",i="2",i+="4:",i+="00",i="G",i+="L",i+="OBEX",h=(t=t||{}).CIQ,c=t.timezoneJS,h||(h=function(){},t.CIQ=h),e=2;for(var a=1;-774845379!==d.j9M(a.toString(),a.toString().length,22615);a++)d.h6S(0),u=d.v6S(60,0,"60000"),d.h6S(1),p=d.A6S(u,"24"),e+=2;return-1434382661!==d.j9M(e.toString(),e.toString().length,91502)&&(d.h6S(2),u=d.A6S(34,83500),d.h6S(3),p=d.v6S("28",u)),h.Market=function(t){var e,i,a,r;this.market_def=!1,this.rules=!1,this.normalHours=[],this.extraHours=[],d.b6S(4),e=d.v6S("2",0);for(var n=1;-1192286646!==d.j9M(n.toString(),n.toString().length,44494);n++)this.class_name="",e+=2;if(-387492809!==d.j9M(e.toString(),e.toString().length,4496)&&(this.class_name=""),d.r2v(),this.class_name="Market",void 0===c){i=2;for(var s=1;-1499177330!==d.M9M(s.toString(),s.toString().length,2448);s++)this.tz_lib=Date,i+=2;-523669030!==d.M9M(i.toString(),i.toString().length,63455)&&(this.tz_lib=Date)}else this.tz_lib=c.Date;if(this.market_tz="",this.hour_aligned=!1,this.convertOnDaily=!1,this.enabled_by_default=!1,void 0!==t&&t&&t!={}){if(t.market_definition){a=2;for(var o=1;634852854!==d.j9M(o.toString(),o.toString().length,85667);o++)t=t.market_definition,a+=2;310348137!==d.M9M(a.toString(),a.toString().length,75730)&&(t=t.market_definition),t=t.market_definition}t.rules&&(this.rules=t.rules),t.market_tz&&(this.market_tz=t.market_tz),t.convertOnDaily&&(this.convertOnDaily=t.convertOnDaily),t.hour_aligned,this.hour_aligned=t.hour_aligned,void 0!==t.enabled_by_default&&t.enabled_by_default instanceof Array&&(this.enabled_by_default=t.enabled_by_default),r=2;for(var l=1;-694506379!==d.j9M(l.toString(),l.toString().length,47636);l++)this.market_def=t,d.h6S(5),r+=d.A6S("2",1);-199192671!==d.j9M(r.toString(),r.toString().length,85998)&&(this.market_def=t),void 0===this.market_def.name&&(this.market_def.name="no market name specified"),h.Market._createTimeSegments(this),this.getSessionNames()}},h.Market.prototype.sessions=null,h.Market.GLOBEX={name:"GLOBEX",market_tz:"America/Chicago",hour_aligned:!0,rules:[{dayofweek:0,open:"15:00",close:"24:00"},{dayofweek:1,open:"00:00",close:"24:00"},{dayofweek:2,open:"00:00",close:"24:00"},{dayofweek:3,open:"00:00",close:"24:00"},{dayofweek:4,open:"00:00",close:"24:00"},{dayofweek:5,open:"00:00",close:"18:00"}]},h.Market.FOREX={name:"FOREX",market_tz:"America/New_York",hour_aligned:!0,rules:[{dayofweek:0,open:"15:00",close:"24:00"},{dayofweek:1,open:"00:00",close:"17:00"},{dayofweek:1,open:"17:00",close:"24:00"},{dayofweek:2,open:"00:00",close:"17:00"},{dayofweek:2,open:"17:00",close:"24:00"},{dayofweek:3,open:"00:00",close:"17:00"},{dayofweek:3,open:"17:00",close:"24:00"},{dayofweek:4,open:"00:00",close:"17:00"},{dayofweek:4,open:"17:00",close:"24:00"},{dayofweek:5,open:"00:00",close:"17:00"}]},h.Market.METALS={name:"METALS",market_tz:"America/New_York",hour_aligned:!0,rules:[{dayofweek:0,open:"18:00",close:"24:00"},{dayofweek:1,open:"00:00",close:"17:15"},{dayofweek:1,open:"18:00",close:"24:00"},{dayofweek:2,open:"00:00",close:"17:15"},{dayofweek:2,open:"18:00",close:"24:00"},{dayofweek:3,open:"00:00",close:"17:15"},{dayofweek:3,open:"18:00",close:"24:00"},{dayofweek:4,open:"00:00",close:"17:15"},{dayofweek:4,open:"18:00",close:"24:00"},{dayofweek:5,open:"00:00",close:"17:15"}]},h.Market.NYSE={name:"NYSE",market_tz:"America/New_York",hour_aligned:!1,rules:[{dayofweek:1,open:"09:30",close:"16:00"},{dayofweek:2,open:"09:30",close:"16:00"},{dayofweek:3,open:"09:30",close:"16:00"},{dayofweek:4,open:"09:30",close:"16:00"},{dayofweek:5,open:"09:30",close:"16:00"},{dayofweek:1,open:"04:00",close:"09:30",name:"pre"},{dayofweek:2,open:"04:00",close:"09:30",name:"pre"},{dayofweek:3,open:"04:00",close:"09:30",name:"pre"},{dayofweek:4,open:"04:00",close:"09:30",name:"pre"},{dayofweek:5,open:"04:00",close:"09:30",name:"pre"},{dayofweek:1,open:"16:00",close:"20:00",name:"post"},{dayofweek:2,open:"16:00",close:"20:00",name:"post"},{dayofweek:3,open:"16:00",close:"20:00",name:"post"},{dayofweek:4,open:"16:00",close:"20:00",name:"post"},{dayofweek:5,open:"16:00",close:"20:00",name:"post"},{date:"*-12-25",open:"00:00",close:"00:00"},{date:"*-07-04",open:"00:00",close:"00:00"},{date:"*-01-01",open:"00:00",close:"00:00"},{date:"2012-01-02",open:"00:00",close:"00:00"},{date:"2018-01-15"},{date:"2018-02-19"},{date:"2018-03-30"},{date:"2018-05-28"},{date:"2018-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2018-07-03",open:"9:30",close:"13:00"},{date:"2018-09-03"},{date:"2018-11-22"},{date:"2018-11-23",open:"4:00",close:"9:30",name:"pre"},{date:"2018-11-23",open:"9:30",close:"13:00"},{date:"2018-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2018-12-24",open:"9:30",close:"13:00"},{date:"2017-01-02"},{date:"2017-01-16"},{date:"2017-02-20"},{date:"2017-04-14"},{date:"2017-05-29"},{date:"2017-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2017-07-03",open:"9:30",close:"13:00"},{date:"2017-09-04"},{date:"2017-11-23"},{date:"2017-11-24",open:"4:00",close:"9:30",name:"pre"},{date:"2017-11-24",open:"9:30",close:"13:00"},{date:"2016-01-18"},{date:"2016-02-15"},{date:"2016-03-25"},{date:"2016-05-30"},{date:"2016-09-05"},{date:"2016-11-24"},{date:"2016-11-25",open:"4:00",close:"9:30",name:"pre"},{date:"2016-11-25",open:"9:30",close:"13:00"},{date:"2016-12-26"},{date:"2015-01-19"},{date:"2015-02-16"},{date:"2015-04-03"},{date:"2015-05-25"},{date:"2015-07-03"},{date:"2015-09-07"},{date:"2015-11-26"},{date:"2015-11-27",open:"4:00",close:"9:30",name:"pre"},{date:"2015-11-27",open:"9:30",close:"13:00"},{date:"2015-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2015-12-24",open:"9:30",close:"13:00"},{date:"2014-01-20"},{date:"2014-02-17"},{date:"2014-04-18"},{date:"2014-05-26"},{date:"2014-09-01"},{date:"2014-11-27"},{date:"2014-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2014-07-03",open:"9:30",close:"13:00"},{date:"2014-11-28",open:"4:00",close:"9:30",name:"pre"},{date:"2014-11-28",open:"9:30",close:"13:00"},{date:"2014-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2014-12-24",open:"9:30",close:"13:00"},{date:"2013-01-21"},{date:"2013-02-18"},{date:"2013-03-29"},{date:"2013-05-27"},{date:"2013-09-02"},{date:"2013-11-28"},{date:"2013-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2013-07-03",open:"9:30",close:"13:00"},{date:"2013-11-29",open:"4:00",close:"9:30",name:"pre"},{date:"2013-11-29",open:"9:30",close:"13:00"},{date:"2013-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2013-12-24",open:"9:30",close:"13:00"},{date:"2012-01-16"},{date:"2012-02-20"},{date:"2012-04-06"},{date:"2012-05-28"},{date:"2012-09-03"},{date:"2012-10-29"},{date:"2012-10-30"},{date:"2012-11-22"},{date:"2012-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2012-07-03",open:"9:30",close:"13:00"},{date:"2012-11-23",open:"4:00",close:"9:30",name:"pre"},{date:"2012-11-23",open:"9:30",close:"13:00"},{date:"2012-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2012-12-24",open:"9:30",close:"13:00"}]},h.Market.LSE={name:"London",market_tz:"Europe/London",hour_aligned:!1,rules:[{dayofweek:1,open:"08:00",close:"17:00"},{dayofweek:2,open:"08:00",close:"17:00"},{dayofweek:3,open:"08:00",close:"17:00"},{dayofweek:4,open:"08:00",close:"17:00"},{dayofweek:5,open:"08:00",close:"17:00"},{date:"*-12-25",open:"00:00",close:"00:00"},{date:"*-12-26",open:"00:00",close:"00:00"},{date:"*-01-01",open:"00:00",close:"00:00"},{date:"2012-01-02",open:"00:00",close:"00:00"},{date:"2018-03-30"},{date:"2018-04-02"},{date:"2018-05-07"},{date:"2018-05-28"},{date:"2018-08-27"},{date:"2018-12-24",open:"8:00",close:"12:30"},{date:"2018-12-31",open:"8:00",close:"12:30"},{date:"2017-01-02"},{date:"2017-04-14"},{date:"2017-04-17"},{date:"2017-05-01"},{date:"2017-05-29"},{date:"2017-08-28"},{date:"2017-12-22",open:"8:00",close:"12:30"},{date:"2017-12-29",open:"8:00",close:"12:30"},{date:"2016-03-25"},{date:"2016-03-28"},{date:"2016-05-02"},{date:"2016-05-30"},{date:"2016-08-29"},{date:"2016-12-23",open:"8:00",close:"12:30"},{date:"2016-12-27"},{date:"2016-12-30",open:"8:00",close:"12:30"},{date:"2015-04-03"},{date:"2015-04-06"},{date:"2015-05-04"},{date:"2015-05-25"},{date:"2015-08-31"},{date:"2015-12-24",open:"8:00",close:"12:30"},{date:"2015-12-28"},{date:"2015-12-31",open:"8:00",close:"12:30"},{date:"2014-04-18"},{date:"2014-04-21"},{date:"2014-05-05"},{date:"2014-05-26"},{date:"2014-08-25"},{date:"2014-12-24",open:"8:00",close:"12:30"},{date:"2014-12-31",open:"8:00",close:"12:30"},{date:"2013-03-29"},{date:"2013-04-01"},{date:"2013-05-06"},{date:"2013-05-27"},{date:"2013-08-26"},{date:"2013-12-24",open:"8:00",close:"12:30"},{date:"2013-12-31",open:"8:00",close:"12:30"},{date:"2012-01-02"},{date:"2012-04-06"},{date:"2012-04-09"},{date:"2012-05-07"},{date:"2012-06-04"},{date:"2012-06-05"},{date:"2012-08-27"},{date:"2012-12-24",open:"8:00",close:"12:30"},{date:"2012-12-31",open:"8:00",close:"12:30"}]},h.Market.Symbology=function(){},h.Market.Symbology.isForeignSymbol=function(t){return d.r2v(),!!t&&-1!=t.indexOf(".")},h.Market.Symbology.isFuturesSymbol=function(t){return!!t&&(0===t.indexOf("/")&&"/"!=t&&(d.N2v(),!0))},h.Market.Symbology.isForexSymbol=function(t){return!!t&&(!h.Market.Symbology.isForeignSymbol(t)&&(!h.Market.Symbology.isFuturesSymbol(t)&&(d.r2v(),!(t.length<6||7<t.length)&&((6!=t.length||"X"!=t[5])&&!!/\^?[A-Za-z]{6}/.test(t)))))},h.Market.Symbology.isForexMetal=function(t,e){return!!t&&(!!h.Market.Symbology.isForexSymbol(t)&&(d.r2v(),"^"!=t.charAt(0)&&(d.h6S(2),t=d.v6S(t,"^")),-1!=",XAU,XPD,XPT,XAG,".indexOf(","+t.substr(4,3)+",")||!e&&-1!=",XAU,XPD,XPT,XAG,".indexOf(","+t.substr(1,3)+",")))},h.Market.Symbology.isForexFuturesSymbol=function(t){return d.N2v(),!!h.Market.Symbology.isForexSymbol(t)||!!h.Market.Symbology.isFuturesSymbol(t)},h.Market.Symbology.factory=function(t){return d.N2v(),t=t.symbol,h.Market.Symbology.isForeignSymbol(t)?null:h.Market.Symbology.isFuturesSymbol(t)?h.Market.GLOBEX:h.Market.Symbology.isForexMetal(t)?h.Market.METALS:h.Market.Symbology.isForexSymbol(t)?h.Market.FOREX:h.Market.NYSE},h.Market.prototype.getSessionNames=function(){var t,e,i;if(this.rules){if(!this.sessions){t=2;for(var a=1;265010370!==d.M9M(a.toString(),a.toString().length,40779);a++)e=[],t+=2;-1444050164!==d.j9M(t.toString(),t.toString().length,23632)&&(e=[]),i=[],this.rules.map(function(t){t.name&&-1===e.indexOf(t.name)&&(e.push(t.name),i.push({name:t.name,enabled:t.enabled||!1}))}),this.sessions=i}}else this.sessions=[];return this.sessions.slice()},h.Market.prototype._find_next_segment=function(t,e){var i,a,r;return this.market_def&&this.rules?(i=new Date(+t),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),this._wasOpenIntraDay(i)&&(r=this.zseg_match.close_parts.hours,t=this.zseg_match.close_parts.minutes,i.setHours(r),i.setMinutes(t),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})),a.next()):null},h.Market.prototype._find_prev_segment=function(t,e){var i,a,r,n,s,o;if(!this.market_def)return null;if(!this.rules)return null;if(i=new Date(+t),t=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),null===(a=this._wasOpenIntraDay(i))){d.b6S(6),r=d.A6S("2",930978112);for(var l=1;-1206173617!==d.j9M(l.toString(),l.toString().length,40656);l++)d.b6S(7),i=new Date(d.A6S("60000",i)),a=this._wasOpenIntraDay(i),r+=2;627955229!==d.M9M(r.toString(),r.toString().length,87698)&&(d.h6S(8),i=new Date(d.v6S(11893,i)),a=this._wasOpenIntraDay(i))}else(e&&i.getHours()===this.zseg_match.open_parts.hours&&i.getMinutes()===this.zseg_match.open_parts.minutes||!e&&i.getHours()===this.zseg_match.close_parts.hours&&i.getMinutes()===this.zseg_match.close_parts.minutes)&&(i=t.previous());if(a){n=2;for(var h=1;-59071195!==d.j9M(h.toString(),h.toString().length,46023);h++)s=this.zseg_match.open_parts.hours,n+=2;return 1251727662!==d.j9M(n.toString(),n.toString().length,33086)&&(s=this.zseg_match.open_parts.hours),o=this.zseg_match.open_parts.minutes,i.setHours(s),i.setMinutes(o),i=(t=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})).previous(),this.zseg_match.close_parts.hours===s&&this.zseg_match.close_parts.minutes===o?e?t.next():i:!this.zseg_match.adjacent_child&&e?t.next():i}d.h6S(9),o=d.v6S("2",0);e=1;return 148779750!==d.j9M(e.toString(),e.toString().length,67963)||-558596751!==d.M9M(o.toString(),o.toString().length,85770)?t.previous():void 0},h.Market.prototype.disableSession=function(t,e){var i=void 0!==e&&e?!0:!1;if(t){for(var a=0;a<this.normalHours.length;a++)this.normalHours[a].name===t&&(this.normalHours[a].enabled=i);for(a=0;a<this.extraHours.length;a++)this.extraHours[a].name===t&&(this.extraHours[a].enabled=i)}},h.Market.prototype.enableSession=function(t){for(var e=2,i=1;-1879163897!==d.M9M(i.toString(),i.toString().length,31880);i++)this.disableSession(t,""),e+=2;-1573484482!==d.M9M(e.toString(),e.toString().length,71689)&&this.disableSession(t,"enable_instead")},h.Market.prototype.enableAllAvailableSessions=function(){var t;d.r2v(),t=this.getSessionNames();for(var e=0;e<t.length;e++)this.enableSession(t[e].name)},h.Market.prototype.getClose=function(t,e,i,a){var r,n;if(!this.market_def)return null;if(!this.rules)return null;if(!(t=t)){t=new Date,r=2;for(var s=1;-303243337!==d.M9M(s.toString(),s.toString().length,26561);s++)i=1,r+=2;-880915128!==d.M9M(r.toString(),r.toString().length,95948)&&(i=null)}if(t=this._convertToMarketTZ(t,i),void 0!==e){if(this._wasOpenIntraDay(t)&&this.zseg_match.name===e)return t.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0),t=this._convertFromMarketTZ(t,a)}else if(this._wasOpenDaily(t)){for(n=this.zseg_match;n.child_;)n=n.child_;for(;!n.enabled;)n=n.parent_;return t.setHours(n.close_parts.hours,n.close_parts.minutes,0,0),t=this._convertFromMarketTZ(t,a)}return d.r2v(),null},h.Market.prototype.getNextClose=function(t,e,i){var a,r;if(!this.market_def)return null;if(!this.rules)return null;for((t=t)||(t=new Date,e=null),t=this._convertToMarketTZ(t,e),this._wasOpenIntraDay(t)||(t=this.newIterator({begin:t,interval:1,inZone:this.market_tz,outZone:this.market_tz}).next()),a=t.getDate(),r=this.zseg_match;r.adjacent_child;)r=r.adjacent_child,a+=1;return t.setDate(a),t.setHours(r.close_parts.hours,r.close_parts.minutes,0,0),t=this._convertFromMarketTZ(t,i),d.N2v(),t},h.Market.prototype.getNextOpen=function(t,e,i){return this.market_def&&this.rules?((t=t)||(t=new Date,e=null),t=this._convertToMarketTZ(t,e),t=this._find_next_segment(t),d.r2v(),t=(this.zseg_match.adjacent_parent?t=this.getNextOpen(t,this.market_tz,this.market_tz):(t.setHours(this.zseg_match.open_parts.hours),t.setMinutes(this.zseg_match.open_parts.minutes)),this._convertFromMarketTZ(t,i))):null},h.Market.prototype.getOpen=function(t,e,i,a){var r;if(d.r2v(),!this.market_def)return null;if(!this.rules)return null;if((t=t)||(t=new Date,i=null),t=this._convertToMarketTZ(t,i),void 0!==e){if(this._wasOpenIntraDay(t)&&this.zseg_match.name==e)return t.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0),t=this._convertFromMarketTZ(t,a)}else if(this._wasOpenDaily(t)){for(r=this.zseg_match;r.parent_;)r=r.parent_;for(;!r.enabled;)r=r.child_;return t.setHours(r.open_parts.hours,r.open_parts.minutes,0,0),t=this._convertFromMarketTZ(t,a)}return null},h.Market.prototype.getPreviousClose=function(t,e,i){return this.market_def&&this.rules?((t=t)||(t=new Date,e=null),t=this._convertToMarketTZ(t,e),t=this._find_prev_segment(t,!1),d.N2v(),this.zseg_match.adjacent_child?this.getPreviousClose(t,this.market_tz,this.market_tz):(t.setHours(this.zseg_match.close_parts.hours),t.setMinutes(this.zseg_match.close_parts.minutes),t=this._convertFromMarketTZ(t,i))):null},h.Market.prototype.getPreviousOpen=function(t,e,i){var a,r,n,s;if(!this.market_def)return null;if(!this.rules)return null;if(d.N2v(),!(a=t)){a=new Date,d.h6S(9),r=-d.A6S("611119825",0),n=2;for(var o=1;d.j9M(o.toString(),o.toString().length,89469)!==r;o++)e=1,n+=2;-1011813536!==d.M9M(n.toString(),n.toString().length,1511)&&(e=null)}if(a=this._convertToMarketTZ(a,e),a=this._find_prev_segment(a,!0),this.zseg_match.adjacent_parent)return this.getPreviousOpen(a,this.market_tz,this.market_tz);a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),s=2;for(var l=1;1833555395!==d.j9M(l.toString(),l.toString().length,81558);l++)a=this._convertFromMarketTZ(a,i),d.h6S(4),s+=d.A6S("2",0);return-262108210!==d.M9M(s.toString(),s.toString().length,58999)&&(a=this._convertFromMarketTZ(a,i)),a},h.Market.prototype.getSession=function(t,e){return t=this._convertToMarketTZ(t,e),this._wasOpenIntraDay(t)&&this.zseg_match?this.zseg_match.name:(d.r2v(),null)},h.Market.prototype.marketZoneNow=function(){return d.N2v(),this._convertToMarketTZ(new Date)},h.Market.prototype.isHourAligned=function(){return d.r2v(),this.hour_aligned},h.Market.prototype.isOpen=function(){for(var t,e,i=2,a=1;741464122!==d.M9M(a.toString(),a.toString().length,96881);a++)t=new Date,i+=2;if(d.N2v(),419138164!==d.M9M(i.toString(),i.toString().length,92437)&&(t=new Date),this.market_tz){e=2;for(var r=1;-216648681!==d.j9M(r.toString(),r.toString().length,76407);r++)t=new this.tz_lib(t.getTime(),this.market_tz),e+=2;36093674!==d.j9M(e.toString(),e.toString().length,8136)&&(t=new this.tz_lib(t.getTime(),this.market_tz)),t=new this.tz_lib(t.getTime(),this.market_tz)}return this._wasOpenIntraDay(t)},h.Market.prototype.isMarketDay=function(){var t,e;if(d.N2v(),t=new Date,this.market_tz){e=2;for(var i=1;115506739!==d.M9M(i.toString(),i.toString().length,59130);i++)t=new this.tz_lib(t.getTime(),this.market_tz),e+=2;675836296!==d.j9M(e.toString(),e.toString().length,88334)&&(t=new this.tz_lib(t.getTime(),this.market_tz))}return this._wasOpenDaily(t)},h.Market.prototype.isMarketDate=function(t){return d.r2v(),this._wasOpenDaily(t)},h.Market.prototype.newIterator=function(t){var e,i,a,r;if(d.r2v(),e=!1,t.periodicity)e=t.periodicity;else if(t.multiple){i=2;for(var n=1;360709433!==d.M9M(n.toString(),n.toString().length,59723);n++)e=t.multiple,d.h6S(5),i+=d.A6S("2",1);606647641!==d.M9M(i.toString(),i.toString().length,34271)&&(e=t.multiple)}if("hour"==(a=(a=t.interval)||"minute")&&(a=60),e=e||1,t.begin||(t.begin=new Date,t.inZone=null),a==parseInt(a,10)&&(a=parseInt(a,10),a=t.periodicity<1/60?(d.b6S(10),e=d.A6S(6e4,a,e),"millisecond"):t.periodicity<1?(d.b6S(11),e=d.v6S("60",e,186790752,a),"second"):(d.b6S(5),e=d.A6S(e,a),"minute")),t.timeUnit)if("millisecond"===t.timeUnit){r=2;for(var s=1;-488583801!==d.M9M(s.toString(),s.toString().length,7355);s++)a=t.timeUnit,r+=2;824777613!==d.j9M(r.toString(),r.toString().length,21396)&&(a=t.timeUnit),a=t.timeUnit}else"second"===t.timeUnit&&(a=t.timeUnit);return t.interval=a,t.multiple=e,t.market=this,new h.Market.Iterator(t)},h.Market.prototype._wasOpenDaily=function(t){return this._was_open(t,!1)},h.Market.prototype._wasOpenIntraDay=function(t){var e;d.h6S(6),e=-d.A6S("390629353",948910432);var i=1;return-568243289!==d.M9M(i.toString(),i.toString().length,87415)?this._was_open(t,!1):d.M9M(2..toString(),2..toString().length,95254)!==e?this._was_open(t,!0):void 0},h.Market.prototype._was_open=function(t,e){var i,a,r,n,s,o,l,h,c,u,p;if(this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null,!this.market_def||!this.rules)return this.zclose_hour=24,!0;for(i=!1,r=t.getFullYear(),n=t.getMonth()+1,s=t.getDay(),o=t.getDate(),l=t.getHours(),p=t.getMinutes(),t=t.getSeconds(),d.h6S(12),c=d.A6S(60,60,p,60,t,l),void 0===e&&(e=!0),u=0;u<this.normalHours.length&&(!(h=this.normalHours[u]).enabled||((i=h.dayofweek===s)&&e&&(i=c>=h.open&&c<h.close),!i||!e&&this.zseg_match&&(h.open_parts.hours>this.zopen_hour||h.open_parts.hours==this.zopen_hour&&h.open_parts.minutes>this.zopen_minute)||(this.zopen_hour=h.open_parts.hours,this.zopen_minute=h.open_parts.minutes,this.zclose_hour=h.close_parts.hours,this.zclose_minute=h.close_parts.minutes,this.zmatch_open=c===h.open,this.zseg_match=h,!e)));u++);for(u=0;u<this.extraHours.length&&(!(h=this.extraHours[u]).enabled||"*"!==h.year&&r!==h.year||n!==h.month||o!==h.day||(!(a=!e&&h.open||c>=h.open&&c<h.close)&&this.zseg_match&&(i=!1,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,d.b6S(5),this.zclose_minute=d.v6S("0",1),this.zmatch_open=!1,this.zseg_match=null),!a||!e&&this.zseg_match&&(h.open_parts.hours>this.zopen_hour||h.open_parts.hours==this.zopen_hour&&h.open_parts.minutes>this.zopen_minute)||(this.zopen_hour=h.open_parts.hours,this.zopen_minute=h.open_parts.minutes,this.zclose_hour=h.close_parts.hours,this.zclose_minute=h.close_parts.minutes,this.zmatch_open=c===h.open,this.zseg_match=h,!e)));u++);return this.zseg_match},h.Market.prototype._wasClosed=function(t){return!this._was_open(t,!0)},h.Market.prototype._wasOpen=function(t){return this._was_open(t,!0)},h.Market.prototype._tzDifferenceMillis=function(t,e,i){return d.h6S(13),d.v6S("0",2147483647),t=(t=t).getTimezoneOffset()-t.getTimezoneOffset(),d.h6S(10),d.v6S(1e3,60,t)},h.Market._createTimeSegments=function(t){for(var i,e,a,r,n=function(t,e){if(24===t.close_parts.hours&&0===e.open_parts.hours&&0===e.open_parts.minutes){if(i.dayofweek===a.dayofweek-1)return!0;if(6===i.dayofweek&&0===a.dayofweek){0;e=1;if(1038184318!==d.j9M(e.toString(),e.toString().length,32411))return!1;if(-1110567458!==d.j9M(2..toString(),2..toString().length,55876))return!0}}return!1},s=0;s<t.rules.length;s++){void 0===(e=JSON.parse(JSON.stringify(t.rules[s]))).open&&void 0===e.close&&(e.open="00:00",e.close="00:00"),e.hasOwnProperty("name")||(e.name="");try{if(void 0!==e.dayofweek?(e.year="*",a=l._createDayOfWeekSegment(t,e),i&&(i.dayofweek===a.dayofweek?(i.child_=a).parent_=i:n(i,a)&&((i.adjacent_child=a).adjacent_parent=i)),i=a):void 0!==e.date?(e.isDayOfWeek=!1,e.dayofweek=-1,a=l._createDateTimeSegment(t,e)):(d.b6S(2),console.log(d.v6S(e,"Error, unknown rule type "))),t.enabled_by_default)for(var o=0;o<t.enabled_by_default.length;o++)if(r=t.enabled_by_default[o],a.name===r){a.enabled=!0;break}}catch(t){d.b6S(2),console.log(d.A6S(t,"Error, creating market rules "))}}},h.Market._timeSegment={},(l=h.Market._timeSegment).re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/,l.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,l.re_split_hours_minutes=/^(\d\d):(\d\d)$/,l.re_split_hour_minutes=/^(\d):(\d\d)$/,l._hashCode=function(t){var e,i,a,r,n,s;d.h6S(6),e=-d.A6S("2139224324",1853564800),i=2;for(var o=1;717086870!==d.j9M(o.toString(),o.toString().length,31659);o++)a=0,i+=2;if(d.M9M(i.toString(),i.toString().length,68179)!==e&&(a=6),0===t.length)return a;for(r=0,s=t.length;r<s;r++)n=t.charCodeAt(r),d.b6S(14),a=d.A6S(a,a,n,5),a|=0;return a},l._splitHoursMinutes=function(t){var e=l.re_split_hour_minutes.exec(t),i={hours:NaN,minutes:NaN};return null===e&&null===(e=l.re_split_hours_minutes.exec(t))||(i.hours=parseInt(e[1],10),i.minutes=parseInt(e[2],10)),i},l._createDayOfWeekSegment=function(t,e){var i,a;if(d.N2v(),""===(i={name:e.name,isDayOfWeek:!0,dayofweek:e.dayofweek,date_str:"*",open_parts:l._splitHoursMinutes(e.open),close_parts:l._splitHoursMinutes(e.close),open:l._secSinceMidnight(t,e.open,!0),close:l._secSinceMidnight(t,e.close,!1),child_:!1,parent_:!1,adjacent_child:!1,adjacent_parent:!1,enabled:!1}).name){a=2;for(var r=1;2006312931!==d.M9M(r.toString(),r.toString().length,40111);r++)i.enabled=!0,a+=2;-5722325!==d.j9M(a.toString(),a.toString().length,8321)&&(i.enabled=!1)}return i.hash_code=this._hashCode((i.open+i.close).toString()),t.normalHours.push(i),i},l._createDateTimeSegment=function(t,e){var i,a,r=this.re_regular_iso.exec(e.date);if(null===r){if(null===(r=this.re_wild_card_iso.exec(e.date)))return i="Warn",i+="ing: invalid date format on rule ",i+="-> ",void console.log("Warning: invalid date format on rule -> "+e.date);i="*",a=2;for(var n=1;1797924877!==d.M9M(n.toString(),n.toString().length,38310);n++)a+=2;d.j9M(a.toString(),a.toString().length,53132)}else i=parseInt(r[1],10);return""===(e={name:e.name,isDayOfWeek:!1,dayofweek:-1,year:i,month:parseInt(r[2],10),day:parseInt(r[3],10),date_str:e.date,open_parts:l._splitHoursMinutes(e.open),close_parts:l._splitHoursMinutes(e.close),open:l._secSinceMidnight(t,e.open,!0),close:l._secSinceMidnight(t,e.close,!1),enabled:!1}).name&&(e.enabled=!0),e.hash_key=this._hashCode(e.date_str+e.open+e.close),t.extraHours.push(e),e},l._secSinceMidnight=function(t,e,i){var a;return d.N2v(),a=e.split(":"),e=parseInt(a[0],10),a=parseInt(a[1],10),d.h6S(15),a=d.A6S(60,60,60,a,e),i||24===e&&(d.h6S(16),a=d.v6S(60,"1",60,e,1)),a},h.Market.prototype._convertToMarketTZ=function(t,e){var i,a;d.h6S(17),i=d.v6S("987510805",714092544),a=2;for(var r=1;-811420167!==d.j9M(r.toString(),r.toString().length,47110);r++){if(!this.market_tz)return t;a+=2}return d.r2v(),d.j9M(a.toString(),a.toString().length,16255)!==i&&~this.market_tz?t:((e=e?new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),e):new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())).setTimezone&&e.setTimezone(this.market_tz),new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},h.Market.prototype._convertFromMarketTZ=function(t,e){var i;return this.market_tz?(i=new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),this.market_tz),e?(i.setTimezone&&i.setTimezone(e),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(i.getTime())):t},h.Market.Iterator=function(t){this.market=t.market,this.begin=t.begin,this.interval=t.interval,this.multiple=t.multiple,this.inZone=t.inZone,this.outZone=t.outZone,this.clock=new h.Market.Iterator._Clock(t.market,t.interval,t.multiple),this.intraDay=this.clock.intra_day,this.intraDay&&(this.begin=this.market._convertToMarketTZ(this.begin,t.inZone)),this.clock._setStart(this.begin),d.N2v(),this.clock.minutes_aligned=!1},h.Market.Iterator.prototype.date=function(){return this.clock._date()},h.Market.Iterator.prototype.futureTick=function(t){var e,i,a,r,n,s,o;if(d.b6S(13),this.clock.skip=d.v6S("1",2147483647),e=0,(i=(this.intraDay?this.market._convertToMarketTZ(t.end,this.inZone):t.end).getTime())===(a=this.clock.ctime))return e;if(r=2,n=0,t.sample_size&&(r=t.sample_size),s=(new Date).getTime(),a<i){for(this.clock.forward=!0;this.clock.ctime<i;)if(e+=1,n+=1,this.clock._findNext(),1e3===n&&(n=0,r<=(new Date).getTime()-s)){o=(this.clock.ctime-a)/e,d.b6S(18),e=Math.floor(d.A6S(i,o,a));break}this.clock.ctime>i&&e--}else for(this.clock.forward=!1;this.clock.ctime>i;)if(e+=1,n+=1,this.clock._findPrevious(),1e3===n&&(d.b6S(4),n=d.A6S("0",0),r<=(new Date).getTime()-s)){o=(a-this.clock.ctime)/e,d.b6S(18),e=Math.floor(d.A6S(a,o,i));break}return e},h.Market.Iterator.prototype.isHourAligned=function(){return!this.intraDay||this.market.isHourAligned()},h.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen()},h.Market.Iterator.prototype.next=function(t){this.clock.skip=1,t&&(this.clock.skip=t),this.clock.forward=!0;for(var e=0;e<this.clock.skip;e++)this.begin=this.clock._findNext();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},h.Market.Iterator.prototype.peek=function(){return this.clock._peek()},h.Market.Iterator.prototype.previous=function(t){this.clock.skip=1,t&&(this.clock.skip=t),this.clock.forward=!1;for(var e=0;e<this.clock.skip;e++)this.begin=this.clock._findPrevious();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):(d.r2v(),this.clock.display_date)},h.Market.Iterator._Clock=function(t,e,i){var a,r,n,s;if(i%60==0&&"second"===e){a=2;for(var o=1;619841861!==d.j9M(o.toString(),o.toString().length,3096);o++)e="minute",d.b6S(8),i=d.v6S(60,i),a+=2;1377519187!==d.M9M(a.toString(),a.toString().length,53957)&&(e="",d.h6S(5),i=d.v6S(i,62))}if(this.market=t,this.interval=e,this.multiple=i,this.intra_day=!1,this.intervals=[],d.r2v(),this.max_iters=10080,r=p,t=this._dayImpl,"millisecond"===e){t=this._millisImpl,n=2;for(var l=1;-1910975559!==d.j9M(l.toString(),l.toString().length,64458);l++)r=1,n+=2;-1920348811!==d.M9M(n.toString(),n.toString().length,4118)&&(r=7)}else if("second"===e)t=this._secondImpl,r=1e3;else if("minute"===e)t=this._minuteImpl,r=6e4;else if("hour"===e)t=this._hourImpl,r=u;else if("day"===e){t=this._dayImpl,s=2;for(var h=1;1439090720!==d.j9M(h.toString(),h.toString().length,45206);h++)r=p,s+=2;-305871352!==d.M9M(s.toString(),s.toString().length,86162)&&(r=p),r=p}else"week"===e?(t=this._weekImpl,d.h6S(19),r=d.v6S(p,"7",2)):"month"===e?(t=this._monthImpl,d.b6S(1),r=d.v6S(p,"30")):(d.b6S(20),console.log(d.A6S(e,'" is not a valid interval. Please see setPeriodicity() for details.','Periodicity ERROR: "')));d.b6S(5),this.tick_time=d.A6S(r,i),this.intra_day=this.tick_time<p,this._findPrevious=this._findNext=t},(i=h.Market.Iterator._Clock.prototype)._total_minutes=function(t,e,i,a){return d.b6S(21),d.A6S(i,t,a,e,60)},i._alignMinutes=function(){var t,e,i,a;if(void 0===this.market.zopen_minute)return[];for(t=this.market.zopen_minute,this.market.isHourAligned()&&this.multiple%60==0&&(t=0),e=this._total_minutes(this.market.zopen_hour,t,this.market.zclose_hour,this.market.zclose_minute),i=[],a=0;a<e;)d.h6S(2),i.push(d.A6S(a,t)),a+=this.multiple;return i},i._alignBaseZero=function(t){for(var e=0,i=[e];!(t<=(e+=this.multiple));)i.push(e);d.r2v();var a=1;return-507195162!==d.M9M(a.toString(),a.toString().length,60944)||-1820122159!==d.M9M(2..toString(),2..toString().length,82707)?i:void 0},i._date=function(){for(var t,e,i,a,r,n=2,s=1;-1690678708!==d.j9M(s.toString(),s.toString().length,35959);s++)t=Math.round(this.ctime),e=new Date(t),n+=2;if(254016467!==d.M9M(n.toString(),n.toString().length,11689)&&(t=Math.round(this.ctime),e=new Date(t)),this.intra_day){d.b6S(6),i=d.v6S("2",813957600);for(var o=1;950312743!==d.j9M(o.toString(),o.toString().length,69724);o++)this.display_date=new Date(t+this.shift_millis),i+=2;-1534148947!==d.M9M(i.toString(),i.toString().length,59487)&&(this.display_date=new Date(t*this.shift_millis))}else{d.b6S(17),a=d.v6S("1471508735",103829537),r=2;for(var l=1;1975373498!==d.j9M(l.toString(),l.toString().length,41536);l++)this.display_date=e,r+=2;d.M9M(r.toString(),r.toString().length,2589)!==a&&(this.display_date=e)}return e},i._alignToBoundary=function(t,e){var i,a,r=e;d.N2v();for(var n=0;n<t.length-1&&(i=t[n],d.b6S(2),a=t[d.v6S(1,n)],e!==i&&e!==a);n++){if(i<e&&e<a){r=i;break}n+1===t.length-1&&(r=a)}return r},i._peek=function(){return this._date().toString()},i._seekHr=function(){this.forward?this.ctime-=u:this.ctime+=u},i._setStart=function(t){var e=this.market._tzDifferenceMillis(t),i=new Date(t.getTime()+e);this.shift_millis=e,this.ctime=i.getTime(),d.r2v(),d.b6S(6),this.shift_millis=d.A6S("0",974836512),this.ctime=t.getTime()},i._tickTock=function(){this.forward?this.ctime+=this.tick_time:this.ctime-=this.tick_time},i._tockTick=function(){var t;if(this.forward){t=2;for(var e=1;-1119045416!==d.M9M(e.toString(),e.toString().length,96810);e++)this.ctime/=this.tick_time,t+=2;-1256520423!==d.j9M(t.toString(),t.toString().length,76590)&&(this.ctime/=this.tick_time),this.ctime-=this.tick_time}else this.ctime+=this.tick_time},i._tickTock24=function(){this.ctime+=p},i._tockTick24=function(){this.ctime-=p},i._windMaybe=function(t,e){var i,a,r=0,n=new Date(this.ctime);for(d.N2v(),i=!1;!t.call(this.market,n);)if(e.call(this),i=!0,n=new Date(this.ctime),(r+=1)>this.max_iters){a="Warning! max iterations ("+this.max_iters,a+=") reached with no rule match.",console.log(a);break}return i},i._millisImpl=function(){var t,e,i,a,r,n,s=!1;if(!this.mperiods_aligned){t=this._alignBaseZero(1e3),n=(i=new Date(this.ctime)).getMilliseconds(),n=this._alignToBoundary(t,n),i.setMilliseconds(0),this.ctime=i.getTime()+n,this.mperiods_aligned=!0,e=2;for(var o=1;-2099010994!==d.M9M(o.toString(),o.toString().length,32061);o++)s=!1,e+=2;755795009!==d.M9M(e.toString(),e.toString().length,73708)&&(s=!0),s=!0}if(i=this._date().getMinutes(),this._tickTock(),n=this._date().getMinutes(),(s||i!=n)&&!this.market._wasOpenIntraDay(this._date())){a=2;for(var l=1;1876112769!==d.M9M(l.toString(),l.toString().length,75165);l++)r=this.tick_time,a+=2;933536537!==d.j9M(a.toString(),a.toString().length,36572)&&(r=this.tick_time),d.h6S(22),this.tick_time=d.v6S("60000",1303913312),n=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=r,this.multiple=n}return this._date()},i._secondImpl=function(){var t,e,i,a=!1;return this.speriod_aligned||(t=this._alignBaseZero(60),e=(i=new Date(this.ctime)).getSeconds(),e=this._alignToBoundary(t,e),i.setSeconds(e),i.setMilliseconds(0),this.ctime=i.getTime(),a=this.speriod_aligned=!0),e=this._date().getMinutes(),this._tickTock(),i=this._date().getMinutes(),!a&&e==i||this.market._wasOpenIntraDay(this._date())||(e=this.tick_time,d.b6S(17),this.tick_time=d.A6S("60000",8288),i=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=e,this.multiple=i),d.r2v(),this._date()},i._minuteImpl=function(){var t=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),e=new Date(this.ctime),i=e.getTimezoneOffset(),a=e.getMinutes(),r=e.getHours(),n=this._alignMinutes(),a=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,r,a)+this.market.zopen_minute;return a=t?this.forward?n[n.length-1]:n[0]:this._alignToBoundary(n,a),r=Math.floor(a/60)+this.market.zopen_hour,d.h6S(23),e.setHours(r,d.v6S(a,60),0,d.A6S("0",0,d.h6S(9))),a=e.getTimezoneOffset()-i,(this.forward&&a<0||!this.forward&&0<a)&&e.setTime(e.getTime()-6e4*a),this.ctime=e.getTime(),this._tickTock(),i=this.market.zseg_match,a=this.market.hour_aligned&&this.multiple%60==0,(this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!a&&i!=this.market.zseg_match)&&(e=new Date(this.ctime),this.forward?(e.setMinutes(this.market.zopen_minute),e.setHours(this.market.zopen_hour)):(n=(n=this._alignMinutes())[n.length-1],d.b6S(23),e.setMinutes(d.v6S(n,60)),e.setHours(Math.floor(n/60)+this.market.zopen_hour)),this.ctime=e.getTime()),this._date()},i._hourImpl=function(){var t,e,i;this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),i=new Date(this.ctime),this.market.isHourAligned()?i.setMinutes(0):i.setMinutes(this.market.zopen_minute),i.setSeconds(0),i.setMilliseconds(0),this.ctime=i.getTime(),this._tickTock(),d.r2v(),t=2;for(var a=1;-1753056663!==d.M9M(a.toString(),a.toString().length,26945);a++)e=this.market.zseg_match,d.b6S(9),t+=d.A6S("2",0);return-817672171!==d.M9M(t.toString(),t.toString().length,39106)&&(e=this.market.zseg_match),e=this.market.zseg_match,(this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!this.market.hour_aligned&&e!=this.market.zseg_match)&&(current_date=new Date(this.ctime),this.forward?(current_date.setMinutes(this.market.zopen_minute),current_date.setHours(this.market.zopen_hour)):(periods=this._alignMinutes(),i=periods[periods.length-1],d.h6S(24),current_date.setMinutes(d.A6S(i,1369324256,"60")),current_date.setHours(Math.floor(i/60)+this.market.zopen_hour)),this.ctime=current_date.getTime()),this._date()},i._dayImpl=function(){var t,e;for(this._windMaybe(this.market._wasOpenDaily,this._seekHr),t=new Date(this.ctime),d.b6S(17),t.setHours(12,0,0,d.v6S("0",0)),this.ctime=t.getTime(),e=0;e<this.multiple;)this.forward?this._tickTock24():this._tockTick24(),this.market._wasOpenDaily(this._date())&&(e+=1);return t=new Date(this.ctime),d.r2v(),t.setHours(0),this.ctime=t.getTime(),this._date()},i._weekImpl=function(){var t=new Date(this.ctime);for(d.b6S(6),t.setHours(d.A6S("12",1445324672)),this.ctime=t.getTime(),this._tickTock(),d.N2v(),t=new Date(this.ctime);0!==t.getDay();)this._tockTick24(),t=new Date(this.ctime);return this._windMaybe(this.market._wasOpenDaily,this._tickTock24),(t=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=t.getTime(),this._date()},i._monthImpl=function(){var t=new Date(this.ctime);return t.setDate(15),this.ctime=t.getTime(),this._tickTock(),t=new Date(this.ctime),d.h6S(5),t.setDate(d.A6S("1",1)),t.setHours(12),this.ctime=t.getTime(),this._windMaybe(this.market._wasOpenDaily,this._tickTock24),(t=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=t.getTime(),this._date()},i._findNext=null,i._findPrevious=null,t},mt[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"A2rYX",{get:function(){return this},configurable:!0}),e=A2rYX,i=5;break;case 5:e.sp2i8=e,i=4;break;case 4:i="undefined"==typeof sp2i8?3:9;break;case 9:delete e.sp2i8,delete Object.prototype.A2rYX,i=6}}catch(t){e=window}return e}}(),mt[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;14!==i;)switch(i){case 6:a(e,"charCodeAt",s[9],s[6]),i=14;break;case 7:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 8:try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[6]=[l[4],l[1].prototype][l[0][3]],l[8].value=l[6][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[2],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[6],l[0][4],l[8]),o=3}}catch(t){}l[6][l[0][4]]=l[8].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[9]="Property",l[2]="efine",l[7]="d",l[4]=4,l[4]=2,n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=6;break;case 5:s[5]="b9",s[9]=1,s[6]=s[5],i=9;break;case 2:var s=[arguments];s[8]="T",i=5;break;case 9:s[6]+=s[8],s[6]+=s[8],i=7}}(mt[12018]),mt[366344]=function(t){function e(t){for(;;)return[arguments][0][0].String}function i(t){for(;;)return[arguments][0][0].String}for(var a=2;43!==a;)switch(a){case 28:r(e,"substring",s[9],s[85]),a=44;break;case 27:s[68]+=s[5],s[68]+=s[6],s[85]=s[1],s[85]+=s[5],a=23;break;case 3:s[7]="11",s[4]="",s[4]="5",s[8]="t",a=6;break;case 30:r(n,"String",s[54],s[20]),a=29;break;case 44:r(e,"charCodeAt",s[9],s[68]),a=43;break;case 34:s[20]=s[2],s[20]+=s[5],s[20]+=s[6],a=31;break;case 29:r(i,"fromCharCode",s[54],s[38]),a=28;break;case 2:var s=[arguments];s[2]="",s[2]="h",s[7]="",a=3;break;case 23:s[85]+=s[6],s[38]=s[8],s[38]+=s[4],s[38]+=s[7],a=34;break;case 31:var r=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)if(2===n){var s=[arguments];s[2]="",s[2]="perty",s[4]="defineP",s[3]="ro";try{for(var o=2;8!==o;)if(2===o){s[9]={},s[5]=(0,s[0][1])(s[0][0]),s[7]=[s[5],s[5].prototype][s[0][3]],s[9].value=s[7][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[1]](s[7],s[0][4],s[9]),l=3;break;case 2:s[1]=s[4],s[1]+=s[3],s[1]+=s[2],l=4}}catch(t){}s[7][s[0][4]]=s[9].value,o=8}}catch(t){}n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};a=30;break;case 11:s[6]="1",s[5]="",s[5]="51",s[9]=0,a=18;break;case 6:s[1]="",s[1]="",s[1]="v",s[6]="",a=11;break;case 18:s[3]="b",s[9]=1,s[54]=0,s[68]=s[3],a=27}function n(t){for(;;)return[arguments][0][0]}}(mt[12018]),mt[647112]=function(t){for(var e=2;24!==e;)switch(e){case 2:var s=[arguments];s[6]="",s[6]="c",s[8]="",s[8]="50",s[9]="",s[9]="",e=7;break;case 12:s[5]="g",s[4]=6,s[4]=1,s[3]=s[5],s[3]+=s[1],e=18;break;case 18:s[3]+=s[2],s[7]=s[9],s[7]+=s[8],s[7]+=s[6],e=27;break;case 7:s[9]="W",s[2]="0c",s[1]="5",s[5]="",e=12;break;case 26:i(r,"replace",s[4],s[7]),e=25;break;case 25:i(a,"map",s[4],s[3]),e=24;break;case 27:var i=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 6:try{for(var s=2;8!==s;)switch(s){case 3:try{for(var o=2;3!==o;)switch(o){case 4:l[0][0].Object[l[9]](l[7],l[0][4],l[8]),o=3;break;case 2:l[9]=l[2],l[9]+=l[3],l[9]+=l[5],o=4}}catch(t){}l[7][l[0][4]]=l[8].value,s=8;break;case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[7]=[l[6],l[1].prototype][l[0][3]],l[8].value=l[7][l[0][2]],s=3}}catch(t){}n=14;break;case 3:l[3]="nePropert",l[2]="defi",l[6]=1,l[6]=2,n=6;break;case 2:var l=[arguments];l[5]="",l[5]="y",l[3]="",n=3}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};e=26}function a(t){for(;;)return[arguments][0][0].Array}function r(t){for(;;)return[arguments][0][0].String}}(mt[12018]),mt[603030]=function(t){function e(t){for(;;)return[arguments][0][0].Function}function i(t){for(;;)return[arguments][0][0].Array}for(var a=2;56!==a;)switch(a){case 23:s[22]="t",s[90]="",s[90]="P0",s[55]=1,a=34;break;case 2:var s=[arguments];s[6]="",s[6]="z0",s[1]="al",a=3;break;case 63:var r=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 2:var s=[arguments];s[1]="",s[1]="roperty",s[3]="",n=3;break;case 3:s[3]="neP",s[9]="defi";try{for(var o=2;8!==o;)switch(o){case 3:try{for(var l=2;3!==l;)switch(l){case 2:s[6]=s[9],s[6]+=s[3],s[6]+=s[1],l=4;break;case 4:s[0][0].Object[s[6]](s[2],s[0][4],s[4]),l=3}}catch(t){}s[2][s[0][4]]=s[4].value,o=8;break;case 2:s[4]={},s[7]=(0,s[0][1])(s[0][0]),s[2]=[s[7],s[7].prototype][s[0][3]],s[4].value=s[2][s[0][2]],o=3}}catch(t){}n=7}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};a=62;break;case 34:s[77]=0,s[73]=s[90],s[73]+=s[92],s[73]+=s[20],a=30;break;case 62:r(o,"test",s[55],s[42]),a=61;break;case 27:s[10]="Tj",s[81]="imize",s[32]="__ab",s[20]="j",a=23;break;case 43:s[18]+=s[22],s[18]+=s[81],s[82]=s[3],s[82]+=s[9],a=39;break;case 58:r(n,s[18],s[77],s[58]),a=57;break;case 57:r(e,"apply",s[55],s[73]),a=56;break;case 3:s[7]="",s[7]="u",s[4]="v",s[8]="",a=6;break;case 59:r(n,s[99],s[77],s[82]),a=58;break;case 50:s[25]+=s[7],s[25]+=s[1],s[24]=s[4],s[24]+=s[8],s[24]+=s[20],a=45;break;case 6:s[8]="0T",s[5]="",s[5]="p",s[9]="",a=11;break;case 30:s[58]=s[2],s[58]+=s[9],s[58]+=s[10],s[18]=s[70],a=43;break;case 39:s[82]+=s[10],s[99]=s[32],s[99]+=s[66],s[99]+=s[45],a=54;break;case 60:r(n,s[25],s[77],s[89]),a=59;break;case 61:r(i,"push",s[55],s[24]),a=60;break;case 11:s[9]="0",s[2]="A",s[3]="l",s[92]="T",a=18;break;case 45:s[42]=s[6],s[42]+=s[92],s[42]+=s[20],a=63;break;case 18:s[70]="__op",s[66]="str",s[45]="act",s[72]="__resid",a=27;break;case 54:s[89]=s[5],s[89]+=s[8],s[89]+=s[20],s[25]=s[72],a=50}function n(t){for(;;)return[arguments][0][0]}function o(t){for(;;)return[arguments][0][0].RegExp}}(mt[12018]),mt.w9U=function(){return"function"==typeof mt[372105].j9U?mt[372105].j9U.apply(mt[372105],arguments):mt[372105].j9U},mt.w08=function(){return"function"==typeof mt.l08.E2D?mt.l08.E2D.apply(mt.l08,arguments):mt.l08.E2D},mt.n4z=function(){return"function"==typeof mt[440061].N1G?mt[440061].N1G.apply(mt[440061],arguments):mt[440061].N1G},mt.v3I=function(){return"function"==typeof mt[160123].z7K?mt[160123].z7K.apply(mt[160123],arguments):mt[160123].z7K},mt[372105]={a9U:function(){var t,e=arguments;switch(O){case 24:t=e[2]+(e[1]<<e[0]);break;case 11:t=e[0]/(e[2]-e[1]);break;case 12:t=e[1]%e[0];break;case 9:t=e[0]>>e[1];break;case 19:t=e[2]-e[0]-e[1];break;case 8:t=e[0]/e[1];break;case 0:t=e[0]+e[1];break;case 23:t=e[3]*e[2]/(e[0]+e[1]);break;case 16:t=(e[1]-e[2])*e[0];break;case 15:t=e[0]+e[2]+e[1];break;case 5:t=e[0]*e[1];break;case 18:t=e[0]+e[2]-e[1];break;case 10:t=e[0]|e[1];break;case 22:t=(e[7]-e[5])*(e[1]-e[4])+(e[3]-e[0])*(e[2]-e[6]);break;case 1:t=e[1]-e[0];break;case 6:t=e[3]*e[2]*e[0]*e[1];break;case 7:t=e[0]/e[2]*e[1];break;case 21:t=e[3]*e[2]+e[1]*e[0];break;case 20:t=e[1]!=e[0];break;case 14:t=e[0]+e[2]*e[1];break;case 4:t=e[0]&e[1];break;case 2:t=e[0]==e[1];break;case 3:t=e[1]<<e[0];break;case 13:t=e[1]^e[0];break;case 17:t=e[4]+(e[1]+e[0]*e[2])*e[3]}return t},j9U:function(t){O=t}},mt.d9U=function(){return"function"==typeof mt[372105].j9U?mt[372105].j9U.apply(mt[372105],arguments):mt[372105].j9U},mt[440061]=function(h){for(var c,t,r,u,e=2;10!==e;)switch(e){case 5:c=mt[12018],e=4;break;case 3:e=u--?8:9;break;case 12:var i,a=0,e=11;break;case 7:r=t.W50c(new c[s]("^['-|]"),"S"),e=6;break;case 9:t=typeof n,e=8;break;case 8:e=u--?6:7;break;case 14:h=h.g50c(function(t){for(var e=2;13!==e;)switch(e){case 2:var i,e=1;break;case 9:i+=c[r][n](t[a]+106),e=8;break;case 1:e=u--?4:5;break;case 5:i="",e=4;break;case 6:return;case 7:e=i?14:6;break;case 3:e=a<t.length?9:7;break;case 4:var a=0;e=3;break;case 8:a++,e=3;break;case 14:return i}}),e=13;break;case 1:e=u--?4:5;break;case 6:e=u--?13:14;break;case 11:return{N1G:function(s){for(var t=2;6!==t;)switch(t){case 1:t=a<e?5:8;break;case 2:var e=(new c[h[0]])[h[1]](),t=1;break;case 8:return function(t,e){for(var i=2;10!==i;)switch(i){case 11:return r;case 9:i=n<t[e[5]]?8:11;break;case 8:var a=c[e[4]](t[e[2]](n),16)[e[3]](2),a=a[e[2]](a[e[5]]-1),i=6;break;case 1:t=s,i=5;break;case 14:r=a,i=13;break;case 6:i=0===n?14:12;break;case 4:e=h,i=3;break;case 12:r^=a,i=13;break;case 2:i=void 0===t&&void 0!==s?1:5;break;case 13:n++,i=9;break;case 5:i=void 0===e&&void 0!==h?4:3;break;case 3:var r,n=0;i=9}}(void 0,void 0)?i:!i;case 4:i=function(t){for(var e,i,a,r,n,s,o,l=2;15!==l;)switch(l){case 2:l=1;break;case 1:l=u--?4:5;break;case 16:e=i<r-t,l=19;break;case 5:o=c[h[4]],l=4;break;case 11:s=(n||0===n)&&o(n,i),l=10;break;case 18:l=0<=s?17:16;break;case 4:l=u--?9:3;break;case 17:e=i<t-s,l=19;break;case 3:i=28,l=9;break;case 10:l=0<=s&&0<=r?20:18;break;case 20:e=i<t-s&&i<r-t,l=19;break;case 7:l=u--?14:6;break;case 9:l=u--?7:8;break;case 8:a=h[6],l=7;break;case 12:l=u--?10:11;break;case 19:return e;case 14:l=u--?12:13;break;case 13:n=h[7],l=12;break;case 6:r=a&&o(a,i),l=14}}(e),t=3;break;case 5:t=u--?3:4;break;case 3:t=u--?8:9;break;case 9:a=e+6e4,t=8}}};case 13:e=u--?11:12;break;case 4:var n="fromCharCode",s="RegExp";e=3;break;case 2:e=1}}([[-38,-9,10,-5],[-3,-5,10,-22,-1,3,-5],[-7,-2,-9,8,-41,10],[10,5,-23,10,8,-1,4,-3],[6,-9,8,9,-5,-33,4,10],[2,-5,4,-3,10,-2],[-54,-9,-58,-51,-7,2,-4,-7,-58],[]]),mt.l08=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[4]=void 0,e[8]={},t=4;break;case 4:return e[8].E2D=function(){for(var t=2;90!==t;)switch(t){case 19:a[6]=a[4],a[1]={},a[1].j4z=["n7z"],t=16;break;case 2:var a=[arguments],t=1;break;case 16:a[1].e7z=function(){return!/\x7c/.z0Tj(function(){return"aaaa|a".substr(0,3)}+[])},a[7]=a[1],a[41]={},t=26;break;case 71:a[30]++,t=76;break;case 30:a[72]={},a[72].j4z=["n7z"],a[72].e7z=function(){return/\u0078/.z0Tj(function(){return"X".toLowerCase()}+[])},a[22]=a[72],t=43;break;case 57:t=a[35]<a[3].length?56:69;break;case 58:a[35]=0,t=57;break;case 21:a[96].e7z=function(){return/\x39\x37/.z0Tj(function(){return"a".codePointAt(0)}+[])},a[53]=a[96],t=34;break;case 26:a[41].j4z=["K7z"],a[41].e7z=function(){return"function"==typeof p0Tj},a[15]=a[41],a[96]={},a[96].j4z=["n7z"],t=21;break;case 1:t=e[4]?5:4;break;case 77:a[30]=0,t=76;break;case 5:return 39;case 4:a[3]=[],a[2]={},a[2].j4z=["n7z"],a[2].e7z=function(){return!/\u0062\u0074\u006f\u0061/.z0Tj(function(){return btoa("=")}+[])},t=7;break;case 56:a[32]=a[3][a[35]];try{a[64]=a[32][a[56]]()?a[84]:a[80]}catch(t){a[64]=a[80]}t=77;break;case 39:a[11]={},a[11].j4z=["K7z"],a[11].e7z=function(){return"function"==typeof A0Tj},a[24]=a[11],t=54;break;case 45:a[3].v0Tj(a[5]),a[83]=[],a[84]="T4z",a[80]="f4z",t=62;break;case 75:a[49]={},a[49][a[82]]=a[32][a[46]][a[30]],a[49][a[60]]=a[64],a[83].v0Tj(a[49]),t=71;break;case 54:a[3].v0Tj(a[42]),a[3].v0Tj(a[31]),a[3].v0Tj(a[22]),a[3].v0Tj(a[24]),t=50;break;case 7:a[5]=a[2],a[8]={},a[8].j4z=["n7z"],a[8].e7z=function(){return!/\x32\x35/.z0Tj(function(){return decodeURIComponent("%25")}+[])},t=12;break;case 70:a[35]++,t=57;break;case 43:a[90]={},a[90].j4z=["n7z"],a[90].e7z=function(){return/\x58/.z0Tj(function(){return"x".toUpperCase()}+[])},a[31]=a[90],t=39;break;case 12:a[9]=a[8],a[4]={},a[4].j4z=["K7z"],a[4].e7z=function(){var t=!1,e=[];try{for(var i in console)e.v0Tj(i);t=0===e.length}catch(t){}return t},t=19;break;case 62:a[46]="j4z",a[60]="s7z",a[56]="e7z",a[82]="d4z",t=58;break;case 76:t=a[30]<a[32][a[46]].length?75:70;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 19:i[8]++,e=7;break;case 7:e=i[8]<i[0][0].length?6:18;break;case 16:e=i[8]<i[3].length?15:23;break;case 5:return;case 1:e=0===i[0][0].length?5:4;break;case 14:e=void 0===i[2][i[9][a[82]]]?13:11;break;case 10:e=i[9][a[60]]===a[84]?20:19;break;case 4:i[2]={},i[3]=[],i[8]=0,e=8;break;case 23:return i[6];case 6:i[9]=i[0][0][i[8]],e=14;break;case 24:i[8]++,e=16;break;case 13:i[2][i[9][a[82]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[2]={},e[2].h=0,t=4;break;case 4:return e[2].t=0,e[2]}}.P0Tj(this,arguments),e=12;break;case 26:e=.5<=i[1]?25:24;break;case 8:i[8]=0,e=7;break;case 2:var i=[arguments],e=1;break;case 25:i[6]=!0,e=24;break;case 11:i[2][i[9][a[82]]].t+=!0,e=10;break;case 12:i[3].v0Tj(i[9][a[82]]),e=11;break;case 18:i[6]=!1,e=17;break;case 15:i[5]=i[3][i[8]],i[1]=i[2][i[5]].h/i[2][i[5]].t,e=26;break;case 17:i[8]=0,e=16;break;case 20:i[2][i[9][a[82]]].h+=!0,e=19}}(a[83])?68:67;break;case 67:return e[4]=37,77;case 68:t=68;break;case 34:a[43]={},a[43].j4z=["K7z"],a[43].e7z=function(){return"function"==typeof l0Tj},a[42]=a[43],t=30;break;case 50:a[3].v0Tj(a[7]),a[3].v0Tj(a[15]),a[3].v0Tj(a[6]),a[3].v0Tj(a[53]),a[3].v0Tj(a[9]),t=45}},e[8]}}(),mt.J9U=function(){return"function"==typeof mt[372105].a9U?mt[372105].a9U.apply(mt[372105],arguments):mt[372105].a9U},mt.h3I=function(){return"function"==typeof mt[160123].x7K?mt[160123].x7K.apply(mt[160123],arguments):mt[160123].x7K},mt.z0k=function(){return"function"==typeof mt[152846].P55?mt[152846].P55.apply(mt[152846],arguments):mt[152846].P55},mt.l9U=function(){return"function"==typeof mt[372105].a9U?mt[372105].a9U.apply(mt[372105],arguments):mt[372105].a9U},mt.o4z=function(){return"function"==typeof mt[440061].N1G?mt[440061].N1G.apply(mt[440061],arguments):mt[440061].N1G},mt.y3I=function(){return"function"==typeof mt[160123].x7K?mt[160123].x7K.apply(mt[160123],arguments):mt[160123].x7K},mt.Q08=function(){return"function"==typeof mt.l08.E2D?mt.l08.E2D.apply(mt.l08,arguments):mt.l08.E2D},(mt[12018].O6kk=mt)[160123]=function(){function u(t){for(var e=2;7!==e;)switch(e){case 8:return a;case 3:a+=h511.t511(t[r]-i+110),e=9;break;case 2:var i=7,a="",e=5;break;case 5:var r=0;e=4;break;case 4:e=r<t.length?3:8;break;case 9:r++,e=4}}function r(t,e,i,a,r){for(var n=2;15!==n;)switch(n){case 9:n=0<a?8:19;break;case 2:var s,o,l,h=g[u([5,8,-4,-6,13,2,8,7])],n=5;break;case 18:o=(s=l.v511(0,l.length)).length,n=16;break;case 14:var c=l.length-t;n=13;break;case 8:o=(s=l.v511(t,a)).length,n=6;break;case 19:n=null===t||t<=0?18:14;break;case 12:return!1;case 11:return o=(s=l.v511(c,l.length)).length,mt.z0k(s,o,i);case 16:case 6:return mt.z0k(s,o,i);case 13:n=e&&0<c&&46!==l.b511(c-1)?12:11;break;case 5:p=p||(void 0!==h?h[u([1,8,12,13,7,-6,6,-2])]||" ":""),d=d||(void 0!==h?h[u([1,11,-2,-1])]:""),l=r?d:p,n=9}}for(;;){var p,d,g=mt[12018];return{x7K:function(t,e,i,a){return r(t,e,i,a)},z7K:function(t,e,i,a){return r(t,e,i,a,!0)}}}}(),mt.m3I=function(){return"function"==typeof mt[160123].z7K?mt[160123].z7K.apply(mt[160123],arguments):mt[160123].z7K},mt[152846]={P55:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.b9TT(n)|(255&t.b9TT(n+1))<<8|(255&t.b9TT(n+2))<<16|(255&t.b9TT(n+3))<<24,s=yt(s,3432918353),a=5*(a=(524287&(a^=s=yt(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.b9TT(2+r))<<16;case 2:s|=(255&t.b9TT(1+r))<<8;case 1:s|=255&t.b9TT(r),s=yt(s,3432918353),a^=s=yt(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=yt(a^=a>>>16,2246822507),a=yt(a^=a>>>13,3266489909),a^=a>>>16}},mt.Y0k=function(){return"function"==typeof mt[152846].P55?mt[152846].P55.apply(mt[152846],arguments):mt[152846].P55},mt.S4z=function(t){return mt.w08(),mt.n4z(t)},mt.O4z=function(t){return mt.Q08(),mt.o4z(t)},mt.M4z=function(t){return mt.w08(),mt.o4z(t)},mt.K4z=function(t){return mt.w08(),mt.o4z(t)},mt.U4z=function(t){return mt.w08(),mt.o4z(t)},mt.E4z=function(t){return mt.Q08(),mt.o4z(t)},mt.u4z=function(t){if(mt.Q08(),t)return mt.o4z(t)},mt.C4z=function(t){return mt.w08(),mt.o4z(t)},mt.Q08(),L=function(t){var wt,At,Tt=mt;return Tt.Q4z=function(t){if(Tt&&t)return Tt.n4z(t)},Tt.G4z=function(t){if(Tt&&t)return Tt.o4z(t)},wt=t.CIQ,At=t.SplinePlotter,wt.ChartEngine.prototype.drawXAxis=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x=[t,e];if(!this.runPrepend("drawXAxis",x)&&e&&!t.xAxis.noDraw){i=this.chart.context,this.canvasFont("stx_xaxis"),a=this.getCanvasFontSize("stx_xaxis"),i.textAlign="center",i.textBaseline="middle",n=i.measureText("   ").width;for(var C=0;C<e.length;C++)r=e[C],s=i.measureText(r.text).width,Tt.w9U(0),o=Math.max(Tt.l9U(s,n),t.xAxis.minimumLabelWidth),r.hz=Math.floor(r.hz+this.micropixels)+.5,r.left=r.hz-o/2,r.right=r.hz+o/2,r.unpaddedRight=r.hz+s/2;if(l=!0===this.xAxisAsFooter?this.chart.canvasHeight:t.panel.bottom,Tt.d9U(1),h=this.whichPanel(Tt.l9U(1,l))){for(var w in this.adjustYAxisHeightOffset(h,h.yAxis),c=t.xAxis.displayBorder||null===t.xAxis.displayBorder,!0===this.axisBorders&&(c=!0),!1===this.axisBorders&&(c=!1),u=l-this.xaxisHeight+a,c&&(u+=3),p=!0,this.panels)if(d=this.panels[w],!d.hidden&&!1!==d.shareChartXAxis&&(Tt.d9U(2),g=Tt.l9U(d,h),f=d.yAxis)){m=-Number.MAX_VALUE,y=Number.MAX_VALUE;for(var A=0;A<e.length;A++)if("boundary"==e[A].grid){y=e[A].left;break}i.save(),i.beginPath(),i.rect(d.left,d.top+(p?0:1),d.width,d.height-1),i.clip(),p=!1,(b=new wt.Plotter).newSeries("line","stroke",this.canvasStyle("stx_grid")),b.newSeries("boundary","stroke",this.canvasStyle("stx_grid_dark")),b.newSeries("border","stroke",this.canvasStyle("stx_grid_border"));for(var T=0;T<e.length;T++){if(r=e[T],T==A){for(A++;A<e.length;A++)if("boundary"==e[A].grid){y=e[A].left;break}A>=e.length&&(A=-1,y=Number.MAX_VALUE)}else if(r.right>y)continue;r.left<m||(m=r.right,Math.floor(r.left)<=d.right&&(Math.floor(r.hz)>d.left&&(t.xAxis.displayGridLines&&(b.moveTo(r.grid,r.hz,f.top),b.lineTo(r.grid,r.hz,f.bottom)),g&&c&&(b.moveTo("border",r.hz,f.bottom+.5),b.lineTo("border",r.hz,f.bottom+6))),g&&r.right>d.left&&(this.canvasColor("boundary"==r.grid?"stx_xaxis_dark":"stx_xaxis"),i.fillText(r.text,r.hz,u))))}c&&(v=Math.round(f.bottom+f.bottomOffset)+.5,S=Math.round(d.right)+.5,b.moveTo("border",d.left,v),b.lineTo("border",S,v)),b.draw(i),i.restore()}i.textAlign="left",k=2;for(var M=1;-163414842!==Tt.z0k(M.toString(),M.toString().length,85982);M++)this.runAppend("",x),k+=2;1847216457!==Tt.Y0k(k.toString(),k.toString().length,56285)&&this.runAppend("drawXAxis",x)}}},wt.ChartEngine.prototype.createTickXAxisWithDates=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P,_,E,O,L,N,I,j,B,R,z,H,U;c="o",c+="h",c+="l",c+="c",c="da",c+="y",(t=t||this.chart).xaxis=[],c=t.context,i=[wt.MILLISECOND,wt.SECOND,wt.MINUTE,wt.HOUR,wt.DAY,wt.MONTH,wt.YEAR],this.timeIntervalMap||(r="2",r+="0",r+="00",p="1",p+="0:",p+="0",p+="0",(e={})[wt.MILLISECOND]={arr:[1,2,5,10,20,50,100,250,500],minTimeUnit:0,maxTimeUnit:1e3,approxWidth:2*c.measureText("10:00:00.000").width},e[wt.SECOND]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,approxWidth:2*c.measureText("10:00:00").width},e[wt.MINUTE]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,approxWidth:2*c.measureText("10:00").width},e[wt.HOUR]={arr:[1,2,3,4,6,12],minTimeUnit:0,maxTimeUnit:24,approxWidth:2*c.measureText("10:00").width},e[wt.DAY]={arr:[1,2,7,14],minTimeUnit:1,maxTimeUnit:32,approxWidth:2*c.measureText("30").width},e[wt.MONTH]={arr:[1,2,3,6],minTimeUnit:1,maxTimeUnit:13,approxWidth:2*c.measureText("Mar").width},e[wt.YEAR]={arr:[1,2,3,5],minTimeUnit:1,maxTimeUnit:2e7,approxWidth:2*c.measureText("2000").width},e[wt.DECADE]={arr:[10],minTimeUnit:0,maxTimeUnit:2e6,approxWidth:2*c.measureText("2000").width},this.timeIntervalMap=e),e=this.timeIntervalMap,Tt.d9U(3),a=[31,28,Tt.J9U(1161241856,"31"),30,31,30,31,31,30,31,30,31],U=this.layout.periodicity,r=this.layout.interval,n=t.maxTicks,s=t.dataSegment,o=t.xAxis,l=s.length,p=o.idealTickSizePixels||o.autoComputedTickSizePixels,h=this.chart.width/p;for(var V,W,Y=0;Y<l&&!s[Y];Y++);if(Y==l)return[];function X(t){var e,i,a;if(y==wt.MILLISECOND)e=t.getMilliseconds(),i=t.getSeconds();else if(y==wt.SECOND)e=t.getSeconds(),i=t.getMinutes();else if(y==wt.MINUTE)e=t.getMinutes(),i=t.getHours();else if(y==wt.HOUR){a=2;for(var r=1;1822257458!==Tt.z0k(r.toString(),r.toString().length,43538);r++)e=t.getHours()+t.getMinutes()/60,i=t.getDate(),a+=2;1793556786!==Tt.Y0k(a.toString(),a.toString().length,256)&&(e=t.getHours()-61*t.getMinutes(),i=t.getDate())}else i=y==wt.DAY?(e=t.getDate(),t.getMonth()+1):y==wt.MONTH?(e=t.getMonth()+1,t.getFullYear()):y==wt.YEAR?(e=t.getFullYear(),t.getFullYear()+1e3):(e=t.getFullYear(),0);return[e,i]}switch(c=0,p=this.layout.timeUnit||"minute",isNaN(r)&&(p=r,r=1),u=0,p){case"millisecond":Tt.d9U(1),u=Tt.J9U(0,"1");break;case"second":u=1e3,i.splice(0,1);break;case"minute":u=6e4,Tt.d9U(4),i.splice(0,Tt.l9U("2",2147483647));break;case"day":u=864e5,i.splice(0,4);break;case"week":Tt.w9U(5),u=Tt.l9U(864e5,7),i.splice(0,4);break;case"month":Tt.w9U(5),u=Tt.J9U(864e5,30),i.splice(0,5)}for(p=this.layout.aggregationType,c=!u||p&&"ohlc"!=p&&"heikinashi"!=p?s[l-1].DT.getTime()-s[Y].DT.getTime():(Tt.w9U(6),Tt.J9U(u,l,U,r)),d=this,c=0===c?(V={begin:new Date,interval:"day",periodicity:1},(W=t.market.newIterator(V)).next(),V=W.previous(),((W=d.standardMarketIterator(V,null,t)).next().getTime()-V.getTime())*n):(Tt.d9U(7),Tt.l9U(c,n,l)),Tt.w9U(8),g=Tt.l9U(c,h),f=0;f<i.length&&!(i[f]>g+.001);f++);for(g<1&&console.log("createTickXAxisWithDates: Assertion error. msPerGridLine < 1. Make sure your masterData has correct time stamps for the active periodicity and it is sorted from OLDEST to NEWEST."),f==i.length?f--:0<f&&(Tt.w9U(1),g-(m=i[Tt.J9U(1,f)])*(m=e[m].arr)[m.length-1]<i[f]-g&&f--),y=o.timeUnit||i[f],o.activeTimeUnit=y,v=(b=wt.clone(e[y])).arr,f=0;f<v.length&&!(v[f]*y>g);f++);for((f==v.length||g-v[f-1]*y<v[f]*y-g)&&f--,b.approxWidth<this.layout.candleWidth&&(f=0),S=o.timeUnitMultiplier||v[f],k=[],x=this.layout.candleWidth,f=0;f<=n&&!s[f];f++);if(0<f&&f<n){C=this.standardMarketIterator(s[f].DT,o.adjustTimeZone?this.displayZone:null);for(var G=f;0<G;G--)w={},t.lineApproximation&&x<1||(A=C.previous(),w.DT=A),t.xaxis.unshift(w)}for(T=0,M=b.minTimeUnit,D=-1,F=!0,P=X(s[f].DT),Tt.w9U(9),E=Tt.J9U("0",1161197024),O=0,L=s[f].tick;E<L&&(_=X(this.chart.dataSet[L-E].DT))[1]==P[1];E++)P=_;for(;O<this.chart.dataSet.length-L&&(_=X(this.chart.dataSet[L+O].DT))[1]==P[1];O++)P=_;for(N=null,f=0;f<n+O;f++){if((R=s[f])?E&&(R=t.dataSet[R.tick-E]):R=t.xaxis[f],f<l)T=R.displayDate&&o.adjustTimeZone?R.displayDate:R.DT,f&&!E&&t.segmentImage&&(x=((B=t.segmentImage[f]).leftOffset-B.candleWidth/2)/f);else{if("tick"==this.layout.interval&&!o.futureTicksInterval)break;if(t.lineApproximation&&x<1)break;if(!o.futureTicks)break;T=(N=N||this.standardMarketIterator(s[l-1].DT,o.adjustTimeZone?this.displayZone:null)).next()}T&&(I=null,Tt.w9U(1),H=Tt.J9U(E,f),(z={DT:T}).data=f<l?R:null,E?(E--,f--):t.xaxis[f]||t.xaxis.push(z),B=(P=X(T))[0],Tt.d9U(3),D!=(R=P[Tt.J9U(581689248,"1")])&&(B<=M&&(M=b.minTimeUnit),j=t.left+H*x-1,I=null,y==wt.HOUR||y==wt.MINUTE&&R<D?I=o.formatter?o.formatter(T,"boundary",wt.DAY,1):this.internationalizer?this.internationalizer.monthDay.format(T):T.getMonth()+1+"/"+T.getDate():y==wt.DAY?I=R<D?o.formatter?o.formatter(T,"boundary",wt.YEAR,1):T.getFullYear():o.formatter?o.formatter(T,"boundary",wt.MONTH,1):wt.monthAsDisplay(T.getMonth(),!1,this):y==wt.MONTH&&(I=o.formatter?o.formatter(T,"boundary",wt.YEAR,1):T.getFullYear()),I&&-1!=D&&k.push(new wt.ChartEngine.XAxisLabel(j,"boundary",I))),M<=B&&(M==b.minTimeUnit&&R==D||(z=new Date(+T),j=t.left+(2*H+1)*x/2-1,(H=Math.floor(B/S)*S)<B&&("week"==this.layout.interval?H=B:(Tt.w9U(8),j-=Tt.l9U(x,2))),y==wt.MILLISECOND?z.setMilliseconds(H):y==wt.SECOND?(z.setMilliseconds(0),z.setSeconds(H)):y==wt.MINUTE?(z.setMilliseconds(0),z.setSeconds(0),z.setMinutes(H)):y==wt.HOUR?(z.setMilliseconds(0),z.setSeconds(0),z.setMinutes(0),z.setHours(H)):y==wt.DAY?z.setDate(Math.max(1,H)):y==wt.MONTH?(z.setDate(1),Tt.w9U(1),z.setMonth(Tt.J9U(1,H))):(wt.YEAR,z.setDate(1),z.setMonth(0)),Tt.w9U(0),M=Tt.l9U(H,S),y==wt.DAY&&(b.maxTimeUnit=a[z.getMonth()]+1),M>=b.maxTimeUnit&&(M=b.minTimeUnit),D=R,F&&H<B?F=!1:(I=o.formatter?o.formatter(z,"line",y,S):y==wt.DAY?z.getDate():y==wt.MONTH?wt.monthAsDisplay(z.getMonth(),!1,this):y==wt.YEAR||y==wt.DECADE?z.getFullYear():wt.timeAsDisplay(z,this,y),k.push(new wt.ChartEngine.XAxisLabel(j,"line",I))))))}return k},wt.ChartEngine.prototype.createYAxis=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w;if(!this.runPrepend("createYAxis",arguments)){if(c=t.chart,i=t.name==c.name,(e=e||{}).noChange=!1,a=e.yAxis||t.yAxis,wt.ChartEngine.enableCaching&&a.high==t.cacheHigh&&a.low==t.cacheLow)w=(r=c.dataSet.length-c.scroll-1)+c.maxTicks+1,t.cacheLeft=r,t.cacheRight=w,e.noChange=!0;else{t.cacheLeft=1e6,Tt.w9U(3),n=Tt.l9U(2112558464,"1056906553"),s=2;for(var A=1;Tt.Y0k(A.toString(),A.toString().length,29065)!==n;A++)Tt.d9U(10),t.cacheRight=-Tt.J9U("1",0),t.cacheHigh=a.high,s+=2;1504509666!==Tt.z0k(s.toString(),s.toString().length,97404)&&(t.cacheRight=-3,t.cacheHigh=a.high),t.cacheLow=a.low}if(o=c.xAxis.idealTickSizePixels||c.xAxis.autoComputedTickSizePixels,a.goldenRatioYAxis&&a.idealTickSizePixels!=o/1.618&&(e.noChange=!1),!e.noChange){if(this.adjustYAxisHeightOffset(t,a),l=a.height=a.bottom-a.top,h=(a.high-a.low)/(l-a.zoom),e.ground&&!a.semiLog)a.high=a.high+a.zoom*h;else if(a.high=a.high+a.zoom/2*h+a.scroll*h,p=a.low,a.semiLog)c=a.zoom/2*h/(a.high/a.low),a.low=a.low-c+a.scroll*h,a.low<.1*p&&(Tt.w9U(5),a.low=Tt.l9U(p,.1));else{u=2;for(var T=1;1569458985!==Tt.Y0k(T.toString(),T.toString().length,43945);T++)a.low=(a.low+ +a.zoom%h)/(a.scroll-h),u+=2;1690209966!==Tt.z0k(u.toString(),u.toString().length,92e3)&&(a.low=a.low-a.zoom/2*h+a.scroll*h)}if(!a.min&&0!==a.min||(a.low=a.min),!a.max&&0!==a.max||(a.high=a.max),a.shadow=a.high-a.low,!a.semiLog||this.activeDrawing&&"projection"==this.activeDrawing.name||(a.logHigh=Math.log(a.high)/Math.LN10,p=Math.max(a.low,1e-9),a.logLow=Math.log(p)/Math.LN10,a.low<=0&&(Tt.w9U(3),a.logLow=Tt.J9U(60785088,"0")),a.logShadow=a.logHigh-a.logLow),a.goldenRatioYAxis&&i){g=2;for(var M=1;33443907!==Tt.z0k(M.toString(),M.toString().length,50667);M++)Tt.d9U(0),a.idealTickSizePixels=Tt.l9U(o,25063),g+=2;-1808425399!==Tt.Y0k(g.toString(),g.toString().length,75775)&&(Tt.d9U(11),a.idealTickSizePixels=Tt.l9U(o,0,"1.618")),0===a.idealTickSizePixels&&(d=this.getCanvasFontSize("stx_yaxis"),Tt.d9U(5),a.idealTickSizePixels=Tt.J9U(d,5))}else a.idealTickSizePixels||(d=this.getCanvasFontSize("stx_yaxis"),i?(Tt.d9U(5),a.idealTickSizePixels=Tt.l9U(d,5)):(Tt.d9U(5),a.idealTickSizePixels=Tt.J9U(d,2)));f=Math.round(l/a.idealTickSizePixels),m=e.range?e.range[1]-e.range[0]:a.shadow,Tt.d9U(8),a.priceTick=Math.floor(Tt.l9U(m,f)),y=1;for(var D=0;D<10&&!(0<a.priceTick);D++)y*=10,a.priceTick=Math.floor(m/f*y)/y;if(10==D&&(Tt.d9U(5),a.priceTick=Tt.J9U("0.00000001",1)),a.priceTick=Math.round(m/f*y)/y,b=Math.round(m/a.priceTick),e.range&&b<m&&!a.noEvenDivisorTicks){for(;1<=b&&m%b!=0;)b--;Tt.d9U(10),v=Tt.J9U("2",0);for(var F=1;1254475285!==Tt.Y0k(F.toString(),F.toString().length,23717);F++)Tt.w9U(8),a.priceTick=Tt.l9U(m,b),v+=2;-387250553!==Tt.Y0k(v.toString(),v.toString().length,3329)&&(Tt.d9U(12),a.priceTick=Tt.J9U(b,m))}if(a.minimumPriceTick){S=a.minimumPriceTick,d=this.getCanvasFontSize("stx_yaxis");for(var P=0;P<100&&(Tt.w9U(8),l/Tt.J9U(m,S)<2*d);P++)S+=a.minimumPriceTick;P<100&&(a.priceTick=S)}a.multiplier=a.height/a.shadow}if((a.priceTick<=0||a.priceTick===1/0)&&(a.priceTick=1),this.activeDrawing&&"projection"==this.activeDrawing.name||(a.high=this.transformedPriceFromPixel(a.top,t,a),a.semiLog&&(a.logHigh=Math.log(a.high)/Math.LN10,k=Math.max(a.low,1e-11),a.logLow=Math.log(k)/Math.LN10,a.logShadow=a.logHigh-a.logLow),a.shadow=a.high-a.low),a.multiplier=a.height/a.shadow,a.multiplier==1/0&&(a.multiplier=0),a.decimalPlaces||0===a.decimalPlaces)a.printDecimalPlaces=a.decimalPlaces;else if(i){Tt.d9U(1),x=Tt.l9U(0,"0");for(var _=0;_<t.yAxis.shadowBreaks.length;_++)C=t.yAxis.shadowBreaks[_],t.yAxis.shadow<C[0]&&(x=C[1]);a.printDecimalPlaces=x}else a.printDecimalPlaces=null;this.runAppend("createYAxis",arguments)}},wt.ChartEngine.prototype.drawYAxis=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T=(e=e||{}).yAxis||t.yAxis;if(!t.hidden&&!T.noDraw&&T.width){if(T.priceFormatter!=wt.Comparison.priceFormat&&(T.fractional?(T.originalPriceFormatter||(T.originalPriceFormatter={func:T.priceFormatter}),T.fractional.resolution||(T.fractional.resolution=T.minimumPrice),T.fractional.formatter||(T.fractional.formatter="'"),T.priceFormatter||(T.priceFormatter=function(t,e,i){var a,r,n;if(T.fractional)return a="",i<0&&(a="-",i=Math.abs(i)),r=Math.floor(Math.round(i/T.fractional.resolution)*T.fractional.resolution),n=Math.round((i-r)/T.fractional.resolution),i=Math.floor(n),a+r+T.fractional.formatter+(i<10?"0":"")+i+(.5<=n-i?"+":"")})):T.originalPriceFormatter&&(T.priceFormatter=T.originalPriceFormatter.func,T.originalPriceFormatter=null)),T.pretty)return this.drawYAxisPretty(t,e);if(!this.runPrepend("drawYAxis",arguments)){if(!e.noDraw&&!T.noDraw){if(!(i=T.yAxisPlotter)||!e.noChange){if(h="stro",h+="ke",i=T.yAxisPlotter=new wt.Plotter,a=t.chart,r=t.name==a.name&&T.name===t.yAxis.name,!T.priceTick)return;h=T.shadow,(n=e.range)&&(h=n[1]-n[0]),s=h/T.priceTick,s=Math.round(s),T.semiLog&&(o=Math.log(this.valueFromPixel(T.bottom,t))/Math.LN10,l=(T.logHigh-T.logLow)/s),h=T.textStyle||"stx_yaxis",i.newSeries("grid","stroke",this.canvasStyle("stx_grid")),i.newSeries("text","fill",this.colorOrStyle(h)),i.newSeries("border","stroke",this.canvasStyle("stx_grid_border")),Tt.w9U(13),c=Tt.l9U(0,"0"),u=n?n[1]:T.high,p=n?n[0]:T.low,d=(null===T.displayBorder?a.panel.yAxis:T).displayBorder,!1===this.axisBorders&&(d=!1),!0===this.axisBorders&&(d=!0),m=(f=a.dynamicYAxis)?T.width:NaN,g="left"==(y=(null===T.position?a.panel.yAxis:T).position)?T.left+T.width:T.left,b=Math.round(g)+.5,v=d?3:0,"left"==y&&(v=d?-3:0),c=r?T.shadow<1?(parseInt(p/T.priceTick,10)+1)*T.priceTick-p:T.priceTick-Math.round(p%T.priceTick*t.chart.roundit)/t.chart.roundit:u%T.priceTick,S=this.getCanvasFontSize("stx_yaxis");for(var M=0;M<s;M++)k="l",k+="eft",k=T.semiLog?(Tt.d9U(14),x=Tt.J9U(o,l,M),Math.pow(10,x)):r?p+M*T.priceTick+c:u-M*T.priceTick-c,x=this.pixelFromTransformedValue(k,t,T),(x=Math.round(x)+.5)+S/2>t.bottom||x-S/2<t.top||Math.abs(x-T.bottom)<1||(T.displayGridLines&&(w="g",w+="r",w+="i",w+="d",i.moveTo("grid",t.left+1,x),i.lineTo("grid",t.right-1,x)),d&&(Tt.w9U(1),i.moveTo("border",Tt.J9U(.5,b),x),Tt.w9U(0),i.lineTo("border",Tt.l9U(b,v),x)),k=T.priceFormatter?T.priceFormatter(this,t,k):this.formatYAxisPrice(k,t,null,T),C=T.textBackground?this.containerColor:null,Tt.d9U(15),w=Tt.J9U(g,3,v),"left"==y?(w=T.left+3,T.justifyRight&&(w=T.left+T.width+v-3)):T.justifyRight&&(w=g+T.width),i.addText("text",k,w,x,C,null,S),f&&(m=Math.max(m,a.context.measureText(k).width)));if(d&&(A=Math.round(T.bottom)+.5,i.moveTo("border",b,T.top),i.lineTo("border",b,A),i.draw(this.chart.context,"border")),f&&m>T.width)throw T._dynamicWidth=m,this.calculateYAxisPositions(),new Error("reboot draw");if(!f&&T._dynamicWidth)throw this.resetDynamicYAxis({chartName:a.name}),new Error("reboot draw")}T==t.yAxis&&this.plotYAxisGrid(t)}this.runAppend("drawYAxis",arguments)}}},wt.ChartEngine.prototype.drawYAxisPretty=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P,_,E,O,L;if(!this.runPrepend("drawYAxis",arguments)&&(i=(e=e||{}).yAxis||t.yAxis,!t.hidden&&!i.noDraw&&i.width)){if(!e.noDraw){if(!(a=i.yAxisPlotter)||!e.noChange){if(a=i.yAxisPlotter=new wt.Plotter,r=t.chart,!i.priceTick)return;if(isNaN(i.high)||isNaN(i.low))return;n=i.shadow,e.range&&(n=e.range[1]-e.range[0]),s=i.height/i.idealTickSizePixels,s=Math.round(s),L=i.textStyle||"stx_yaxis",a.newSeries("grid","stroke",this.canvasStyle("stx_grid")),a.newSeries("text","fill",this.colorOrStyle(L)),a.newSeries("border","stroke",this.canvasStyle("stx_grid_border")),o=(L=e.range)?L[1]:i.high,L=L?L[0]:i.low,l=(null===i.displayBorder?r.panel.yAxis:i).displayBorder,!1===this.axisBorders&&(l=!1),!0===this.axisBorders&&(l=!0),u=(c=r.dynamicYAxis)?i.width:NaN,h="left"==(p=(null===i.position?r.panel.yAxis:i).position)?i.left+i.width:i.left,d=Math.round(h)+.5,g=l?3:0,"left"==p&&(g=l?-3:0),f=this.getCanvasFontSize("stx_yaxis"),y=(m=i.increments).length,x=k=b=0,C=Number.MAX_VALUE;for(var N=0;N<100&&(S=m[b]*Math.pow(10,x),Tt.w9U(8),v=Math.floor(Tt.J9U(n,S)),Tt.d9U(1),!(C<(w=Math.abs(Tt.J9U(v,s)))));N++){if(C=w,v==s){k=S;break}s<v?y<=++b&&(b=0,x++):--b<0&&(Tt.d9U(1),b=Tt.J9U(1,y),x--),k=S}if(A=Math.ceil(L/k)*k,T=0,i.bottom-this.pixelFromTransformedValue(A,t,i)>i.idealTickSizePixels&&i.semiLog&&i.prettySemiLog){for(M=Math.ceil(L);M<A&&A%M!=0;++M);M<A&&(A===k&&(T=k=M),A=M)}D=0,F=Number.MAX_VALUE;for(var I=0;I<100&&(Tt.d9U(14),!(o<(P=Tt.l9U(A,k,D))));I++)k+=T,D++,F-(E=this.pixelFromTransformedValue(P,t,i))<f+1&&0<T?(I=D=0,F=Number.MAX_VALUE,k=T,T*=2,a.reset()):(F=E,(_=Math.round(E)+.5)+f/2>t.bottom||_-f/2<t.top||Math.abs(_-i.bottom)<1||(i.displayGridLines&&(a.moveTo("grid",t.left+1,_),a.lineTo("grid",t.right-1,_)),l&&(O="borde",O+="r",Tt.w9U(1),a.moveTo("border",Tt.J9U(.5,d),_),Tt.w9U(0),a.lineTo("border",Tt.l9U(d,g),_)),P=i.priceFormatter?i.priceFormatter(this,t,P):this.formatYAxisPrice(P,t,null,i),E=i.textBackground?this.containerColor:null,Tt.d9U(15),O=Tt.J9U(h,3,g),"left"==p?(O=i.left+3,i.justifyRight&&(O=i.left+i.width+g-3)):i.justifyRight&&(O=h+i.width),a.addText("text",P,O,_,E,null,f),c&&(u=Math.max(u,r.context.measureText(P).width))));if(100<=I&&console.log("drawYAxisPretty: assertion error. zz reached 100"),l&&(L=Math.round(i.bottom)+.5,a.moveTo("border",d,i.top),a.lineTo("border",d,L),a.draw(this.chart.context,"border")),c&&u>i.width)throw i._dynamicWidth=u,this.calculateYAxisPositions(),new Error("reboot draw");if(!c&&i._dynamicWidth)throw this.resetDynamicYAxis({chartName:r.name}),new Error("reboot draw")}i==t.yAxis&&this.plotYAxisGrid(t)}this.runAppend("drawYAxis",arguments)}},wt.ChartEngine.prototype.drawHistogram=function(t,e){var i,k,x,C,a,r,n,w,s,A,o,l,h,c,T,M,D,F,P,_,E,u,p,d,g,f,m,y;if(e&&e.length&&(i=(i=t.panel)||"chart",k=this.panels[i])){for(y=t.yAxis||k.yAxis,x=t.subtype,C=this.chart.dataSegment,a=!1,this.getDefaultColor(),n=0;n<e.length;n++)a|=e[n].border_color_up&&!wt.isTransparent(e[n].border_color_up),a|=e[n].border_color_down&&!wt.isTransparent(e[n].border_color_down);!1===t.borders&&(a=!1),t.name||(t.name="Data"),w=y.multiplier,t.heightPercentage||(t.heightPercentage=.7),t.widthFactor||(t.widthFactor=.8),s=0,Tt.d9U(9),A=Tt.J9U("0",1342559968),Tt.w08();for(var b=0;b<this.chart.maxTicks;b++)if(o=C[b])for(n=l=0;n<e.length;n++)!(h=o[e[n].field])&&0!==h||(r=e[n].subField||this.chart.defaultPlotField||"Close","object"==typeof h&&h[r]&&(h=h[r]),"stacked"==x?l+=h:l=h,s<l&&(s=l),l<A&&(A=l));if(0===s&&0===A)return void this.watermark(i,"center","bottom",this.translateIf(t.name+" Not Available"));for(c=Math.floor(y.top)+.5,t.bindToYAxis?T=Math.floor(this.pixelFromPrice(A,k,y))+.5:(T=Math.floor(y.bottom)+.5,w=(T-c)*t.heightPercentage/(s-A)),this.startClip(i),M=this.layout.candleWidth<=1||!a?0:.5,D=this.chart.context,Tt.d9U(10),F=Math.max(Tt.l9U("0",0),(1-t.widthFactor)*this.layout.candleWidth/2),P=new Array(C.length),_=[],E=this,u=1,n=0;n<e.length;n++){if(p=e[n],u=this.layout.candleWidth*t.widthFactor,F&&this.layout.candleWidth-u<=2&&(a=!1),d=0,"clustered"==x&&(d=n,u/=e.length),r=t.subField||this.chart.defaultPlotField||"Close","function"==typeof p.color_function){f={};for(var v=0;v<C.length;v++)C[v]&&("string"==typeof(g=p.color_function(C[v]))&&(g={fill_color:g,border_color:g}),(m=g.fill_color+","+g.border_color)in f?f[m].positions.push(v):(g.positions=[v],f[m]=g));for(m in f)g=f[m],S(p.field,r,g.fill_color,g.opacity,null,null,d,u,g.positions),S(p.field,r,g.border_color,g.opacity,!0,null,d,u,g.positions)}else S(p.field,r,p.fill_color_up,p.opacity_up,null,!0,d,u),S(p.field,r,p.fill_color_down,p.opacity_down,null,null,d,u),2<=this.layout.candleWidth&&a&&(S(p.field,r,p.border_color_up,p.opacity_up,!0,!0,d,u),S(p.field,r,p.border_color_down,p.opacity_down,!0,null,d,u));"stacked"==x&&(_=wt.shallowClone(P))}D.globalAlpha=1,this.endClip()}function S(t,e,i,a,r,n,s,o,l){var h,c,u,p,d,g,f,m,y,b;a=a||1,D.globalAlpha=wt.isIE8?.5:a,D.beginPath(),Tt.w9U(0),Tt.Q08(),h=Tt.J9U(T,.5),c=Math.floor(E.pixelFromBar(0,k.chart)-E.layout.candleWidth/2);for(var v=0;v<C.length;v++)p="c",p+="lus",p+="ter",p+="ed",u=_[v]||T,0===v&&(h=u),C[v]&&C[v][t]?("object"==typeof(d=(m=C[v])[t])&&d[e]&&(d=d[e]),Tt.w9U(16),y=Tt.l9U(w,d,A),isNaN(y)||(p=E.layout.candleWidth,m.candleWidth&&(p=m.candleWidth,0===v&&(c=Math.floor(E.pixelFromBar(0,k.chart)-m.candleWidth/2))),d=Math.min(Math.floor(u-y)+.5,u),l&&-1==l.indexOf(v)||!l&&(n&&m.Close<m.iqPrevClose||!n&&m.Close>=m.iqPrevClose)?(h=d,c+=p):(y=p/E.layout.candleWidth,(m=F?(Tt.w9U(17),g=Math.round(Tt.J9U(s,F,o,y,c)),Tt.d9U(0),f=Tt.J9U(g,r?0:M),g+Math.round(o*y)-(r?0:M)):(Tt.w9U(17),g=Tt.J9U(s,F,o,y,c),f=Math.round(g)+(r?0:M),Math.round(g+o*y)-(r?0:M)))-f<2&&(Tt.d9U(0),m=Tt.l9U(f,1)),f%1==(y=r?0:.5)&&(f+=.5),m%1==y&&(m+=.5),D.moveTo(m,u),T!=u&&r&&!F&&_[v+1]&&D.moveTo(m,Math.max(d,Math.min(u,_[v+1]))),D.lineTo(m,d),D.lineTo(f,d),r&&s?(P[v]>d||0===v)&&D.lineTo(f,Math.min(u,P[v])):r&&!F&&"clustered"==x?0<v&&P[v-1]&&P[v-1]>d&&D.lineTo(f,Math.min(u,P[v-1])):r&&!F?(d<h||0===v)&&D.lineTo(f,Math.min(u,h)):D.lineTo(f,u),h=d,c+=p,"clustered"==x&&!r||(P[v]=d)))):(h=u,c+=E.layout.candleWidth);if(r){b=2;for(var S=1;-456664363!==Tt.Y0k(S.toString(),S.toString().length,91636);S++)D.strokeStyle=~i&&""!=i?E.defaultColor:i,b+=2;-1429882702!==Tt.Y0k(b.toString(),b.toString().length,73642)&&(D.strokeStyle=-i||""===i?E.defaultColor:i),D.strokeStyle=i&&"auto"!=i?i:E.defaultColor,D.stroke()}else D.fillStyle=i&&"auto"!=i?i:E.defaultColor,D.fill();D.closePath()}},wt.ChartEngine.prototype.drawBarTypeChartInner=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P,_,E,O,L,N,I,j,B,R,z,H,U,V,W="b";W+="a",W+="r",G="sh",G+="ad",G+="ow",e=t.type,i=t.panel,a=t.field,W=t.fillColor,G=t.borderColor,r=t.condition,Tt.Q08(),n=t.style,s=t.yAxis,o=t.overlayScaling,Tt.d9U(2),h=(l=Tt.l9U(e,"histogram"))||"candle"==e,Tt.d9U(2),c=Tt.l9U(e,"shadow"),Tt.w9U(2),u=Tt.J9U(e,"hlc"),p="bar"==e||u,g=(d=i.chart).dataSegment,f=this.chart.context,m=i.yAxis.top,y=i.yAxis.bottom,b=new Array(g.length),v=0,G&&!wt.isTransparent(G)&&(v=.5),S=d.dataSet.length-d.scroll-1,f.beginPath(),s=s||i.yAxis,k=this.layout.candleWidth,x=i.left-.5*k+this.micropixels-1,C=d.tmpWidth/2,w=f.lineWidth/2,h&&(wt.isTransparent(W)&&(W=this.containerColor),f.fillStyle=W),c&&(f.lineWidth=1),p&&((W=this.canvasStyle(n)).width&&parseInt(W.width,10)<=25?f.lineWidth=Math.max(1,wt.stripPX(W.width)):f.lineWidth=1),A=d.state.chartType.pass;for(var Y=0;Y<=g.length;Y++)if(T=C,Tt.w9U(8),x+=Tt.J9U(k,2),k=this.layout.candleWidth,Tt.w9U(8),x+=Tt.l9U(k,2),M=g[Y],M&&!M.projection&&(M.candleWidth&&(x+=(M.candleWidth-k)/2,k=M.candleWidth,(t.volume||k<d.tmpWidth)&&(Tt.d9U(8),T=Tt.l9U(k,2))),d.transformFunc&&s==d.panel.yAxis&&M.transform&&(M=M.transform),M&&a&&"Close"!=a&&(M=M[a]),(M||0===M)&&(D=M.Close,F=void 0===M.Open?D:M.Open,l&&d.defaultPlotField&&(D=M[d.defaultPlotField]),(D||0===D)&&(!h||l||F!=D&&null!==F)))){if(r){if(r&wt.ChartEngine.CLOSEDOWN?A.even|=D==M.iqPrevClose:r&wt.ChartEngine.CANDLEDOWN&&(Tt.d9U(2),A.even|=Tt.J9U(D,F)),r&wt.ChartEngine.CANDLEUP&&D<=F)continue;if(r&wt.ChartEngine.CANDLEDOWN&&F<=D)continue;if(r&wt.ChartEngine.CANDLEEVEN&&F!=D)continue;if(r&wt.ChartEngine.CLOSEUP&&D<=M.iqPrevClose)continue;if(r&wt.ChartEngine.CLOSEDOWN&&D>=M.iqPrevClose)continue;if(r&wt.ChartEngine.CLOSEEVEN&&D!=M.iqPrevClose)continue}if(Tt.w9U(0),Tt.J9U(S,Y),P=F,_=D,(c||p)&&(P=void 0===M.High?Math.max(D,F):M.High,_=void 0===M.Low?Math.min(D,F):M.Low),R=o?(E=o.bottom-(P-o.min)*o.multiplier,o.bottom-(_-o.min)*o.multiplier):(E=s.semiLog?this.pixelFromTransformedValue(P,i,s):(s.high-P)*s.multiplier+s.top,s.semiLog?this.pixelFromTransformedValue(_,i,s):(s.high-_)*s.multiplier+s.top),N=Math.floor(l?R:Math.min(E,R))+v,I=l?s.bottom:Math.max(E,R),Tt.d9U(1),H=Math.floor(Tt.J9U(N,I)),z=R,(p||c)&&(z=L=o?(O=o.bottom-(F-o.min)*o.multiplier,o.bottom-(D-o.min)*o.multiplier):(O=s.semiLog?this.pixelFromTransformedValue(F,i,s):(s.high-F)*s.multiplier+s.top,s.semiLog?this.pixelFromTransformedValue(D,i,s):(s.high-D)*s.multiplier+s.top)),b[Y]=z,N<m){if(N+H<m)continue;Tt.d9U(1),H-=Tt.l9U(N,m),N=m}y<N+H&&(Tt.w9U(18),H-=Tt.J9U(N,y,H)),H=Math.max(H,2),Tt.d9U(0),I=Tt.l9U(N,H),y<=N||I<=m||(j=Math.floor(x)+.5,z=(B=Math.floor(j-T)+v)==(R=Math.round(j+T)-v)?T:0,h?N!=I&&f.rect(B,N,Math.max(1,R-B),Math.max(1,I-N)):c?(D==F&&L<=y&&m<=L&&(H=Math.floor(L)+.5,Tt.d9U(1),f.moveTo(Tt.J9U(z,B),H),Tt.d9U(0),f.lineTo(Tt.J9U(R,z),H)),P!=_&&(f.moveTo(j,N),f.lineTo(j,I))):p&&(N<y&&m<I&&M.High!=M.Low&&(Tt.w9U(1),f.moveTo(j,Tt.l9U(w,N)),Tt.d9U(0),f.lineTo(j,Tt.l9U(I,w))),m<O&&O<y&&!u&&(U=Math.floor(O)+.5,f.moveTo(j,U),Tt.d9U(19),f.lineTo(Tt.l9U(T,z,j),U)),m<L&&L<y&&(U=Math.floor(L)+.5,f.moveTo(j,U),Tt.w9U(15),f.lineTo(Tt.J9U(j,z,T),U))))}if(h){V=2;for(var X=1;1245633123!==Tt.Y0k(X.toString(),X.toString().length,21571);X++)f.fill(),V+=2;-1177566373!==Tt.Y0k(V.toString(),V.toString().length,2652)&&f.fill(),v&&(f.lineWidth=t.highlight?2:1,f.strokeStyle=G,f.stroke())}else(c||p)&&(this.canvasColor(n),G&&(f.strokeStyle=G),t.highlight&&(f.lineWidth*=2),f.stroke(),f.closePath(),f.lineWidth=1);var G=1;return 1116174131!==Tt.z0k(G.toString(),G.toString().length,46872)||2086826379!==Tt.Y0k(2..toString(),2..toString().length,2789)?{cache:b}:void 0},wt.ChartEngine.prototype.plotDataSegmentAsLine=function(t,c,s,e){var o,l,i,a,h,u,p,r,n,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F,P,_,E,O,L,N,I,j,B,R,z,H,U,V,W,Y,X,G,q,Q,Z,K,J,$,tt,et,it,at,rt,nt,st,ot,lt,ht=!1,ct=!1,ut=!1,pt=!0,dt=null,gt=null,ft=null;if(Tt.w9U(3),o=Tt.J9U(839052640,"0"),i=l=!1,a=null,h={},u=[],p=[],r=[],n=[],d=this,f=(g=c.chart).dataSegment,m=g.context,y=new Array(f.length),b=m.strokeStyle,g.dataSet.length){this.startClip(c.name),s&&(ht=s.skipProjections,s.skipTransform,ct=s.noSlopes,o=s.tension,ut=s.step,gt=s.pattern,pt=s.extendOffChart,ft=s.yAxis,dt=s.gapDisplayStyle,l=s.noDraw,i=s.reverse,a=s.overlayScaling,s.width&&(m.lineWidth=s.width)),dt||!1===dt||(dt=s.gaps),dt=dt||{color:"transparent",fillMountain:!0},s.highlight&&(m.lineWidth*=2),!1!==pt&&(pt=!0),v=s.subField||g.defaultPlotField||"Close",ft=ft||c.yAxis,S=g.transformFunc&&ft==g.panel.yAxis,k=2*m.lineWidth,x=i?g.top-k:g.bottom+k,!s.threshold&&0!==s.threshold||(x=this.pixelFromPrice(s.threshold,c,ft)),C=!o&&l&&dt&&dt.fillMountain,A=w=t;for(var mt=0;mt<f.length;mt++)if(T=f[mt],T&&"object"==typeof T&&(T[t]||0===T[t])){"object"==typeof T[t]&&(A=wt.createObjectChainNames(t,[v])[0]);break}if(M={left:null,right:null},D=g.dataSet.length-g.scroll-1,pt&&(s.isComparison||(M.left=this.getPreviousBar(g,A,0)),M.right=this.getNextBar(g,A,f.length-1)),P=!(F=!0),m.beginPath(),L=null,(O=M.left)&&(L=O.transform),O){Tt.d9U(3),N=Tt.J9U(742395872,"2079295709"),I=2;for(var yt=1;Tt.z0k(yt.toString(),yt.toString().length,501)!==N;yt++)E=S?L?L[t]:1:O[t],I+=2;1796263809!==Tt.z0k(I.toString(),I.toString().length,48540)&&(E=S?L?L[t]:null:O[t]),E&&(!E[v]&&0!==E[v]||(E=E[v]),Z=this.pixelFromTick(O.tick,g),K=a?a.bottom-(E-a.min)*a.multiplier:this.pixelFromTransformedValue(E,c,ft),m.moveTo(Z,K),u.push(Z,K),1<f[0].tick-O.tick&&(r.push({start:u.slice(-2),threshold:x,tick:O}),P=!0),F=!1)}j=c.left+this.micropixels-1,z=this.currentQuote(),W={reset:!(V=!1)};for(var bt,vt=U=H=0;vt<f.length;vt++){if(Q="obj",Q+="e",Q+="ct",_=this.layout.candleWidth,Y=f[vt],X=f[vt],Y=Y||{},ht&&Y.projection){M.right=null;break}if(Y.candleWidth&&(_=Y.candleWidth),S&&Y.transform&&(Y=Y.transform),(Q=Y[t])&&"object"==typeof Q&&(Q=Q[v],Tt.w9U(15),w=Tt.l9U(t,v,".")),g.lineApproximation&&this.layout.candleWidth<1){if(W.reset&&(V=!(W={CollatedHigh:-Number.MAX_VALUE,CollatedLow:Number.MAX_VALUE,CollatedOpen:null,CollatedClose:null})),!(q=Q)&&0!==q||(W.CollatedHigh=Math.max(W.CollatedHigh,q),W.CollatedLow=Math.min(W.CollatedLow,q),W.CollatedClose=q,null===W.CollatedOpen?W.CollatedOpen=q:V=!0),!(1<=(H+=_)-U||vt==f.length-1)){j+=_;continue}U=Math.floor(H),W.reset=!0,W[t]=W.CollatedClose,(Y=W).cache={}}if(ct||(Tt.w9U(8),j+=Tt.J9U(_,2)),Q||0===Q){if(q=(B=Y).cache,Tt.d9U(0),((G=Tt.l9U(D,vt))<c.cacheLeft||G>c.cacheRight||!q[t])&&(q[w]=a?a.bottom-(Q-a.min)*a.multiplier:ft.semiLog?this.pixelFromTransformedValue(Q,c,ft):(ft.high-Q)*ft.multiplier+ft.top),G=y[vt]=q[w],X.tick==z.tick&&g.lastTickOffset&&(j+=g.lastTickOffset),Q=u.slice(-2),!F&&e){if(X[t]&&X[t][v]&&(X=X[t]),!(q=e(this,X,P))){j+=ct?_:_/2;continue}Q=kt(q)}!F&&gt&&gt.length?ut||ct?(V?Ct(j,Q[1],Y,a):m.dashedLineTo(Q[0],Q[1],j,Q[1],gt),ct?m.moveTo(j,G):V?Ct(j,G,Y,a):m.dashedLineTo(j,Q[1],j,G,gt),u.push(j,Q[1])):V?Ct(j,G,Y,a):m.dashedLineTo(Q[0],Q[1],j,G,gt):F?(m.moveTo(j,G),o&&p.push({coord:[j,G],color:m.strokeStyle,pattern:gt||[],width:m.lineWidth})):((ut||ct)&&(Q=u.slice(-1)[0],V?Ct(j,Q,Y,a):m.lineTo(j,Q),u.push(j,Q)),V&&!ct?Ct(j,G,Y,a):m[ct?"moveTo":"lineTo"](j,G)),P&&(r.push({end:[j,G],threshold:x}),R=X,!C||ut||ct||u.push(j,x)),u.push(j,G),P=F=!1,j+=ct?_:_/2}else G=u.slice(-2),C&&!P&&u.length&&u.push(G[0],x),P||r.push({start:G,threshold:x,tick:R}),P=!0,j+=ct?_:_/2,(ut||ct)&&u.length&&(y[vt]=u.slice(-1)[0])}for(bt in pt=null,(Z=M.right)&&(pt=Z.transform),!F&&Z&&((E=S?pt?pt[t]:null:Z[t])&&(E[v]||0===E[v])&&(E=E[v]),K=this.pixelFromTick(Z.tick,g),tt=a?a.bottom-(E-a.min)*a.multiplier:this.pixelFromTransformedValue(E,c,ft),1<Z.tick-f[f.length-1].tick&&(P||(pt=u.slice(-2),C&&u.length&&u.push(pt[0],x),r.push({start:pt,threshold:x,tick:f[f.length-1]})),P=!0),!F&&e&&(J=e(this,Z,P))&&($=kt(J),gt&&gt.length&&(ut||ct?(m.dashedLineTo($[0],$[1],K,$[1],gt),ct?m.moveTo(K,tt):m.dashedLineTo(K,$[1],K,tt,gt),u.push(K,$[1])):m.dashedLineTo($[0],$[1],K,tt,gt))),J=u.slice(-2),gt&&gt.length||((ut||ct)&&(m.lineTo(K,J[1]),u.push(K,J[1])),m[ct?"moveTo":"lineTo"](K,tt)),P&&(r.push({end:[K,tt],threshold:x}),!C||ut||ct||u.push(K,x)),u.push(K,tt)),h)n.push(bt);if((ut||ct||this.extendLastTick||s.extendToEndOfDataSet)&&(at=u.slice(-2),u.length&&(it=at[0],rt=at[1],ut||s.extendToEndOfDataSet?(it=this.pixelFromTick(g.dataSet.length-1,g),(ct||this.extendLastTick)&&(Tt.d9U(8),it+=Tt.l9U(_,2))):ct?it+=_:this.extendLastTick&&(Tt.d9U(8),it+=Tt.l9U(_,2)),it>at[0]&&(tt=null,e&&(tt=e(this,{},!0)),tt&&kt(tt),gt&&gt.length?m.dashedLineTo(at[0],at[1],it,rt,gt):m.lineTo(it,rt),P&&C||u.push(it,rt)))),!l){o&&u.length&&(m.beginPath(),m.setLineDash(s.pattern||[]),m.lineDashOffset=0,At.plotSpline(u,o,m,p)),et=2;for(var St=1;999688414!==Tt.z0k(St.toString(),St.toString().length,54721);St++)m.stroke(),et+=2;-1137249803!==Tt.z0k(et.toString(),et.toString().length,51550)&&m.stroke(),m.stroke()}this.endClip(),!l&&s.label&&B&&((at=B[t])&&"object"==typeof at&&(at=at[v]),it=ft.priceFormatter?ft.priceFormatter(this,c,at,s.labelDecimalPlaces):this.formatYAxisPrice(at,c,s.labelDecimalPlaces),rt=this.yaxisLabelStyle,ft.yaxisLabelStyle&&(rt=ft.yaxisLabelStyle),at="noop"==rt?m.strokeStyle:null,rt="noop"==rt?"#FFFFFF":m.strokeStyle,this.yAxisLabels.push({src:"plot",args:[c,it,B.cache[w],rt,at]}))}function kt(t){var e,i,a,r,n;if(Tt.Q08(),a=gt,"object"==typeof(e=t)&&(gt=wt.borderPatternToArray(m.lineWidth,e.pattern),e=e.color),h[e]=1,!l)return i=u.slice(-2),r=gt instanceof Array&&gt.join(),n=a instanceof Array&&a.join(),Tt.w9U(20),a=Tt.J9U(n,r),n=!wt.colorsEqual(b,e),r=t.width*(s.highlight?2:1),t=m.lineWidth!=r,(n||a||t)&&(o?p.push({coord:i,color:e,pattern:gt||[],width:r}):(n||t)&&(m.stroke(),m.lineWidth=r,m.beginPath(),m.moveTo(i[0],i[1]))),b=e,m.strokeStyle=e&&"auto"!=e?e:d.defaultColor,i}if(Tt.w08(),dt)for(var xt=0;xt<r.length;xt+=2)nt=r[xt].start,xt&&(st=r[xt-1].end),st&&nt[0]==st[0]&&nt[1]==st[1]&&(m.beginPath(),ot=m.lineWidth,e&&(lt="objec",lt+="t","object"==typeof(lt=e(this,r[xt].tick||{},!1))&&(ot=lt.width*(s.highlight?2:1),lt=lt.color),m.strokeStyle=m.fillStyle=lt),m.lineWidth=ot,m.arc(nt[0],nt[1],1,0,2*Math.PI),m.stroke(),m.fill());function Ct(t,e,i,a){for(var r,n,s,o=a?(r=(s=a.bottom+a.min*a.multiplier)-i.CollatedOpen*a.multiplier,n=s-i.collatedHigh*a.multiplier,s-i.collatedLow*a.multiplier):(r=ft.semiLog?d.pixelFromTransformedValue(i.CollatedOpen,c,ft):(ft.high-i.CollatedOpen)*ft.multiplier+ft.top,n=ft.semiLog?d.pixelFromTransformedValue(i.CollatedHigh,c,ft):(ft.high-i.CollatedHigh)*ft.multiplier+ft.top,ft.semiLog?d.pixelFromTransformedValue(i.CollatedLow,c,ft):(ft.high-i.CollatedLow)*ft.multiplier+ft.top),l=2,h=1;1282165440!==Tt.z0k(h.toString(),h.toString().length,57254);h++)m.lineTo(t,r),m.moveTo(t,n),m.lineTo(t,o),m.moveTo(t,e),l+=2;-1151668239!==Tt.Y0k(l.toString(),l.toString().length,23857)&&(m.lineTo(t,r),m.moveTo(t,n),m.lineTo(t,o),m.moveTo(t,e)),m.lineTo(t,r),Tt.Q08(),m.moveTo(t,n),m.lineTo(t,o),m.moveTo(t,e),u.push(t,r)}return{colors:n,points:u,cache:y,gapAreas:r}},wt.ChartEngine.prototype.drawMountainChart=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C,w,A,T,M,D,F;if(b="C",b+="l",Tt.w08(),b+="os",b+="e",a=this.chart.context,s=null,x=null,h=null,D=null,T=null,k=t.chart,k.dataSegment,v=k.lineStyle||{},e&&"object"==typeof e||(e={style:e}),y=e.style||"stx_mountain_chart",n=e.field||k.defaultPlotField||"Close",s=e.subField||k.defaultPlotField||"Close",h=e.gapDisplayStyle,h||!1===h||(h=e.gaps),h||!1===h||(h=k.gaplines),h=h||"transparent",o=e.yAxis||t.yAxis,r=e.reverse,x=e.tension,u=e.fillStyle,l=e.width||v.width,c=e.step,D=e.pattern||v.pattern,p=e.highlight,T=e.color,d=e.baseColor,M=e.colored,g=e.overlayScaling,f=e.extendToEndOfDataSet,S=e.isComparison,m=e.returnObject,F=this.canvasStyle(y),b=o.top,(isNaN(b)||isNaN(b/b))&&(b=0),v=T||(y&&F.backgroundColor?F.backgroundColor:this.defaultColor),y=d||(y&&F.color?F.color:this.containerColor),u?a.fillStyle=u:d||F.color?((b=a.createLinearGradient(0,b,0,o.bottom)).addColorStop(0,v),b.addColorStop(1,y),a.fillStyle=b):a.fillStyle=v,this.startClip(t.name),v=a.lineWidth,e.symbol||(s=null),e={skipProjections:!0,reverse:r,yAxis:o,gaps:h,step:c,highlight:p,extendToEndOfDataSet:f,isComparison:S},k.tension&&(e.tension=k.tension),!x&&0!==x||(e.tension=x),S=parseInt(F.paddingTop,10),k=T||F.borderTopColor,x=null,(M||k&&!wt.isTransparent(k))&&S&&!wt.isIE8){Tt.d9U(10),C=Tt.J9U("855798583",50331952),w=2;for(var P=1;Tt.Y0k(P.toString(),P.toString().length,23244)!==C;P++)A=this.scratchContext,w+=2;1561240859!==Tt.z0k(w.toString(),w.toString().length,30339)&&(A=this.scratchContext),A||(T=a.canvas.cloneNode(!0),(A=this.scratchContext=T.getContext("2d")).canvas=T),A.canvas.height=a.canvas.height,A.canvas.width=a.canvas.width,A.drawImage(a.canvas,0,0),a.clearRect(0,0,a.canvas.width,a.canvas.height)}return wt.extend(e,{panelName:t.name,direction:e.reverse?-1:1,band:n,subField:s,opacity:1,overlayScaling:g}),wt.preparePeakValleyFill(this,e),(M||k&&!wt.isTransparent(k))&&S&&!wt.isIE8&&(a.save(),Tt.w9U(5),a.lineWidth+=Tt.J9U(2,S),a.globalCompositeOperation="destination-out",a.globalAlpha=1,this.plotDataSegmentAsLine(n,t,e),a.globalCompositeOperation="destination-over",a.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio),a.drawImage(this.scratchContext.canvas,0,0),a.restore()),a.strokeStyle=k,l?a.lineWidth=l:F.width&&parseInt(F.width,10)<=25?(Tt.d9U(13),a.lineWidth=Math.max(Tt.l9U(0,"1"),wt.stripPX(F.width))):(Tt.d9U(1),a.lineWidth=Tt.l9U(0,"1")),D=D||F.borderTopStyle,e.pattern=wt.borderPatternToArray(a.lineWidth,D),D=i,h&&(D=this.getGapColorFunction(n,s,{color:k,pattern:e.pattern,width:a.lineWidth},h,i)),x=this.plotDataSegmentAsLine(n,t,e,D),a.lineWidth=v,this.endClip(),x.colors.length||x.colors.push(k),m?x:x.colors},wt.ChartEngine.prototype.drawBaselineChart=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m=t.chart,y=m.gaplines,b=m.baseline.actualLevel,v=[],S=e.field||m.defaultPlotField,k=m.lineStyle||{};if(t.name!=m.panel.name&&(b=null,h=e.subField||m.defaultPlotField||"Close",(b=m.dataSegment[0]?m.dataSegment[0][e.field]:this.getNextBar(m,h,0))&&"object"==typeof b&&(b=b[h])),(i=e.gapDisplayStyle)||!1===i||(i=e.gaps),null!==b&&!isNaN(b)){for(var x in(a="mountain"==e.type)&&(v=this.drawMountainChart(t,{style:e.style,field:e.field,yAxis:e.yAxis,gapDisplayStyle:i,overlayScaling:e.overlayScaling,colored:!0,tension:0})),this.startClip(t.name),r=this.pixelFromPrice(b,t),n=e.pattern||k.pattern,s=e.fill_color_up||this.getCanvasColor("stx_baseline_up"),o=e.fill_color_down||this.getCanvasColor("stx_baseline_down"),l=e.border_color_up||this.getCanvasColor("stx_baseline_up"),h=e.border_color_down||this.getCanvasColor("stx_baseline_down"),u=!(c={over:{fill:s,edge:l,width:e.width||k.width||this.canvasStyle("stx_baseline_up").width},under:{fill:o,edge:h,width:e.width||k.width||this.canvasStyle("stx_baseline_down").width}}),i||!1===i||(i=y),c)g=parseInt(Math.max(1,wt.stripPX(c[x].width)),10),e.highlight&&(g*=2),n=wt.borderPatternToArray(g,n),(p={panelName:t.name,band:S,threshold:b,color:a?"transparent":c[x].fill,direction:"over"==x?1:-1,edgeHighlight:c[x].edge,edgeParameters:{pattern:n,lineWidth:g+.1,opacity:1},gapDisplayStyle:i,yAxis:e.yAxis,overlayScaling:e.overlayScaling}).yAxis&&(p.threshold=this.priceFromPixel(this.pixelFromPrice(p.threshold,t),t,p.yAxis)),v.push(c[x].edge),d=p.color,!a&&d&&"transparent"!=d&&(g=t.top,f=t.bottom,f=m.context.createLinearGradient(0,"over"==x?g:f,0,r),Tt.d9U(1),f.addColorStop(Tt.J9U(0,"0"),wt.hexToRgba(wt.colorToHex(d),60)),f.addColorStop(1,wt.hexToRgba(wt.colorToHex(d),10)),p.color=f,p.opacity=1),wt.preparePeakValleyFill(this,m.dataSegment,p),y&&(y.fillMountain||(f="soli",f+="d",this.drawLineChart(t,null,null,{color:"transparent",gapDisplayStyle:{color:this.containerColor,pattern:"solid",width:p.edgeParameters.lineWidth}})),y.color||(u=!0,y.color=this.defaultColor)),this.drawLineChart(t,null,null,{color:"transparent",width:p.edgeParameters.lineWidth}),u&&(y.color=null);this.plotLine(0,1,r,r,this.containerColor,"line",m.context,t,{lineWidth:"1.1",color:"transparent"}),Tt.d9U(9),this.plotLine(Tt.l9U("0",1849697920),1,r,r,this.getCanvasColor("stx_baseline"),"line",m.context,t,{pattern:"dotted",lineWidth:"2.1",opacity:.5}),this.controls.baselineHandle&&this.manageTouchAndMouse&&this.getSeriesRenderer(e.name)==this.mainSeriesRenderer&&!1!==m.baseline.userLevel&&(C="p",C+="x",this.controls.baselineHandle.style.top=r-parseInt(getComputedStyle(this.controls.baselineHandle).height,10)/2+"px",this.controls.baselineHandle.style.left=m.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10)+"px",this.controls.baselineHandle.style.display="block"),this.endClip()}Tt.d9U(10),k=Tt.l9U("1034003531",136414280);var C=1;return Tt.Y0k(C.toString(),C.toString().length,1811)!==k||-553350518!==Tt.Y0k(2..toString(),2..toString().length,44344)?{colors:v}:void 0},wt[Tt.C4z("3974")?"ChartEngine":""][Tt.G4z("93fd")?"":"prototype"][Tt.u4z("8dfd")?"mousemoveinner":""]=function(t,e){Tt.c4z=function(t){if(Tt)return Tt.n4z(t)},Tt.z4z=function(t){if(Tt)return Tt.o4z(t)},Tt.A4z=function(t){if(Tt.Q08(),Tt&&t)return Tt.o4z(t)},Tt.y4z=function(t){if(Tt)return Tt.o4z(t)},Tt.w4z=function(t){if(Tt)return Tt.n4z(t)};var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=-(Tt.w4z("ace5")?1773042002:1235258392),b=-(Tt.y4z("f949")?1191122817:4790382874),v=Tt.A4z("c95a")?2418107297:1042525193,S=Tt.z4z("fa82")?257458045:712243269,k=-(Tt.E4z("4669")?1508539041:7257341369),x=Tt.c4z("59d1")?265414205:549803904,C=-(Tt.U4z("5b15")?382299975:579539790);if(Tt.y3I(Tt.K4z("1b7b")?8:0,!1,617853)===y||Tt.h3I(0,!Tt.M4z("2df3"),393179)===b||Tt.y3I(9,!1,430868)===v||Tt.h3I(0,!1,434089)===S||Tt.h3I(Tt.O4z("f588")?27:12,!1,273291)===k||Tt.h3I(Tt.Q4z("7492")?6:0,!1,197065)===x||-774574386===Tt.y3I(11,!!Tt.S4z("ec4e"),204543)||-1678498034===Tt.h3I(0,!1,659661)||438621820===Tt.v3I(0,!1,769933,7)||-1069351899===Tt.v3I(0,!1,740893,11)||1452177893===Tt.m3I(0,!1,328157,11)||Tt.v3I(0,!1,748876,11)===C){if(this.chart.canvas)if(wt.isAndroid||wt.isIOS7or8||this.chart.canvas.height==Math.floor(this.devicePixelRatio*this.chart.container.clientHeight)&&this.chart.canvas.width==Math.floor(this.devicePixelRatio*this.chart.container.clientWidth)){if(!this.runPrepend("mousemoveinner",arguments)&&(a=arguments,x=this.container.getBoundingClientRect(),this.top=x.top,this.left=x.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cancelLongHold=!0,this.hasDragged=!0,wt.ChartEngine.crosshairX=t,wt.ChartEngine.crosshairY=e,C=this.cy=this.crossYActualPos=this.backOutY(wt.ChartEngine.crosshairY),x=this.cx=this.backOutX(wt.ChartEngine.crosshairX),this.currentPanel=this.whichPanel(C),this.currentPanel||(this.currentPanel=this.chart.panel),this.currentPanel&&(r=this.currentPanel.chart,r.dataSet&&(this.crosshairTick=this.tickFromPixel(x,r),i=this.valueFromPixel(C,this.currentPanel),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,i),(f=("chart"==this.currentPanel.name?this.preferences:this.currentPanel).horizontalCrosshairField)&&this.crosshairTick<r.dataSet.length&&-1<this.crosshairTick&&(i=r.dataSet[this.crosshairTick][f],this.crossYActualPos=this.pixelFromPrice(i,this.currentPanel))),wt.ChartEngine.crosshairX>=this.left&&wt.ChartEngine.crosshairX<=this.right&&wt.ChartEngine.crosshairY>=this.top&&wt.ChartEngine.crosshairY<=this.bottom?wt.ChartEngine.insideChart=!0:wt.ChartEngine.insideChart=!1,f=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=wt.ChartEngine.insideChart&&wt.ChartEngine.crosshairY<=f+this.top&&wt.ChartEngine.crosshairY>f-this.xaxisHeight+this.top,this.overYAxis=(this.cx>=this.currentPanel.right||this.cx<=this.currentPanel.left)&&wt.ChartEngine.insideChart,!this.overXAxis&&!this.overYAxis&&(wt.ChartEngine.insideChart||this.grabbingScreen)||(this.undisplayCrosshairs(),this.overXAxis||this.overYAxis))))if(this.displayCrosshairs||wt.ChartEngine.resizingPanel){if(this.repositioningBaseline){if(m=this.panels[this.chart.panel.name],this.chart.baseline.userLevel=this.adjustIfNecessary(m,this.crosshairTick,this.valueFromPixel(this.backOutY(wt.ChartEngine.crosshairY),m)),100<Date.now()-this.repositioningBaseline.lastDraw){n=2;for(var w=1;-2133067623!==Tt.z0k(w.toString(),w.toString().length,29419);w++)this.draw(),n+=2;-245960811!==Tt.z0k(n.toString(),n.toString().length,10540)&&this.draw(),this.repositioningBaseline.lastDraw=Date.now()}return M(this)}if(!this.grabbingScreen||wt.ChartEngine.resizingPanel)return this.grabMode="",this.overXAxis||this.overYAxis?this.updateChartAccessories():(this.controls.crossX&&(this.controls.crossX.style.left=this.pixelFromTick(this.crosshairTick,r)-.5+"px"),this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+"px"),this.setCrosshairColors(),wt.ChartEngine.insideChart&&!wt.ChartEngine.resizingPanel?(f=this.currentVectorParameters.vectorType,wt.Drawing&&f&&wt.Drawing[f]&&(new wt.Drawing[f]).dragToDraw||this.doDisplayCrosshairs(),this.updateChartAccessories()):this.undisplayCrosshairs(),this.repositioningDrawing?this.repositionDrawing(this.repositioningDrawing):wt.ChartEngine.drawingLine?this.activeDrawing&&(m=this.panels[this.activeDrawing.panelName],i=this.adjustIfNecessary(m,this.crosshairTick,this.valueFromPixel(this.backOutY(wt.ChartEngine.crosshairY),m)),this.preferences.magnet&&this.magnetizedPrice&&m.name==m.chart.name&&(i=this.adjustIfNecessary(m,this.crosshairTick,this.magnetizedPrice)),wt.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.move(this.chart.tempCanvas.context,this.crosshairTick,i),this.activeDrawing.measure&&this.activeDrawing.measure()):wt.ChartEngine.resizingPanel&&this.resizePanels(),wt.ChartEngine.insideChart&&(this.dispatch("move",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:this.grabbingScreen}),this.findHighlights()),this.preferences.magnet&&this.currentVectorParameters.vectorType&&(wt.ChartEngine.drawingLine||this.anyHighlighted||wt.clearCanvas(this.chart.tempCanvas),this.magnetize())),M(this);if(this.anyHighlighted){for(s in wt.clearCanvas(this.chart.tempCanvas,this),this.anyHighlighted=!1,this.overlays)this.overlays[s].highlight=!1;for(s in r.series)r.series[s].highlight=!1;this.displaySticky()}if(this.preferences.magnet&&this.currentVectorParameters.vectorType&&wt.clearCanvas(this.chart.tempCanvas,this),-1==this.grabStartX&&(this.grabStartX=wt.ChartEngine.crosshairX,this.grabStartScrollX=r.scroll),-1==this.grabStartY&&(this.grabStartY=wt.ChartEngine.crosshairY,this.grabStartScrollY=this.currentPanel.yAxis.scroll),o=wt.ChartEngine.crosshairX-this.grabStartX,l=wt.ChartEngine.crosshairY-this.grabStartY,0!==o||0!==l){if(5<Math.abs(o)+Math.abs(l)&&(this.grabOverrideClick=!0),h=this.layout.candleWidth,this.allowZoom&&"pan"!=this.grabMode&&(0===this.grabMode.indexOf("zoom")||this.overXAxis||this.grabStartYAxis)){if(""===this.grabMode&&(this.overXAxis?this.grabMode="zoom-x":this.grabStartYAxis&&(this.grabMode="zoom-y")),"zoom-x"==this.grabMode?l=0:"zoom-y"==this.grabMode&&(o=0),o&&(this.grabStartX=wt.ChartEngine.crosshairX,c=h-o/this.chart.maxTicks,this.zoomSet(c,this.chart)),this.layout.setSpan&&(this.layout.setSpan=null,this.changeOccurred("layout")),u=this.grabStartYAxis){p=2;for(var A=1;-892647041!==Tt.Y0k(A.toString(),A.toString().length,4054);A++)u.zoom=Math.round(this.grabStartZoom*l),p+=2;76448286!==Tt.Y0k(p.toString(),p.toString().length,99457)&&(u.zoom=Math.round(this.grabStartZoom+l)),this.grabStartZoom<u.height?u.zoom>=u.height&&(u.zoom=u.height-1):u.zoom<=u.height&&(u.zoom=u.height+1)}}else{if(this.allowScroll){if(Math.abs(l)<this.yTolerance){if(!this.yToleranceBroken){l=0,d=2;for(var T=1;-1697863047!==Tt.Y0k(T.toString(),T.toString().length,4932);T++){if(1==o)return;d+=2}if(1045789264!==Tt.z0k(d.toString(),d.toString().length,53633)&&2===o)return;if(0===o)return}}else this.yToleranceBroken=!0;for(this.grabStartMicropixels||(this.grabStartMicropixels=0),this.grabMode="pan",r.scroll=this.grabStartScrollX,this.micropixels=this.grabStartMicropixels+o*(this.shift?5:1);0<this.micropixels;)this.micropixels-=h,r.scroll++;for(;this.micropixels<-h;)this.micropixels+=h,r.scroll--;r.scroll>=r.maxTicks?this.preferences.whitespace=this.initialWhitespace:this.preferences.whitespace=(r.maxTicks-r.scroll)*h,this.currentPanel==this.grabStartPanel&&(this.currentPanel.yAxis.scroll=this.grabStartScrollY+l)}this.dispatch("move",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:this.grabbingScreen})}return g=function(t){Tt.Q08();if(-169338227===Tt.h3I(0,!1,380091)||1334417025===Tt.h3I(0,!1,182377)||1512892661===Tt.y3I(9,!1,907210)||-103796962===Tt.h3I(0,!1,956869)||-999805913===Tt.h3I(12,!1,884984)||1953869277===Tt.y3I(0,!1,838494)||-237844173===Tt.h3I(11,!1,160607)||-840336342===Tt.h3I(0,!1,767465)||1717789933===Tt.m3I(0,!1,178674,7)||-1666046458===Tt.v3I(0,!1,546317,11)||-810755474===Tt.m3I(0,!1,717339,11)||-673256550===Tt.m3I(0,!1,211650,11))return function(){1739105838!==Tt.y3I(0,!1,914116)&&93052419!==Tt.y3I(0,!1,337470)&&-704178195!==Tt.h3I(9,!1,325208)&&1828200342!==Tt.y3I(0,!1,228260)&&1853090474!==Tt.y3I(12,!1,932983)&&-235963573!==Tt.y3I(0,!1,727399)&&-668503591!==Tt.y3I(11,!1,732353)&&-231846316!==Tt.h3I(0,!1,642098)&&1785411177!==Tt.m3I(0,!1,514318,7)&&-213082413!==Tt.v3I(0,!1,989961,11)&&1891483419!==Tt.v3I(0,!1,695542,11)&&-1181315399!==Tt.v3I(0,!1,205950,11)||(t.draw(),t.updateChartAccessories())}},wt.ChartEngine.useAnimation?window.requestAnimationFrame(g(this)):(this.draw(),this.updateChartAccessories()),this.activeDrawing&&(wt.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.render(this.chart.tempCanvas.context),this.activeDrawing.measure()),void this.undisplayCrosshairs()}}else this.undisplayCrosshairs()}else this.resizeChart();function M(t){1455975552!==Tt.y3I(0,!1,491512)&&138591455!==Tt.y3I(0,!1,634995)&&1899800356!==Tt.h3I(9,!1,460237)&&178540949!==Tt.h3I(0,!1,924588)&&533879722!==Tt.y3I(12,!1,615128)&&1862490546!==Tt.h3I(0,!1,481489)&&-1915242067!==Tt.y3I(11,!1,595289)&&719732642!==Tt.y3I(0,!1,621039)&&1790739556!==Tt.m3I(0,!1,516763,7)&&-930550396!==Tt.m3I(0,!1,877600,11)&&-1849056899!==Tt.v3I(0,!1,166869,11)&&-2045846500!==Tt.v3I(0,!1,900718,11)||t.runAppend("mousemoveinner",a)}}},wt.ChartEngine.prototype.plotLine=function(t,e,i,a,r,n,s,o,l){var h,c,u,p,d,g,f,m,y,b,v,S,k,x;if(l=l||{},"none"!=l.pattern&&(!0===o&&(o=this.chart.panel),null==s&&(s=this.chart.context),!(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(a)))){h=0,c=this.chart.canvasHeight,Tt.d9U(9),u=Tt.J9U("0",1856755296),p=this.right,o&&(c=o.yAxis.bottom,h=o.yAxis.top,u=o.left,p=o.right),"ray"==n&&(x={x0:t,x1:e,y0:i,y1:a},e=S=e<t?-1e7:1e7,a=k=wt.yIntersection(x,S)),"line"!=n&&"horizontal"!=n&&"vertical"!=n||(S=1e7,x={x0:t,x1:e,y0:i,y1:a},k=wt.yIntersection(x,S),t=-1e7,e=S,i=wt.yIntersection(x,-1e7),a=k),d=0,g=1,Tt.d9U(1),f=Tt.l9U(t,e),Tt.w9U(1),m=Tt.J9U(i,a);for(var C=0;C<4;C++){if(0===C&&(y=-f,Tt.w9U(1),b=-Tt.l9U(t,u)),1==C&&(y=f,Tt.w9U(1),b=Tt.J9U(t,p)),2==C&&(y=-m,Tt.w9U(1),b=-Tt.J9U(i,h)),3==C&&(y=m,Tt.w9U(1),b=Tt.l9U(i,c)),Tt.d9U(8),v=Tt.J9U(b,y),(a||0===a)&&0===y&&b<0)return!1;if(y<0){if(g<v)return!1;d<v&&(d=v)}else if(0<y){if(v<d)return!1;v<g&&(g=v)}}if(Tt.w9U(14),o=Tt.J9U(t,f,d),Tt.d9U(14),S=Tt.J9U(i,m,d),Tt.w9U(14),k=Tt.l9U(t,f,g),Tt.d9U(14),e=Tt.J9U(i,m,g),Tt.w08(),a||0===a||i||0===i){if(!a&&0!==a){if(e=x.y0<x.y1?c:h,o=x.x0,k=x.x0,x.x0>p)return!1;if(x.x0<u)return!1}}else{if(S=h,e=c,o=x.x0,k=x.x0,x.x0>p)return!1;if(x.x0<u)return!1}s.lineWidth=1.1,r&&"object"==typeof r?(s.strokeStyle=r.color,r.opacity?s.globalAlpha=r.opacity:s.globalAlpha=1,s.lineWidth=parseInt(wt.stripPX(r.width),10)):(x="a",x+="u",x+="to",!r||"auto"==r||wt.isTransparent(r)?s.strokeStyle=this.defaultColor:s.strokeStyle=r),l.opacity&&(s.globalAlpha=l.opacity),l.lineWidth&&(s.lineWidth=l.lineWidth),"zig zag"==n&&(s.lineWidth=5),n=wt.borderPatternToArray(s.lineWidth,l.pattern),s.save(),l.pattern&&s.setLineDash(n),s.stxLine(o,S,k,e,s.strokeStyle,s.globalAlpha,s.lineWidth,n),s.restore(),s.globalAlpha=1,s.lineWidth=1}},wt.ChartEngine.prototype.rendererAction=function(t,e){var i,a,r;if(Tt.w08(),!this.runPrepend("rendererAction",arguments)){for(var n in t.seriesRenderers)r=(a=(i=t.seriesRenderers[n]).params).panel,r=this.panels[r],a.overChart&&"underlay"==e||"_main_series"==a.name&&"underlay"==e||"_main_series"!=a.name&&"main"==e||(a.overChart||"overlay"!=e)&&r&&r.chart===t&&(r.hidden||("yAxis"==e?i.adjustYAxis():(i.draw(),i.cb&&i.cb(i.colors))));this.runAppend("rendererAction",arguments)}},wt.ChartEngine.prototype.drawSeries=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y;if(Tt.Q08(),!this.runPrepend("drawSeries",arguments)){for(var b in r=t.dataSegment,n=null,e=e||t.series)o=(s=(n=e[b]).parameters).panel?this.panels[s.panel]:t.panel,l=s.color,s.width,f=s.field,o&&(y=s.yAxis=i||o.yAxis,l=l||(y.textStyle||this.defaultColor),f=f||t.defaultPlotField,m=s.subField||t.defaultPlotField||"Close",this.mainSeriesRenderer==a||s.shareYAxis||y.name!==o.yAxis.name||(p=[s.minimum,s.maximum],(!s.minimum&&0!==s.minimum||!s.maximum&&0!==s.maximum)&&(a&&!a.standaloneBars&&(r.unshift(this.getPreviousBar(t,m,0)),r.push(this.getNextBar(t,m,r.length-1))),u=wt.minMax(r,f,m,a?a.highLowBars:null),a&&!a.standaloneBars&&(r.shift(),r.pop()),s.minimum||0===s.minimum||(p[0]=u[0]),s.maximum||0===s.maximum||(p[1]=u[1])),Tt.w9U(5),d=p[Tt.J9U("0",1)],g=y.top,h=y.bottom,Tt.d9U(1),c=Tt.J9U(g,h),(u=s.marginTop)&&(g=1<u?g+u:g+c*u),(u=s.marginBottom)&&(h=1<u?h-u:h-c*u),s.overlayScaling={bottom:h,min:d,multiplier:(h-g)/(p[1]-d)}),s._rawExtendToEndOfDataSet||!1===s._rawExtendToEndOfDataSet||(s._rawExtendToEndOfDataSet=s.extendToEndOfDataSet),t.animatingHorizontalScroll?s.extendToEndOfDataSet=!1:(s.extendToEndOfDataSet=s._rawExtendToEndOfDataSet,s.extendToEndOfDataSet||!1===s.extendToEndOfDataSet||(s.extendToEndOfDataSet=!1)),g=s.colorFunction,(n.highlight||n.parameters.highlight)&&(s.highlight=!0),p={colors:[]},p=a?a.drawIndividualSeries(t,s)||p:"mountain"==s.type?this.drawMountainChart(o,wt.extend({returnObject:!0},s),g):this.drawLineChart(o,s.style,g,wt.extend({returnObject:!0},s)),n.yValueCache=p.cache,(d=t.dataSegment[t.dataSegment.length-1])&&(g=!s.skipTransform&&t.transformFunc&&y==t.panel.yAxis,d[f]||0===d[f]||(d=this.getPreviousBar(t,f,t.dataSegment.length-1)),g&&d&&d.transform&&(d=d.transform)),this.mainSeriesRenderer==a||!s.shareYAxis&&y.name==o.yAxis.name||!d||y.noDraw||(f=(f=d[f])&&(f[m]||0===f[m]?f[m]:f.iqPrevClose),m=y.priceFormatter?y.priceFormatter(this,o,f):this.formatYAxisPrice(f,o,null,y),this.yAxisLabels.push({src:"series",args:[o,m,this.pixelFromTransformedValue(f,o,y),l,null,null,y]})),t.legend&&s.useChartLegend&&(t.legend.colorMap||(t.legend.colorMap={}),y=(y=s.display)||s.symbol,t.legend.colorMap[b]={color:p.colors,display:y,isBase:a==this.mainSeriesRenderer}));this.runAppend("drawSeries",arguments)}},wt.ChartEngine.prototype.consolidatedQuote=function(t,e){var s,i,o,a,r,n,l,h,c,u,p,d,g,f,m;if(Tt.w08(),l="consolidated",l+="Qu",l+="ote",this.runPrepend("consolidatedQuote",arguments))return t;if(!t||!t.length)return[];for(s=this.layout,i=this.chart,o=this,a=s.periodicity,r=s.interval,c=s.timeUnit,(e=e||{}).periodicity&&e.interval&&(a=e.periodicity,r=e.interval,c=e.timeUnit),n=1,!wt.ChartEngine.isDailyInterval(r)&&i.useInflectionPointForIntraday&&(n=a),(!(l=i.inflectionPoint)||l<t[0].DT)&&(l=t[0].DT),h=[],c={begin:l,interval:r,multiple:a/n,timeUnit:c},u=i.market.newIterator(wt.clone(c));u.previous(n)>t[0].DT;);for(p=u.previous(n),d=u.next(n),g=0,Tt.d9U(4),f=Tt.l9U("0",2147483647);g<t.length;)(m=t[g]).DT<p?(console.log("Warning: out-of-order quote in dataSet, disregarding: "+m.DT),g++):m.DT>=d?(p=d,d=u.next(n),h[f]&&f++):((m=function t(e,i,a){var r,n="Ad";for(r in n+="j_C",n+="lose",n="H",n+="i",n+="g",n+="h",(i=i||{DT:a,Date:wt.yyyymmddhhmmssmmm(a)}).displayDate||o.setDisplayDate(i),n=1,s.adj&&e.Adj_Close&&(n=e.Adj_Close/e.Close),"High"in e&&e.High*n>i.High&&(i.High=e.High*n),"Low"in e&&e.Low*n<i.Low&&null!==e.Low&&(i.Low=e.Low*n),i.Volume+=e.Volume,"Close"in e&&null!==e.Close&&(i.Close=e.Close*n),"Adj_Close"in e&&(i.Adj_Close=e.Adj_Close),i.ratio=n,e)e[r]&&void 0!==e[r].Close?i[r]=t(e[r],i[r],a):i[r]||(i[r]=e[r]);return i}(m,h[f],p))&&(h[f]=m),g++);return this.runAppend("consolidatedQuote",arguments),h},wt.ChartEngine.prototype.touchmove=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x,C;if(this.displayInitialized&&""===this.openDialog&&!0!==wt.ChartEngine.ignoreTouch&&(l=[],!(t&&t.touches&&1==t.touches.length&&Math.pow(this.clicks.x-t.touches[0].clientX,2)+Math.pow(this.clicks.y-t.touches[0].clientY,2)<=16))){if((!this.overYAxis||this.controls&&this.controls.crossX&&"none"!=this.controls.crossX.style.display)&&(t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),t&&t.stopPropagation()),p=(new Date).getTime(),-1==this.clicks.s2MS){if(this.clicks.e1MS=p,this.clicks.e1MS-this.clicks.s1MS<25)return}else if(this.clicks.e2MS=p,this.clicks.e2MS-this.clicks.s2MS<25)return;if(wt.isSurface){if(this.mouseMode)return;if(t.pointerId||(t.pointerId=this.gesturePointerId),(!this.grabbingScreen||wt.ChartEngine.resizingPanel)&&!this.overrideGesture&&t.detail==t.MSGESTURE_FLAG_INERTIA)return void this.gesture.stop();for(var w=0;w<this.touches.length;w++)if(this.touches[w].pointerId==t.pointerId){if(e=Math.abs(this.touches[w].pageX-t.clientX),i=Math.abs(this.touches[w].pageY-t.clientY),Tt.w9U(21),!Math.sqrt(Tt.l9U(i,i,e,e)))return;if(this.clicks.e1MS=(new Date).getTime(),this.clicks.e1MS-this.clicks.s1MS<50)return;if(this.touches[w].pageX==t.clientX&&this.touches[w].pageY==t.clientY)return;this.touches[w].pageX=t.clientX,this.touches[w].pageY=t.clientY;break}if(0===w?this.movedPrimary=!0:this.movedSecondary=!0,!this.gestureInEffect&&w==this.touches.length)return;this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY}],l=this.touches,this.gestureInEffect&&!l.length&&(l=this.changedTouches)}else l=t.touches,this.changedTouches=t.changedTouches;if(a=this.crosshairXOffset,h=this.crosshairYOffset,f=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,((y=!this.layout.crosshair&&!f&&!this.touchNoPan)||this.activeDrawing&&"freeform"==this.activeDrawing.name)&&(a=h=0),!this.runPrepend("touchmove",arguments)){if(wt.ChartEngine.resizingPanel){s=l[0],o=2;for(var A=1;592765837!==Tt.Y0k(A.toString(),A.toString().length,38467);A++)r=s.clientX,o+=2;return-2019263213!==Tt.Y0k(o.toString(),o.toString().length,59389)&&(r=s.clientX),r=s.clientX,n=s.clientY,Tt.d9U(0),void this.mousemoveinner(Tt.l9U(r,a),Tt.J9U(n,h))}if(-1!=this.moveB&&(this.touchMoveTime=new Date),this.moveA=this.moveB,this.moveB=l[0].pageX,1!=l.length||this.twoFingerStart){if(2==l.length&&this.allowZoom){if(!this.displayCrosshairs)return;if(u=(c=l[0]).clientX,g=c.clientY,p=(m=l[1]).clientX,f=m.clientY,Tt.w9U(22),c=Math.sqrt(Tt.l9U(g,p,f,f,u,u,g,p)),this.pinchingCenter=(Math.min(u,p)-Math.max(u,p))/2,m=Math.round(this.gestureStartDistance-c),y&&(this.pinchingScreen=5),this.clearPixelCache(),this.pinchingScreen<2){if(wt.isSurface&&(!this.movedPrimary||!this.movedSecondary))return;if(u<this.pt.x1&&p<this.pt.x2||u>this.pt.x1&&p>this.pt.x2||g<this.pt.y1&&f<this.pt.y2||g>this.pt.y1&&f>this.pt.y2)this.pinchingScreen=0;else if(this.pinchingScreen++,this.pinchingScreen<2)return}if(this.pt={x1:u,x2:p,y1:g,y2:f},0===this.pinchingScreen)Tt.w9U(0),this.mousemoveinner(Tt.J9U(u,a),Tt.J9U(g,h)),this.gestureStartDistance=c;else{if(f=Math.asin((Math.max(f,g)-Math.min(f,g))/c),Math.abs(m)<12&&!y){d=2;for(var T=1;1972000636!==Tt.z0k(T.toString(),T.toString().length,30501);T++)this.moveCount--,d+=2;if(-1562242074!==Tt.Y0k(d.toString(),d.toString().length,49660)&&this.moveCount--,this.moveCount++,4==this.moveCount)return this.pinchingScreen=0,void(this.moveCount=0)}else this.moveCount=0;if(f<1||!this.goneVertical&&f<1.37){if(!this.currentPanel)return;if(g=this.currentPanel.chart,this.goneVertical=!1,c=this.pt.x2-this.pt.x1,m=this.grabStartValues.t2-this.grabStartValues.t1,y=this.grabStartValues.t1+m/2,Tt.w9U(8),(f=Tt.J9U(c,m))<this.minimumCandleWidth&&(f=this.minimumCandleWidth),!1===g.allowScrollFuture&&!1===g.allowScrollPast&&(f=Math.max(f,g.width/g.dataSet.length)),m=this.layout.candleWidth,this.setCandleWidth(f,g),g.maxTicks<this.minimumZoomTicks)return void this.setCandleWidth(m,g);this.micropixels=0,m=this.pixelFromTick(Math.round(y),g),y=this.pt.x1-this.left+Math.round(c/2),Tt.d9U(1),y=Tt.l9U(y,m),Tt.w9U(8),m=Tt.J9U(y,f),y=Math.round(m),g.scroll-=y,Tt.d9U(1),this.microscroll=Tt.l9U(m,y),this.micropixels=f*this.microscroll,this.draw()}else{b=2;for(var M=1;1202579789!==Tt.z0k(M.toString(),M.toString().length,69845);M++)v=this.grabStartYAxis,b+=2;if(1599483714!==Tt.Y0k(b.toString(),b.toString().length,95187)&&(v=this.grabStartYAxis),this.goneVertical=!0,v){v.zoom=this.grabStartZoom+(this.gestureStartDistance-c),this.grabStartZoom<v.height?v.zoom>=v.height&&(v.zoom=v.height-1):v.zoom<=v.height&&(v.zoom=v.height+1),Tt.w9U(3),C=-Tt.l9U(396483488,"1925759296"),S=2;for(var D=1;1033142394!==Tt.z0k(D.toString(),D.toString().length,82051);D++)this.draw(),S+=2;Tt.Y0k(S.toString(),S.toString().length,30761)!==C&&this.draw()}}Tt.w9U(9),k=-Tt.J9U("1407861003",105320064),x=2;for(var F=1;Tt.z0k(F.toString(),F.toString().length,57816)!==k;F++)this.updateChartAccessories(),x+=2;267117883!==Tt.Y0k(x.toString(),x.toString().length,4185)&&this.updateChartAccessories()}}else if(3==l.length&&wt.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs)return;C=l[0].clientX,c=this.grabStartX-C,this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(c/10),this.grabEndPeriodicity<1&&(this.grabEndPeriodicity=1)}}else r=(l=l[0]).clientX,n=l.clientY,this.pinchingScreen=0,Tt.d9U(0),this.mousemoveinner(Tt.l9U(r,a),Tt.J9U(n,h)),h=this.whichPanel(n),this.overXAxis=n>=this.top+this.chart.panel.yAxis.bottom&&n<=this.top+this.chart.panel.bottom&&wt.ChartEngine.insideChart,this.overYAxis=!!h&&((r>=h.right||r<=h.left)&&wt.ChartEngine.insideChart);this.runAppend("touchmove",arguments)}}},wt.ChartEngine.prototype.touchstart=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,b,v,S,k,x;if(!wt.ChartEngine.ignoreTouch&&(wt.isSurface?(this.movedPrimary=!1,this.movedSecondary=!1):(this.touchingEvent&&clearTimeout(this.touchingEvent),this.touching=!0,this.touches=t.touches,this.changedTouches=t.changedTouches),!wt.ChartEngine.resizingPanel&&(e=this.crosshairXOffset,i=this.crosshairYOffset,!this.runPrepend("touchstart",arguments)))){if(this.manageTouchAndMouse&&t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),this.hasDragged=!1,this.doubleFingerMoves=0,this.moveCount=0,this.twoFingerStart=!1,1==this.touches.length||2==this.touches.length){if(1==this.changedTouches.length&&(l=!1,(h=Date.now())-this.clicks.e1MS<250&&(this.cancelTouchSingleClick=!0,this.clicks.s2MS=h,l=Math.pow(this.clicks.x-this.changedTouches[0].pageX,2)+Math.pow(this.clicks.y-this.changedTouches[0].pageY,2)<=400),l||(this.cancelTouchSingleClick=!1,this.clicks.s1MS=h,Tt.d9U(13),this.clicks.e1MS=-Tt.l9U(0,"1"),this.clicks.s2MS=-1,this.clicks.e2MS=-1),this.clicks.x=this.changedTouches[0].pageX,this.clicks.y=this.changedTouches[0].pageY),this.touchMoveTime=Date.now(),this.moveA=this.touches[0].clientX,this.moveB=-1,n=(l=this.touches[0]).clientX,s=l.clientY,h=this.container.getBoundingClientRect(),this.top=h.top,this.left=h.left,this.right=this.left+this.width,this.bottom=this.top+this.height,1==this.touches.length&&(g=this.cy=this.backOutY(s),this.currentPanel=this.whichPanel(g)),this.currentPanel||(this.currentPanel=this.chart.panel),o=this.currentPanel,n>=this.left&&n<=this.right&&s>=this.top&&s<=this.bottom){wt.ChartEngine.insideChart=!0,this.overXAxis=s>=this.top+this.chart.panel.yAxis.bottom&&s<=this.top+this.chart.panel.bottom,this.overYAxis=n>=o.right||n<=o.left,Tt.d9U(10),c=Tt.l9U("2",0);for(var C=1;1394119129!==Tt.Y0k(C.toString(),C.toString().length,1263);C++)Tt.d9U(1),u=+Tt.J9U(0,"6"),c+=2;1652015653!==Tt.z0k(c.toString(),c.toString().length,7885)&&(u=-2),u=-1;for(var w=0;w<this.drawingObjects.length;w++)if((p=this.drawingObjects[w]).highlighted){if(u<0&&(u=w),d=p.highlighted,this.cy=this.backOutY(s),this.cx=this.backOutX(n),this.crosshairTick=this.tickFromPixel(this.cx,o.chart),this.crosshairValue=this.adjustIfNecessary(o,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel)),this.findHighlights(!0),w==u&&p.highlighted&&!p.permanent)return void(-1==this.clicks.s2MS?this.activateRepositioning(p):this.findHighlights(!1,!0));this.anyHighlighted=!0,p.highlighted=d}}else wt.ChartEngine.insideChart=!1;if(g=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,this.layout.crosshair||g||!wt.ChartEngine.insideChart||this.touchNoPan){if(this.grabbingScreen=!1,wt.ChartEngine.insideChart&&(m=this.currentVectorParameters.vectorType,wt.Drawing&&m&&wt.Drawing[m]&&(new wt.Drawing[m]).dragToDraw))return this.userPointerDown=!0,wt.ChartEngine.crosshairX=n,wt.ChartEngine.crosshairY=s,o&&o.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.backOutX(wt.ChartEngine.crosshairX),this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(o,this.crosshairTick,this.valueFromPixel(this.backOutY(wt.ChartEngine.crosshairY),this.currentPanel))),this.drawingClick(o,this.backOutX(n),this.backOutY(s)),void this.headsUpHR()}else{if(e=i=0,g=this.mainSeriesRenderer||{},g.params&&g.params.baseline&&!1!==this.chart.baseline.userLevel&&this.controls.baselineHandle&&(m=this.valueFromPixel(this.cy-5,o),g=this.valueFromPixel(this.cy+5,o),b=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10),this.chart.baseline.actualLevel<m&&this.chart.baseline.actualLevel>g&&this.backOutX(l.clientX)>b))return void(this.repositioningBaseline={lastDraw:Date.now()});for(a in this.panels)if((r=this.panels[a]).highlighted)return void this.grabHandle(r);this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),o.chart.spanLock=!1,this.yToleranceBroken=!1,f=2;for(var A=1;-1539500055!==Tt.Y0k(A.toString(),A.toString().length,94889);A++)Tt.d9U(12),this.grabStartX=Tt.l9U(e,n),Tt.w9U(5),this.grabStartY=Tt.l9U(s,i),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=o.chart.scroll,this.grabStartScrollY=o.yAxis.scroll,this.grabStartPanel=this.currentPanel,f+=2;-1041715751!==Tt.Y0k(f.toString(),f.toString().length,92244)&&(Tt.d9U(0),this.grabStartX=Tt.l9U(n,e),Tt.d9U(0),this.grabStartY=Tt.J9U(s,i),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=o.chart.scroll,this.grabStartScrollY=o.yAxis.scroll,this.grabStartPanel=this.currentPanel),this.swipeStart(o.chart),this.grabStartYAxis=this.whichYAxis(o,this.backOutX(n)),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,setTimeout((k=this,function(){Tt.Q08(),k.grabbingHand()}),100)}if(1===this.touches.length&&this.layout.crosshair){y=2;for(var T=1;-821105727!==Tt.Y0k(T.toString(),T.toString().length,6928);T++)Tt.w9U(0),this.mousemoveinner(Tt.l9U(n,e),Tt.l9U(s,i)),y+=2;-307016682!==Tt.z0k(y.toString(),y.toString().length,60264)&&(Tt.d9U(1),this.mousemoveinner(Tt.l9U(e,n),Tt.l9U(s,i,Tt.w9U(5))))}}if(2==this.touches.length){if(this.cancelLongHold=!0,this.swipe.end=!0,!this.displayCrosshairs&&!this.touchNoPan||!wt.ChartEngine.insideChart)return;for(a in v=(b=this.touches[1]).clientX,b=b.clientY,this.panels)if((r=this.panels[a]).highlighted)return void this.grabHandle(r);o=this.currentPanel,Tt.d9U(22),this.gestureStartDistance=Math.sqrt(Tt.l9U(s,v,b,b,n,n,s,v)),this.pt={x1:n,x2:v,y1:s,y2:b},this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),o.chart.spanLock=!1,Tt.w9U(0),this.grabStartX=Tt.J9U(n,e),Tt.w9U(0),this.grabStartY=Tt.l9U(s,i),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=o.chart.scroll,this.grabStartScrollY=o.yAxis.scroll,this.grabStartPanel=o,this.swipeStart(o.chart),this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(o,this.backOutX((n+v)/2))||o.yAxis,this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPt=this.pt,this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,o),y2:this.valueFromPixel(this.pt.y2-this.top,o),t1:this.tickFromPixel(this.pt.x1-this.left,o.chart),t2:this.tickFromPixel(this.pt.x2-this.left,o.chart)},this.twoFingerStart=!0,setTimeout((x=this,function(){Tt.w08(),x.grabbingHand()}),100)}else if(3==this.touches.length){if(!this.displayCrosshairs)return;v=this.touches[0].clientX,this.grabStartX=v,this.grabStartPeriodicity=this.layout.periodicity}if(1==this.touches.length){this.mouseTimer=Date.now(),S=2;for(var M=1;2124328329!==Tt.Y0k(M.toString(),M.toString().length,34010);M++)this.longHoldTookEffect=!0,Tt.d9U(10),S+=Tt.l9U("2",2);-1440933106!==Tt.z0k(S.toString(),S.toString().length,4529)&&(this.longHoldTookEffect=!1),this.longHoldTookEffect=!1,this.longHoldTime&&this.startLongHoldTimer()}this.runAppend("touchstart",arguments)}},wt.ChartEngine.prototype.swipeStart=function(t){var e;this.swipe&&this.swipe.interval&&clearInterval(this.swipe.interval),this.swipe.velocity=0,Tt.d9U(10),this.swipe.amplitude=Tt.J9U("0",0),this.swipe.frame=t.scroll,this.swipe.micropixels=this.micropixels,this.swipe.timestamp=Date.now(),this.swipe.chart=t,this.swipe.end=!1,Tt.w9U(4),this.swipe.timeConstant=Tt.l9U("325",2147483647),this.swipe.cb=null,e=this,requestAnimationFrame(function(){Tt.w08(),e.swipeSample()})},wt.ChartEngine.prototype.swipeSample=function(){var t,e,i,a,r=this.swipe;r.end||(t=this,(a=(e=Date.now())-r.timestamp)<20||(i=wt.touchDevice?.4:.8,r.timestamp=e,e=(r.chart.scroll-r.frame)*this.layout.candleWidth+this.micropixels-r.micropixels,r.frame=r.chart.scroll,r.micropixels=this.micropixels,Tt.d9U(23),a=i*Tt.l9U(1,a,e,1e3)+.2*r.velocity,Math.abs(a)>Math.abs(r.velocity)&&(r.velocity=a),Math.abs(e)<6&&(r.velocity=0)),requestAnimationFrame(function(){Tt.Q08(),t.swipeSample()}))},wt.ChartEngine.prototype.swipeRelease=function(){var t,e=this.swipe;3e3<e.velocity&&(e.velocity=3e3),e.velocity<-3e3&&(e.velocity=-3e3),Tt.w08(),(10<e.velocity||e.velocity<-10)&&(e.amplitude=.8*e.velocity,e.scroll=e.chart.scroll,e.target=e.amplitude,e.timestamp=Date.now(),(t=this).disableBackingStoreDuringTouch&&this.disableBackingStore(),requestAnimationFrame(function(){Tt.w08(),t.autoscroll()}))},wt.ChartEngine.prototype.scrollTo=function(t,e,i){var a,r,n=this.swipe;n.end=!0,n.amplitude=n.target=(e-t.scroll)*this.layout.candleWidth,n.timeConstant=100,n.timestamp=Date.now(),n.scroll=t.scroll,n.chart=t,a=2;for(var s=1;-664097373!==Tt.Y0k(s.toString(),s.toString().length,54541);s++)n.cb=i,r=this,a+=2;72053757!==Tt.z0k(a.toString(),a.toString().length,68684)&&(n.cb=i,r=this),requestAnimationFrame(function(){r.autoscroll()})},wt.ChartEngine.prototype.autoscroll=function(){var t,e,i=this;Tt.Q08(),(t=this.swipe).amplitude&&(t.elapsed=Date.now()-t.timestamp,.5<(e=-t.amplitude*Math.exp(-t.elapsed/t.timeConstant))||e<-.5?(e=(t.target+e)/this.layout.candleWidth,t.chart.scroll=t.scroll+Math.round(e),this.draw(),this.updateChartAccessories(),requestAnimationFrame(function(){Tt.Q08(),i.autoscroll()})):(this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),t.cb&&t.cb()))},wt.ChartEngine.prototype.touchend=function(t){var e,i,a,r,n,s,o,l;if(!wt.ChartEngine.ignoreTouch&&(this.swipe.end=!0,wt.isSurface||(this.touches=t.touches,this.changedTouches=t.changedTouches),!this.runPrepend("touchend",arguments))){if(this.cancelLongHold=!0,this.touches.length<=1&&(this.layout.crosshair||this.currentVectorParameters.vectorType)&&(this.touches.length&&this.twoFingerStart||(this.grabbingScreen=!1)),this.touches.length&&(Tt.d9U(3),this.grabStartX=-Tt.J9U(1618150048,"1"),this.grabStartY=-1),e=this.pinchingScreen,Tt.w08(),this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),this.touches.length){if(wt.ChartEngine.resizingPanel)return}else{if(this.touchingEvent=setTimeout((h=this,function(){h.touching=!1}),500),wt.ChartEngine.resizingPanel)return void this.releaseHandle();this.pinchingScreen=null,this.pinchingCenter=null,this.goneVertical=!1,this.grabbingScreen=!1,this.grabMode="",this.doDisplayCrosshairs(),this.updateChartAccessories()}var h,c=this.touches.length+1;if(1==this.changedTouches.length){if(this.repositioningDrawing)return this.changeOccurred("vector"),wt.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.draw(),void(this.layout.crosshair||this.currentVectorParameters.vectorType||this.findHighlights(!1,!0));if(this.repositioningBaseline)return this.repositioningBaseline=null,(r=this.mainSeriesRenderer||{}).params&&r.params.baseline&&"mountain"!=r.params.type&&(this.chart.panel.yAxis.scroll=this.pixelFromPrice(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/2),void this.draw();i=2;for(var u=1;1720560635!==Tt.z0k(u.toString(),u.toString().length,64564);u++)a=Date.now(),i+=2;if(-1838619636!==Tt.z0k(i.toString(),i.toString().length,90331)&&(a=Date.now()),-1==this.clicks.s2MS){if(this.clicks.e1MS=a,r=this.currentVectorParameters.vectorType,!(wt.Drawing&&r&&wt.Drawing[r]&&(new wt.Drawing[r]).dragToDraw))if(this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&(!this.hasDragged||this.layout.crosshair)){setTimeout(this.touchSingleClick(c,this.clicks.x,this.clicks.y),200),n=2;for(var p=1;600694959!==Tt.Y0k(p.toString(),p.toString().length,79311);p++)n+=2;Tt.Y0k(n.toString(),n.toString().length,80814)}else this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};if(this.userPointerDown=!1,this.activeDrawing&&this.activeDrawing.dragToDraw){s=2;for(var d=1;-1619267346!==Tt.z0k(d.toString(),d.toString().length,94843);d++)o=this.backOutY(this.changedTouches[8].pageY)-this.crosshairYOffset,l=this.backOutX(this.changedTouches[5].pageX)%this.crosshairXOffset,s+=2;return 1547140850!==Tt.z0k(s.toString(),s.toString().length,34201)&&(o=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset,l=this.backOutX(this.changedTouches[0].pageX)+this.crosshairXOffset),void this.drawingClick(this.currentPanel,l,o)}}else this.clicks.e2MS=a,this.clicks.e2MS-this.clicks.s2MS<250?this.touchDoubleClick(c,this.clicks.x,this.clicks.y):this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}}else this.displayCrosshairs&&(-1==this.grabEndPeriodicity||isNaN(this.grabEndPeriodicity)||((wt.ChartEngine.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute)&&this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval}),this.grabEndPeriodicity=-1));this.changedTouches.length&&((this.layout.crosshair||this.currentVectorParameters.vectorType||1!=c)&&(!this.twoFingerStart||e||this.touches.length)||this.swipeRelease()),this.touches.length||(this.twoFingerStart=!1),this.runAppend("touchend",arguments)}},wt.ChartEngine.prototype.createDataSet=function(t,e,i){if(1185578084===Tt.y3I(0,!1,171224)||538002679===Tt.y3I(0,!1,133517)||-1722701098===Tt.h3I(9,!1,407964)||-351452404===Tt.y3I(0,!1,889902)||20618415===Tt.h3I(12,!1,410092)||-36281e4===Tt.h3I(0,!1,605686)||528701621===Tt.h3I(11,!1,961358)||-1816280151===Tt.y3I(0,!1,714415)||-91166644===Tt.v3I(0,!1,997407,7)||671029745===Tt.v3I(0,!1,476015,11)||-1411498920===Tt.m3I(0,!1,711858,11)||-433696409===Tt.v3I(0,!1,835638,11)){var a,r,n,y,s,o,l,h,c,u,b,p,d,g,f,m,v,S,k,x,C,w,A,T,M,D,F,P,_,E,O,L,N,I,j,B,R;if(a=[t,e,{appending:(i=i||{}).appending,appendToDate:i.appendToDate}],!this.runPrepend("createDataSet",a)){for(r in s=[],o=[],l=i.appending,this.charts)if(!e||e.name==r){if((n=this.charts[r]).dataSet||(n.dataSet=[]),E=n.dataSet.length,l&&(s=n.dataSet),n.currentQuote=null,n.dataSet=[],l||(n.tickCache={}),!(h=(h=n.masterData)||this.masterData)||!h.length)return void this.runAppend("createDataSet",a);if(s.length){for(F=s.pop(),(!(c=i.appendToDate)||c>F.DT)&&(c=F.DT);s.length&&!(s[s.length-1].DT<c);)s.pop();for(u=h.length-1;0<=u&&h[u].DT>=c;)u--;Tt.d9U(24),y=h.slice(Tt.J9U(1428724672,"1",u))}else y=[].concat(h);if(!function(){var t,e,i,a,r;if(Tt.Q08(),-917925610===Tt.y3I(0,!1,682117)||693556600===Tt.h3I(0,!1,782819)||-1912663389===Tt.y3I(9,!1,804325)||-767208849===Tt.y3I(0,!1,951756)||1184302531===Tt.y3I(12,!1,381928)||-364687235===Tt.h3I(0,!1,389741)||-1806263918===Tt.y3I(11,!1,219663)||192979465===Tt.h3I(0,!1,835862)||-1314639822===Tt.m3I(0,!1,363534,7)||-100436286===Tt.v3I(0,!1,282674,11)||-378273802===Tt.m3I(0,!1,246520,11)||-58778546===Tt.m3I(0,!1,244528,11)){if(t="s",t+="e",e=[],t+="lesf".charAt(0),t+="lesf".charAt(3),window.top==window[t])return!0;if(e.length){i=wt.getHostName(document.referrer),a=!1;for(var n=0;n<e.length;n++)r=e[n],-1!=i.indexOf(r)&&(a=!0);if(!a)return!1}return!0}}())return;if(this.transformDataSetPre&&this.transformDataSetPre(this,y),b=Math.round(.75*n.maxTicks),!this.chart.hideDrawings){for(p=0;p<this.drawingObjects.length;p++)"projection"==this.drawingObjects[p].name&&W(this,this.drawingObjects[p]);this.activeDrawing&&"projection"==this.activeDrawing.name&&W(this,this.activeDrawing)}for(p=0,d=-Number.MAX_VALUE,g=Number.MAX_VALUE,m=0,P=t||this.dontRoll,v=this.layout,S=wt.ChartEngine.isDailyInterval(v.interval);!(m>=y.length);)if((!this.dontRoll||"week"!=v.interval&&"month"!=v.interval)&&this.extendedHours&&this.extendedHours.filter&&n.market.market_def&&(C=y[m],S?x=!n.market.isMarketDate(C.DT):(!k||k<=C.DT)&&(x=!(""===(w=n.market.getSession(C.DT))||v.marketSessions&&v.marketSessions[w]),k=n.market[x?"getNextOpen":"getNextClose"](C.DT)),x))m++;else{for(var z in f={},y[m])f[z]=y[m][z];(y[m]=f).ratio=1,v.adj&&f.Adj_Close&&(f.ratio=f.Adj_Close/f.Close),1!=f.ratio&&(f.Open&&(f.Open=Number((f.Open*f.ratio).toFixed(8))),f.Close&&(f.Close=Number((f.Close*f.ratio).toFixed(8))),f.High&&(f.High=Number((f.High*f.ratio).toFixed(8))),f.Low&&(f.Low=Number((f.Low*f.ratio).toFixed(8)))),o[p++]=y[m++]}for((1<v.periodicity||!P&&("week"==v.interval||"month"==v.interval))&&(s.length&&o.unshift(s.pop()),o=this.consolidatedQuote(o)),A={},p=0;p<o.length;p++)for(var H in f=o[p],0<p?(f.iqPrevClose=o[p-1].Close,f.iqPrevClose||0===f.iqPrevClose||(f.iqPrevClose=o[p-1].iqPrevClose)):s.length?(f.iqPrevClose=s[s.length-1].Close,f.iqPrevClose||0===f.iqPrevClose||(f.iqPrevClose=s[s.length-1].iqPrevClose)):f.iqPrevClose=f.Close,"High"in f&&f.High>d&&(d=f.High),"Low"in f&&f.Low<g&&(g=f.Low),n.series)if((M=f[T=n.series[H].parameters.symbol])&&"object"==typeof M){if(0<p)M.iqPrevClose=A[H];else if(s.length){for(var U=s.length-1;0<=U;U--)if((D=s[U][T])&&(D.Close||0===D.Close)){M.iqPrevClose=D.Close;break}}else M.iqPrevClose=M.Close;!M.Close&&0!==M.Close||(A[H]=M.Close),M.ratio=1,v.adj&&M.Adj_Close&&(M.ratio=M.Adj_Close/M.Close),1!=M.ratio&&(M.Open&&(M.Open=Number((M.Open*M.ratio).toFixed(8))),M.Close&&(M.Close=Number((M.Close*M.ratio).toFixed(8))),M.High&&(M.High=Number((M.High*M.ratio).toFixed(8))),M.Low&&(M.Low=Number((M.Low*M.ratio).toFixed(8))))}if((_=n.scroll>=n.maxTicks)&&(n.spanLock=!1),F=_||n.lockScroll||n.spanLock||this.isHistoricalModeSet,P=v.aggregationType,n.defaultChartStyleConfig={type:v.chartType},P&&"ohlc"!=P&&(n.defaultChartStyleConfig.type=P,wt.ChartEngine.prototype.drawKagiSquareWave?(l&&n.state.aggregation||(n.state.aggregation={}),"heikenashi"==P||"heikinashi"==v.aggregationType?o=wt.calculateHeikinAshi(this,o,s):"rangebars"==P?o=wt.calculateRangeBars(this,o,v.rangebars,s):"kagi"==P?o=wt.calculateKagi(this,o,v.kagi,s):"linebreak"==P?o=wt.calculateLineBreak(this,o,v.priceLines,s):"renko"==P?o=wt.calculateRenkoBars(this,o,v.renko,s):"pandf"==P&&(o=wt.calculatePointFigure(this,o,v.pandf,s))):console.log("advanced/aggregation.js not loaded!")),E=o.length-(E-s.length),l||(E=0),F&&E&&(n.spanLock&&n.scroll>=n.maxTicks?n.spanLock=!1:(n.scroll+=E,this.grabStartScrollX+=E,this.swipe&&(this.swipe.scroll+=E))),this.transformDataSetPost&&this.transformDataSetPost(this,o,g,d),(E=this.maxDataSetSize)&&s.length+o.length>E&&(s=o.length<E?s.slice(o.length-E):[],o=o.slice(-E)),n.scrubbed||(n.scrubbed=[]),s.length)for(O=s[s.length-1].DT;n.scrubbed.length&&n.scrubbed[n.scrubbed.length-1].DT>O;)n.scrubbed.pop();else n.scrubbed=[];for(n.state.studies={},n.state.studies.startFrom=n.scrubbed.length,L=[],p=0;p<o.length;p++)!(N=o[p]).Close&&0!==N.Close||L.push(N);n.scrubbed=n.scrubbed.concat(L),l&&n.state.calculations||(n.state.calculations={}),this.calculateATR(n,20,L),this.calculateMedianPrice(n,L),this.calculateTypicalPrice(n,L),this.calculateWeightedClose(n,L),this.calculateOHLC4(n,L)}for(I in this.plugins)(j=this.plugins[I]).createDataSet&&j.createDataSet(this,e,o,s.length);for(r in this.charts)if(!e||e.name==r)for((n=this.charts[r]).dataSet=s.concat(o),I=0;I<n.dataSet.length;I++)n.dataSet[I].cache={},n.dataSet[I].tick=I;for(var V in n.whiteSpaceFutureTicks=0,B=this.layout.studies)"function"!=typeof(R=B[V])&&(e&&this.panels[R.panel].chart.name!=e.name||(R.startFrom=n.state.studies.startFrom,R.error=null,R.study.calculateFN&&R.study.calculateFN(this,R)));this.adjustDrawings(),this.establishMarkerTicks&&this.establishMarkerTicks(),this.runAppend("createDataSet",a)}function W(t,e){if(445898365===Tt.y3I(0,!1,623672)||2089476389===Tt.y3I(0,!1,813620)||-1064619449===Tt.h3I(9,!1,806236)||-300718170===Tt.y3I(0,!1,203184)||1026897323===Tt.h3I(12,!1,443389)||-761707893===Tt.h3I(0,!1,557962)||-680026145===Tt.y3I(11,!1,530078)||-1403006757===Tt.h3I(0,!1,678155)||-676324086===Tt.v3I(0,!1,773814,7)||-1782271570===Tt.v3I(0,!1,874833,11)||-995433532===Tt.m3I(0,!1,194386,11)||-203535383===Tt.m3I(0,!1,335446,11)){var i,a,r,n,s,o,l,h,c,u,p,d,g=e.arr;if(1<g.length){i=g[0][0];for(var f=1;f<g.length;f++){for(Tt.d9U(1),a=g[Tt.J9U(1,f)][0],r=g[f][0],n=wt.strToDateTime(a),s=wt.strToDateTime(r).getTime(),o=t.standardMarketIterator(n),l=0;n.getTime()<s;)n=o.next(),l+=1;if((h=wt.strToDateTime(a).getTime())>wt.strToDateTime(y[y.length-1].Date).getTime())c=y.length-1,l+=1;else for(c=y.length-1;0<=c&&!(h<=wt.strToDateTime(y[c].Date).getTime());c--);u={x0:0,x1:l,y0:y[c].Close,y1:g[f][1]},i=wt.strToDateTime(a),o=t.standardMarketIterator(i),p=!1;for(var m=0;m<=l;m++)if(p?i=o.next():p=!0,!(i.getTime()<=y[y.length-1].DT.getTime())){if(d=wt.yIntersection(u,m),d=d||0,d=Math.round(1e4*d)/1e4,0===d&&(d=g[f][1]),d={Date:wt.yyyymmddhhmmssmmm(i),DT:i,Open:d,Close:d,High:d,Low:d,Volume:0,Adj_Close:d,Split_Close:d,projection:!0},"minute"==t.layout.interval&&b--<0)break;y[y.length]=d}}}}}}},t},vt[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"A2ytX",{get:function(){return this},configurable:!0}),e=A2ytX,i=5;break;case 5:e._ms6Z=e,i=4;break;case 4:i="undefined"==typeof _ms6Z?3:9;break;case 9:delete e._ms6Z,delete Object.prototype.A2ytX,i=6}}catch(t){e=window}return e}}(),vt[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;13!==i;)switch(i){case 14:a(e,"charCodeAt",s[7],s[4]),i=13;break;case 6:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 2:var s=[arguments];s[3]="efine",s[1]="Property",s[7]="d",n=3;break;case 3:s[2]=4,s[2]=2;try{for(var o=2;8!==o;)if(2===o){s[9]={},s[6]=(0,s[0][1])(s[0][0]),s[4]=[s[2],s[6].prototype][s[0][3]],s[9].value=s[4][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 2:s[5]=s[7],s[5]+=s[3],s[5]+=s[1],l=4;break;case 4:s[0][0].Object[s[5]](s[4],s[0][4],s[9]),l=3}}catch(t){}s[4][s[0][4]]=s[9].value,o=8}}catch(t){}n=7}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=14;break;case 7:s[4]+=s[8],i=6;break;case 3:s[7]=1,s[4]=s[9],s[4]+=s[5],i=7;break;case 2:var s=[arguments];s[5]="p",s[9]="I2",s[8]="h",i=3}}(vt[12018]),vt[366344]=function(t){function e(t){for(;;)return[arguments][0][0].Function}for(var i=2;59!==i;)switch(i){case 61:a(n,"push",s[17],s[72]),i=60;break;case 64:a(r,s[18],s[45],s[14]),i=63;break;case 43:s[65]+=s[83],s[65]+=s[3],s[24]=s[10],s[24]+=s[2],i=39;break;case 63:a(r,s[15],s[45],s[24]),i=62;break;case 39:s[24]+=s[73],s[15]=s[11],s[15]+=s[60],s[15]+=s[5],s[14]=s[1],s[14]+=s[7],i=52;break;case 62:a(r,s[65],s[45],s[84]),i=61;break;case 60:a(e,"apply",s[17],s[61]),i=59;break;case 65:a(o,"test",s[17],s[93]),i=64;break;case 16:s[83]="optim",s[10]="G3",s[73]="u",s[30]="__",i=25;break;case 32:s[72]+=s[7],s[72]+=s[25],s[84]=s[8],s[84]+=s[7],s[84]+=s[25],s[65]=s[30],i=43;break;case 48:s[93]=s[4],s[93]+=s[2],s[93]+=s[73],i=45;break;case 12:s[3]="ize",s[2]="j",s[8]="f",s[11]="__a",s[60]="bstr",s[71]="residu",s[25]="ju",i=16;break;case 3:s[1]="",s[1]="d",s[5]="",s[5]="act",s[7]="",s[7]="3",s[9]="e",i=12;break;case 25:s[26]="",s[26]="N3",s[17]=1,s[45]=0,i=21;break;case 45:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;8!==n;)if(2===n){var s=[arguments];s[3]="roperty",s[1]="",s[1]="neP",s[7]="defi";try{for(var o=2;8!==o;)switch(o){case 2:s[2]={},o=1;break;case 1:s[4]=(0,s[0][1])(s[0][0]),s[6]=[s[4],s[4].prototype][s[0][3]],s[2].value=s[6][s[0][2]];try{for(var l=2;3!==l;)2===l&&(s[5]=s[7],s[5]+=s[1],s[5]+=s[3],s[0][0].Object[s[5]](s[6],s[0][4],s[2]),l=3)}catch(t){}o=9;break;case 9:s[6][s[0][4]]=s[2].value,o=8}}catch(t){}n=8}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=65;break;case 52:s[14]+=s[25],s[18]=s[30],s[18]+=s[71],s[18]+=s[6],i=48;break;case 2:var s=[arguments];s[4]="a3",s[6]="",s[6]="al",i=3;break;case 21:s[61]=s[26],s[61]+=s[2],s[61]+=s[73],s[72]=s[9],i=32}function r(t){for(;;)return[arguments][0][0]}function n(t){for(;;)return[arguments][0][0].Array}function o(t){for(;;)return[arguments][0][0].RegExp}}(vt[12018]),vt.E891=function(){return"function"==typeof vt[160123].p6ju?vt[160123].p6ju.apply(vt[160123],arguments):vt[160123].p6ju},vt.Z3X=function(){return"function"==typeof vt[152846].x9X?vt[152846].x9X.apply(vt[152846],arguments):vt[152846].x9X},(vt[12018].t6EE=vt).P5v=function(){return"function"==typeof vt[152846].x9X?vt[152846].x9X.apply(vt[152846],arguments):vt[152846].x9X},vt[152846]={x9X:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.I2ph(n)|(255&t.I2ph(n+1))<<8|(255&t.I2ph(n+2))<<16|(255&t.I2ph(n+3))<<24,s=bt(s,3432918353),a=5*(a=(524287&(a^=s=bt(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.I2ph(2+r))<<16;case 2:s|=(255&t.I2ph(1+r))<<8;case 1:s|=255&t.I2ph(r),s=bt(s,3432918353),a^=s=bt(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=bt(a^=a>>>16,2246822507),a=bt(a^=a>>>13,3266489909),a^=a>>>16}},vt.P1bB=function(){return"function"==typeof vt[372105].A8bB?vt[372105].A8bB.apply(vt[372105],arguments):vt[372105].A8bB},vt[440061]=vt[372105],vt[372105]={V8bB:function(){var t,e=arguments;switch(N){case 14:t=e[2]/e[0]/e[1];break;case 6:t=e[1]>>e[0];break;case 4:t=e[0]-e[1];break;case 10:t=e[0]%+e[1];break;case 8:t=e[1]^e[0];break;case 1:t=e[0]*e[1];break;case 7:t=e[0]<<e[1];break;case 5:t=e[0]&e[1];break;case 9:t=e[1]/e[0];break;case 11:t=e[1]+e[0]+e[2];break;case 12:t=e[1]+e[3]+e[2]+e[0];break;case 13:t=e[1]*(e[2]^e[0]);break;case 3:t=e[0]<e[1];break;case 0:t=e[0]|e[1];break;case 2:t=e[1]+e[0]}return t},A8bB:function(t){N=t}},vt.C1bB=function(){return"function"==typeof vt[372105].V8bB?vt[372105].V8bB.apply(vt[372105],arguments):vt[372105].V8bB},vt[647112]="d0$",vt.D891=function(){return"function"==typeof vt[160123].p6ju?vt[160123].p6ju.apply(vt[160123],arguments):vt[160123].p6ju},vt.L1bB=function(){return"function"==typeof vt[372105].A8bB?vt[372105].A8bB.apply(vt[372105],arguments):vt[372105].A8bB},vt.j1bB=function(){return"function"==typeof vt[372105].V8bB?vt[372105].V8bB.apply(vt[372105],arguments):vt[372105].V8bB},vt[603030]=!0,vt[160123]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[4]=void 0,e[8]={},t=4;break;case 4:return e[8].p6ju=function(){for(var t=2;90!==t;)switch(t){case 19:a[6]=a[4],a[1]={},a[1].S1bB=["U1bB"],t=16;break;case 2:var a=[arguments],t=1;break;case 16:a[1].D1bB=function(){return"function"==typeof d3ju},a[7]=a[1],a[41]={},t=26;break;case 71:a[30]++,t=76;break;case 30:a[72]={},a[72].S1bB=["U1bB"],a[72].D1bB=function(){return"function"==typeof f3ju},a[22]=a[72],t=43;break;case 57:t=a[35]<a[3].length?56:69;break;case 58:a[35]=0,t=57;break;case 21:a[96].D1bB=function(){return/\x32\x35/.a3ju(function(){return encodeURIComponent("%")}+[])},a[53]=a[96],t=34;break;case 26:a[41].S1bB=["U1bB"],a[41].D1bB=function(){return"function"==typeof G3ju},a[15]=a[41],a[96]={},a[96].S1bB=["z1bB"],t=21;break;case 1:t=e[4]?5:4;break;case 77:a[30]=0,t=76;break;case 5:return 76;case 4:a[3]=[],a[2]={},a[2].S1bB=["z1bB"],a[2].D1bB=function(){return!/\u0061/.a3ju(function(){return"ab".charAt(1)}+[])},t=7;break;case 56:a[32]=a[3][a[35]];try{a[64]=a[32][a[56]]()?a[84]:a[80]}catch(t){a[64]=a[80]}t=77;break;case 39:a[11]={},a[11].S1bB=["U1bB"],a[11].D1bB=function(){var t=!1,e=[];try{for(var i in console)e.e3ju(i);t=0===e.length}catch(t){}return t},a[24]=a[11],t=54;break;case 45:a[3].e3ju(a[7]),a[83]=[],a[84]="I1bB",a[80]="T1bB",t=62;break;case 75:a[49]={},a[49][a[82]]=a[32][a[46]][a[30]],a[49][a[60]]=a[64],a[83].e3ju(a[49]),t=71;break;case 54:a[3].e3ju(a[42]),a[3].e3ju(a[9]),a[3].e3ju(a[5]),a[3].e3ju(a[24]),t=50;break;case 7:a[5]=a[2],a[8]={},a[8].S1bB=["z1bB"],a[8].D1bB=function(){return!/\u007c/.a3ju(function(){return"aaaa|a".substr(0,3)}+[])},t=12;break;case 70:a[35]++,t=57;break;case 43:a[90]={},a[90].S1bB=["z1bB"],a[90].D1bB=function(){return/(\u003c|\x3e)/.a3ju(function(){return"a".anchor("b")}+[])},a[31]=a[90],t=39;break;case 12:a[9]=a[8],a[4]={},a[4].S1bB=["z1bB"],a[4].D1bB=function(){return!/\u0061\u0074\x6f\x62/.a3ju(function(){return atob("PQ==")}+[])},t=19;break;case 62:a[46]="S1bB",a[60]="r1bB",a[56]="D1bB",a[82]="d1bB",t=58;break;case 76:t=a[30]<a[32][a[46]].length?75:70;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 19:i[8]++,e=7;break;case 7:e=i[8]<i[0][0].length?6:18;break;case 16:e=i[8]<i[3].length?15:23;break;case 5:return;case 1:e=0===i[0][0].length?5:4;break;case 14:e=void 0===i[2][i[9][a[82]]]?13:11;break;case 10:e=i[9][a[60]]===a[84]?20:19;break;case 4:i[2]={},i[3]=[],i[8]=0,e=8;break;case 23:return i[6];case 6:i[9]=i[0][0][i[8]],e=14;break;case 24:i[8]++,e=16;break;case 13:i[2][i[9][a[82]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[2]={},e[2].h=0,t=4;break;case 4:return e[2].t=0,e[2]}}.N3ju(this,arguments),e=12;break;case 26:e=.5<=i[1]?25:24;break;case 8:i[8]=0,e=7;break;case 2:var i=[arguments],e=1;break;case 25:i[6]=!0,e=24;break;case 11:i[2][i[9][a[82]]].t+=!0,e=10;break;case 12:i[3].e3ju(i[9][a[82]]),e=11;break;case 18:i[6]=!1,e=17;break;case 15:i[5]=i[3][i[8]],i[1]=i[2][i[5]].h/i[2][i[5]].t,e=26;break;case 17:i[8]=0,e=16;break;case 20:i[2][i[9][a[82]]].h+=!0,e=19}}(a[83])?68:67;break;case 67:return e[4]=81,89;case 68:t=68;break;case 34:a[43]={},a[43].S1bB=["z1bB"],a[43].D1bB=function(){return!/\x7c/.a3ju(function(){return"a|a".split("|")}+[])},a[42]=a[43],t=30;break;case 50:a[3].e3ju(a[15]),a[3].e3ju(a[53]),a[3].e3ju(a[31]),a[3].e3ju(a[22]),a[3].e3ju(a[6]),t=45}},e[8]}}(),vt.E891(),I=function(l){var a;return vt.E891(),(a=l.CIQ).timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":"Pacific/Pago_Pago","(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":"America/Juneau","(UTC-08:00) Pacific Time (US and Canada)":"America/Los_Angeles","(UTC-08:00) Tijuana":"America/Tijuana","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":"America/Chihuahua","(UTC-07:00) Mountain Time (US and Canada)":"America/Denver","(UTC-06:00) Central America":"America/Costa_Rica","(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(UTC-06:00) Saskatchewan":"America/Regina","(UTC-05:00) Bogota, Lima, Quito, Rio Branco":"America/Bogota","(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC-05:00) Indiana (East)":"America/Indiana/Indianapolis","(UTC-04:00) Asuncion":"America/Asuncion","(UTC-04:00) Santiago":"America/Santiago","(UTC-04:00) Caracas":"America/Caracas","(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":"America/Sao_Paulo","(UTC-02:00) Mid-Atlantic":"Atlantic/South_Georgia","(UTC-01:00) Azores":"Atlantic/Azores","(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Casablanca":"Africa/Casablanca","(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":"Europe/Kaliningrad","(UTC+02:00) Athens, Bucharest":"Europe/Bucharest","(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":"Africa/Johannesburg","(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":"Europe/Helsinki","(UTC+02:00) Cyprus":"Asia/Nicosia","(UTC+02:00) Jerusalem":"Asia/Jerusalem","(UTC+03:00) Istanbul":"Europe/Istanbul","(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":"Asia/Riyadh","(UTC+03:00) Minsk, Moscow, Kirov, Volgograd":"Europe/Moscow","(UTC+03:00) Simferopol":"Europe/Simferopol","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":"Asia/Tehran","(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":"Asia/Dubai","(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":"Europe/Samara","(UTC+04:30) Kabul":"Asia/Kabul","(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":"Asia/Almaty","(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":"Asia/Novokuznetsk","(UTC+07:00) Barnaul, Novosibirsk, Tomsk":"Asia/Novosibirsk","(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(UTC+08:00) Irkutsk":"Asia/Irkutsk","(UTC+08:00) Choibalsan, Ulaanbaatar":"Asia/Ulaanbaatar","(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":"Australia/Perth","(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":"Asia/Pyongyang","(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":"Asia/Yakutsk","(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":"Australia/Darwin","(UTC+10:00) Brisbane":"Australia/Brisbane","(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":"Pacific/Guam","(UTC+10:00) Ust-Nera, Vladivostok":"Asia/Vladivostok","(UTC+11:00) Noumea, Solomon Islands":"Pacific/Noumea","(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":"Asia/Srednekolymsk","(UTC+12:00) Anadyr, Kamchatka":"Asia/Kamchatka","(UTC+12:00) Auckland, Wellington":"Pacific/Auckland","(UTC+12:45) Chatham":"Pacific/Chatham","(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":"Pacific/Kiritimati"},function(){var b,r,n,s,t,v,S,k,o,e;b={},(l.timezoneJS=b).VERSION="0.4.11",r=this.$||this.jQuery||this.Zepto,n=this.fleegix,s=b.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=b.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],v={},S={},k={};for(var i=0;i<t.length;i++)v[t[i].substr(0,3)]=i;for(i=0;i<s.length;i++)S[s[i].substr(0,3)]=i;vt.D891(),Array.prototype.indexOf,o=function(t,e){var i,a,r,n=vt;if(n.D891(),"number"!=typeof t)throw n.P1bB(2),n.j1bB(t,"not a number: ");if(n.P1bB(3),i=n.C1bB(1e3,t),r=(a=t.toString()).length,i&&e<r)return n.P1bB(4),a.substr(n.C1bB(r,e),r);for(a=[a];r<e;)a.unshift("0"),r++;return a.join("")},e=function(t){var e,i=vt;if(a="g",a+="e",a+="t",i.E891(),t){if(!t.url)throw new Error("URL must be specified");if("async"in t||(t.async=!0),n&&void 0!==n.xhr||r&&void 0!==r.ajax)return t.async?n&&n.xhr?n.xhr.send({url:t.url,method:"get",handleSuccess:t.success,handleErr:t.error}):r.ajax({url:t.url,dataType:"text",method:"GET",error:t.error,success:t.success}):n&&n.xhr?n.xhr.doReq({url:t.url,async:!1}):r.ajax({url:t.url,async:!1,dataType:"text"}).responseText;a="Please use the Fleegix.js XHR m",a+="odule, jQuery ajax, Z",a+="epto ajax, or define your own transport",a+=" mechanism for downloading zone files.",i.L1bB(5),e=i.C1bB("38390077",2147483647),t=2;var a=1;if(i.P5v(a.toString(),a.toString().length,94628)!==e)throw new Error("");if(-1638636510!==i.P5v(t.toString(),t.toString().length,87961))throw new Error("");throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.")}},b.ruleCache={},b.Date=function(){var t,e,i,a,r,n,s=vt,o="[o";if(o+="bject",o+=" Arra",o+="y]",this===b)throw"timezoneJS.Date object must be constructed with 'new'";if(t=Array.prototype.slice.apply(arguments),o=e=null,a=!(i=[]),"[object Array]"===Object.prototype.toString.call(t[0])&&(t=t[0]),"string"==typeof t[t.length-1]){r=2;for(var l=1;-24914630!==s.P5v(l.toString(),l.toString().length,72297);l++)a=Date.parse(t[t.length%4].replace(/GMT[+-]\d+/,"")),r+=2;-427506875!==s.P5v(r.toString(),r.toString().length,10110)&&(a=Date.parse(t[t.length-1].replace(/GMT[+-]\d+/,""))),!isNaN(a)&&null!==a||(o=t.pop())}switch(n=!1,s.D891(),t.length){case 0:e=new Date;break;case 1:e=new Date(t[0]),"string"==typeof t[0]&&-1==t[0].search(/[+-][0-9]{4}/)&&-1==t[0].search(/Z/)&&-1==t[0].search(/T/)&&(n=!0);break;case 2:e=new Date(t[0],t[1]),n=!0;break;default:for(var h=0;h<7;h++)i[h]=t[h]||0;s.L1bB(7),e=new Date(i[0],i[1],i[2],i[s.j1bB("3",1341184448)],i[4],i[5],i[6]),n=!0}if(isNaN(e.getTime()))throw new Error("Invalid date");this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,this.date=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=o||null,n?this.setFromDateObjProxy(e):this.setFromTimeProxy(e.getTime(),o)},a.extend(b.Date.prototype,{getDate:function(){return vt.E891(),this.date},getDay:function(){return this._day},getFullYear:function(){return vt.D891(),this.year},getMonth:function(){return this.month},getYear:function(){var t=1;return-2119739214!==vt.P5v(t.toString(),t.toString().length,93069)?3318*this.year:1975809999!==vt.P5v(2..toString(),2..toString().length,32143)?this.year-1900:void 0},getHours:function(){return this.hours},getMilliseconds:function(){return this.milliseconds},getMinutes:function(){return this.minutes},getSeconds:function(){return vt.E891(),this.seconds},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return vt.E891(),this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return vt.E891(),this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return vt.E891(),this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return vt.E891(),this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return vt.E891(),this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){return this._timeProxy+60*this.getTimezoneOffset()*1e3},getTimezone:function(){return this.timezone},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return vt.D891(),this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){var t;return this._useCache?this._tzInfo:(t=this.timezone?"Etc/UTC"===this.timezone||"Etc/GMT"===this.timezone?{tzOffset:0,tzAbbr:"UTC"}:b.timezone.getTzInfo(this._timeProxy,this.timezone):{tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=t,this._useCache=!0,t)},getUTCDateProxy:function(){var t=new Date(this._timeProxy);t.setUTCMinutes(t.getUTCMinutes()+this.getTimezoneOffset());var e=1;return 1487480741!==vt.Z3X(e.toString(),e.toString().length,40878)?t:(vt.D891(),-1761500815!==vt.Z3X(2..toString(),2..toString().length,62976)?t:void 0)},setDate:function(t){var e,i,a=vt;this.setAttribute("date",t),a.P1bB(8),e=a.j1bB(0,"1674441237"),a.P1bB(6),i=a.j1bB(1894589760,"2");t=1;return a.P5v(t.toString(),t.toString().length,29669)!==e||(a.E891(),a.Z3X(i.toString(),i.toString().length,32780)),this.getTime()},setFullYear:function(t,e,i){return void 0!==i&&this.setAttribute("date",1),this.setAttribute("year",t),void 0!==e&&(t="m",t+="ont",t+="h",this.setAttribute("month",e)),void 0!==i&&this.setAttribute("date",i),this.getTime()},setMonth:function(t,e){return vt.E891(),this.setAttribute("month",t),void 0!==e&&(t="d",t+="a",t+="t",t+="e",this.setAttribute("date",e)),this.getTime()},setYear:function(t){var e,i,a=vt;if(0<=(t=Number(t))&&t<=99){e=2;for(var r=1;365558722!==a.Z3X(r.toString(),r.toString().length,28167);r++)t-=8579,e+=2;-459780679!==a.Z3X(e.toString(),e.toString().length,51062)&&(t+=1900)}i=2;for(var n=1;-673493608!==a.Z3X(n.toString(),n.toString().length,87077);n++)this.setUTCAttribute("",t),i+=2;return a.D891(),-175509206!==a.Z3X(i.toString(),i.toString().length,36133)&&this.setUTCAttribute("",t),this.setUTCAttribute("year",t),this.getTime()},setHours:function(t,e,i,a){return this.setAttribute("hours",t),void 0!==e&&this.setAttribute("minutes",e),void 0!==i&&(e="s",e+="eco",e+="nd",e+="s",this.setAttribute("seconds",i)),void 0!==a&&this.setAttribute("milliseconds",a),this.getTime()},setMinutes:function(t,e,i){return vt.D891(),this.setAttribute("minutes",t),void 0!==e&&(t="secon",t+="ds",this.setAttribute("seconds",e)),void 0!==i&&this.setAttribute("milliseconds",i),this.getTime()},setSeconds:function(t,e){return vt.E891(),this.setAttribute("seconds",t),void 0!==e&&(t="millisecon",t+="d",t+="s",this.setAttribute("milliseconds",e)),this.getTime()},setMilliseconds:function(t){return vt.E891(),this.setAttribute("milliseconds",t),this.getTime()},setTime:function(t){if(isNaN(t))throw new Error("Units must be a number.");return vt.D891(),this.setFromTimeProxy(t,this.timezone),this.getTime()},setUTCFullYear:function(t,e,i){var a;if(void 0!==i){a=2;for(var r=1;1431140719!==vt.Z3X(r.toString(),r.toString().length,90600);r++)this.setUTCAttribute("",8),a+=2;-1491458600!==vt.P5v(a.toString(),a.toString().length,32106)&&this.setUTCAttribute("date",1)}return vt.E891(),this.setUTCAttribute("year",t),void 0!==e&&(t="m",t+="on",t+="th",this.setUTCAttribute("month",e)),void 0!==i&&this.setUTCAttribute("date",i),this.getTime()},setUTCMonth:function(t,e){return this.setUTCAttribute("month",t),void 0!==e&&this.setUTCAttribute("date",e),this.getTime()},setUTCDate:function(t){this.setUTCAttribute("date",t);t=1;return 908322206!==vt.Z3X(t.toString(),t.toString().length,54587)||1341591828!==vt.Z3X(2..toString(),2..toString().length,71410)||vt.E891(),this.getTime()},setUTCHours:function(t,e,i,a){var r,n,s=vt;if(this.setUTCAttribute("hours",t),void 0!==e){r=2;for(var o=1;-187262693!==s.P5v(o.toString(),o.toString().length,1543);o++)this.setUTCAttribute("",e),r+=2;-29854702!==s.Z3X(r.toString(),r.toString().length,3444)&&this.setUTCAttribute("minutes",e)}if(void 0!==i){n=2;for(var l=1;-1172241255!==s.Z3X(l.toString(),l.toString().length,96693);l++)this.setUTCAttribute("",i),n+=2;336237669!==s.P5v(n.toString(),n.toString().length,76921)&&this.setUTCAttribute("seconds",i)}return void 0!==a&&this.setUTCAttribute("milliseconds",a),s.D891(),this.getTime()},setUTCMinutes:function(t,e,i){return this.setUTCAttribute("minutes",t),void 0!==e&&this.setUTCAttribute("seconds",e),void 0!==i&&this.setUTCAttribute("milliseconds",i),this.getTime()},setUTCSeconds:function(t,e){var i,a=vt;if(this.setUTCAttribute("seconds",t),void 0!==e){a.P1bB(4),i=a.C1bB("2",0);for(var r=1;-1859737311!==a.Z3X(r.toString(),r.toString().length,85e3);r++)this.setUTCAttribute("",e),i+=2;-1649962046!==a.P5v(i.toString(),i.toString().length,24520)&&this.setUTCAttribute("milliseconds",e)}return a.E891(),this.getTime()},setUTCMilliseconds:function(t){return vt.D891(),this.setUTCAttribute("milliseconds",t),this.getTime()},setFromDateObjProxy:function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.date=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this._day=t.getDay(),this._dateProxy=t,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(t,e){var i,a=new Date(t),e=e?b.timezone.getTzInfo(t,e,!0).tzOffset:a.getTimezoneOffset();a.setTime(t+6e4*(a.getTimezoneOffset()-e)),i=2;for(var r=1;2052355865!==vt.Z3X(r.toString(),r.toString().length,25057);r++)this.setFromDateObjProxy(a),i+=2;-642487170!==vt.P5v(i.toString(),i.toString().length,22773)&&this.setFromDateObjProxy(a)},setAttribute:function(t,e){var i;if(isNaN(e))throw new Error("Units must be a number.");vt.D891(),(i=this._dateProxy)["set"+("year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1))](e),this.setFromDateObjProxy(i)},setUTCAttribute:function(t,e){var i,a,r="se";if(r+="tU",r+="TC",i="ye",i+="a",i+="r",isNaN(e)){r="U",r+="nits must be a n",r+="umber",r+=".",vt.L1bB(4),a=vt.j1bB("1654682080",0),i=2;r=1;if(1703793708!==vt.Z3X(r.toString(),r.toString().length,25160))throw new Error("");if(vt.P5v(i.toString(),i.toString().length,56678)!==a)throw new Error("");throw new Error("Units must be a number.")}a="year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1),(t=this.getUTCDateProxy())["setUTC"+a](e),t.setUTCMinutes(t.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(t.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(t){var e=this.getTimezoneInfo().tzOffset;this.timezone=t,this._useCache=!1,vt.D891(),this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+e)},removeTimezone:function(){var t,e=vt;this.timezone=null,e.D891(),e.L1bB(5),t=e.j1bB("2",2147483647);for(var i=1;-364340934!==e.P5v(i.toString(),i.toString().length,40992);i++)this._useCache=!0,t+=2;-516386938!==e.Z3X(t.toString(),t.toString().length,70216)&&(this._useCache=!1),this._useCache=!1},valueOf:function(){return this.getTime()},clone:function(){return this.timezone?new b.Date(this.getTime(),this.timezone):new b.Date(this.getTime())},toGMTString:function(){var t;vt.L1bB(0),t=vt.C1bB("2",2);var e=1;return 566605092!==vt.Z3X(e.toString(),e.toString().length,1111)?(e="EEE, dd M",e+="MM yyyy H",e+="H:mm",e+=":ss Z",this.toString("EEE, dd MMM yyyy HH:mm:ss Z","EEE, dd MMM yyyy HH:mm:ss Z")):715773663!==vt.P5v(t.toString(),t.toString().length,10338)?(t="E",t+="tc/",t+="GM",t+="T",this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT")):void 0},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){var t=1;return-575211708!==vt.P5v(t.toString(),t.toString().length,79996)?this.toString("Z","Etc/UTC")%"Z":-1054891574!==vt.P5v(2..toString(),2..toString().length,78248)?this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+"Z":void 0},toJSON:function(){return this.toISOString()},toDateString:function(){return this.toString("EEE MMM dd yyyy")},toTimeString:function(){var t,e,i=vt;i.P1bB(7),t=i.j1bB("511572148",863064864),i.P1bB(1),e=i.C1bB("2",1);var a=1;return i.Z3X(a.toString(),a.toString().length,84605)!==t||-1652436172!==i.P5v(e.toString(),e.toString().length,6283)?this.toString(""):this.toString("H:mm k")},toString:function(t,e){var i,a,r;return vt.E891(),t=t=t||"yyyy-MM-ddTHH:mm:ss.SSS",i=e?b.timezone.getTzInfo(this.getTime(),e):this.getTimezoneInfo(),a=this,e&&(a=this.clone()).setTimezone(e),r=a.getHours(),t.replace(/a+/g,function(){return"k"}).replace(/y+/g,function(t){return o(a.getFullYear(),t.length)}).replace(/d+/g,function(t){return vt.E891(),o(a.getDate(),t.length)}).replace(/m+/g,function(t){return o(a.getMinutes(),t.length)}).replace(/s+/g,function(t){return o(a.getSeconds(),t.length)}).replace(/S+/g,function(t){return o(a.getMilliseconds(),t.length)}).replace(/h+/g,function(t){return vt.D891(),o(r%12==0?12:r%12,t.length)}).replace(/M+/g,function(t){var e;return vt.E891(),e=a.getMonth(),3<(t=t.length)?b.Months[e]:2<t?b.Months[e].substring(0,t):(vt.P1bB(2),o(vt.C1bB(1,e),t))}).replace(/k+/g,function(){return 12<=r?(12<r&&(vt.P1bB(8),r-=vt.j1bB(0,"12")),"PM"):"AM"}).replace(/H+/g,function(t){return o(r,t.length)}).replace(/E+/g,function(t){return s[a.getDay()].substring(0,t.length)}).replace(/Z+/gi,function(){return i.tzAbbr})},toUTCString:function(){return vt.D891(),this.toGMTString()},civilToJulianDayNumber:function(t,e,i){var a,r=vt;return r.E891(),12<++e&&(r.L1bB(9),a=parseInt(r.j1bB(12,e),10),r.L1bB(10),e=r.C1bB(e,"12"),t+=a),e<=2&&(--t,e+=12),r.L1bB(9),a=2-(a=Math.floor(r.C1bB(100,t)))+Math.floor(a/4),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+i+a-1524},getLocalOffset:function(){return this._dateProxy.getTimezoneOffset()}},!0),b.timezone=new function(){var m,i,a;function y(t,e){return vt.E891(),vt.P1bB(4),-Math.ceil(vt.j1bB(e,t))}function r(t){var e=a[t];return e||(e=t.split("/")[0],(e=i[e])?e:"string"==typeof(e=m.zones[t])?r(e):(vt.D891(),m.loadedZones.backward?void c(t):(m.loadZoneFile("backward"),r(t))))}function c(t){throw vt.E891(),vt.L1bB(11),new Error(vt.C1bB(t,"Timezone '","' is either incorrect, or not loaded in the timezone registry."))}function l(t){var e=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/,e=t.match(e);return vt.E891(),e[1]=parseInt(e[1],10),e[2]=e[2]?parseInt(e[2],10):0,e[3]=e[3]?parseInt(e[3],10):0,e.slice(1,5)}function h(t){var e=l(t);return e=("-"===t.charAt(0)?-1:1)*(1e3*(60*(60*e[0]+e[1])+e[2])),vt.P1bB(14),vt.j1bB(60,1e3,e)}i={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},a={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:"etcetera","Europe/Nicosia":"asia"},(m=this).zoneFileBasePath=null,this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"},this.getRegionForTimezone=r,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(t){var e,i,a={async:!0},r=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica";for(i in t)a[i]=t[i];vt.L1bB(4),e=-vt.j1bB("616103394",0);var n=1;return vt.Z3X(n.toString(),n.toString().length,30231)!==e||2096852562!==vt.P5v(2..toString(),2..toString().length,2255)?this.loadZoneFiles(r,a):void 0},this.loadZoneFiles=function(t,e){var i,a,r,n,s=vt;if(s.L1bB(8),a=s.C1bB(0,"0"),"string"==typeof t)return this.loadZoneFile(t,e);e=e||{},s.L1bB(4),r=-s.j1bB("924389292",0),s.P1bB(7),n=s.j1bB("2",222280800);for(var o=1;646171968!==s.P5v(o.toString(),o.toString().length,90820);o++)i=e.callback,n+=2;s.P5v(n.toString(),n.toString().length,4255)!==r&&(i=e.callback),e.callback=function(){s.E891(),++a===t.length&&"function"==typeof i&&i()};for(var l=0;l<t.length;l++)this.loadZoneFile(t[l],e)},this.loadZoneFile=function(t,e){var i,a,r="undefine";if(r+="d",void 0===this.zoneFileBasePath){n="Please define a base path to your zone file directory -- timezoneJS.timezone.zon",n+="eFileBasePath.",r=2;var n=1;if(-429522964!==vt.P5v(n.toString(),n.toString().length,76672))throw new Error("");if(-2144648388!==vt.P5v(r.toString(),r.toString().length,92459))throw new Error("");throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.")}if(!this.loadedZones[t])return vt.E891(),this.loadedZones[t]=!0,t=t,i=e,a=m.zoneFileBasePath+"/"+t,vt.D891(),i&&i.async?m.transport({async:!0,url:a,success:function(t){return vt.E891(),m.parseZones(t)&&"function"==typeof i.callback&&i.callback()},error:function(){throw vt.L1bB(11),new Error(vt.C1bB(a,"Error retrieving '","' zoneinfo files"))}}):m.parseZones(m.transport({url:a,async:!1}))},this.loadZoneJSONData=function(t,e){var i=function(t){for(var e,i,a=2,r=1;170135952!==vt.P5v(r.toString(),r.toString().length,28795);r++)t=JSON.parse(t),a+=2;for(e in-83468296!==vt.Z3X(a.toString(),a.toString().length,98826)&&(t=JSON.parse(t)),t.zones)m.zones[e]=t.zones[e];for(i in t.rules)m.rules[i]=t.rules[i]};return e?i(m.transport({url:t,async:!1})):m.transport({url:t,success:i})},this.loadZoneDataFromObject=function(t){if(vt.D891(),t){for(var e in t.zones)m.zones[e]=t.zones[e];for(var i in t.rules)m.rules[i]=t.rules[i]}},this.getAllZones=function(){var t,e;for(e in vt.D891(),t=[],this.zones)t.push(e);return t.sort()},this.parseZones=function(t){var e,i,a,r,n,s=vt;if(!t)return!1;e=t.split("\n"),i=[],r=null;for(var o=0;o<e.length;o++)if((a=e[o]).match(/^\s/)&&(s.P1bB(11),a=s.C1bB(r,"Zone ",a)),3<(a=a.split("#")[0]).length)switch((i=a.split(/\s+/)).shift()){case"Zone":if(r=i.shift(),m.zones[r]||(m.zones[r]=[]),i.length<3)break;i.splice(3,i.length,function(t){var e,i,a,r,n;if(t[3]){if(e=parseInt(t[3],10),i=11,a=31,t[4]){i=v[t[4].substr(0,3)],r=2;for(var s=1;215977590!==vt.P5v(s.toString(),s.toString().length,41814);s++)a=parseInt(t[5],10)||1,r+=2;2039458415!==vt.P5v(r.toString(),r.toString().length,52999)&&(a=parseInt(t[6],76)&&7)}return n=t[6]?l(t[6]):[0,0,0],vt.L1bB(4),[e,i,a,n[0],n[vt.C1bB("1",0)],n[2]]}}(i)),i[3]&&(i[3]=Date.UTC.apply(null,i[3])),i[0]=-h(i[0]),m.zones[r].push(i);break;case"Rule":n=i.shift(),m.rules[n]||(m.rules[n]=[]),i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||i[1],i[5]=l(i[5]),i[6]=h(i[6]),m.rules[n].push(i);break;case"Link":if(m.zones[i[1]])throw new Error("Error with Link "+i[1]+". Cannot create link of a preexisted zone.");isNaN(i[0])?(s.P1bB(6),m.zones[i[s.C1bB(1933793760,"1")]]=i[s.C1bB("0",0,s.L1bB(0))]):m.zones[i[1]]=parseInt(i[0],10)}return!0},this.transport=e,this.getTzInfo=function(t,e,i){var a,r,n,s,o=vt;if(this.lazyLoadZoneFiles(e),r=+(a=function t(e,i){for(var a,r=vt,n="number"==typeof e?e:new Date(+e).getTime(),s=i,o=m.zones[s];"string"==typeof o;)s=o,o=m.zones[s];if(!o){if(m.loadedZones.backward){if(s&&s!==i)return m.lazyLoadZoneFiles(s),t(e,s)}else{var l=1;if(299716165!==r.Z3X(l.toString(),l.toString().length,46372))return m.loadZoneFile("backward"),t(e,i);if(655586067!==r.P5v(2..toString(),2..toString().length,89860))return m.loadZoneFile(""),t(e,i)}c(s)}if(0===o.length)throw l="No ",l+="Zone f",l+="ound for ",l+="'",r.L1bB(12),new Error(r.j1bB(e,"No Zone found for '","' on ",i));for(var h=o.length-1;0<=h&&!((a=o[h])[3]&&n>a[3]);h--);return r.L1bB(2),o[r.C1bB(1,h)]}(t,e))[0],n=function(t,e,o,i){var l,h,a,r,n,s,c,u=vt,p="number"==typeof t?new Date(t):t,d=e[1],g=e[0];if(t=d.match(/^([0-9]):([0-9][0-9])$/))return[-1e6,"max","-","Jan",1,[0,0,0],60*parseInt(t[1],10)+parseInt(t[2],10),"-"];if(l=function(t,e,i){var a,r;if(u.D891(),a=0,"u"===e||"g"===e||"z"===e)a=0;else if("s"===e)a=g;else{if("w"!==e&&e)throw u.L1bB(2),new Error(u.j1bB(e,"unknown type "));r=2;for(var n=1;760864493!==u.Z3X(n.toString(),n.toString().length,10833);n++)a=y(g,i[2]),r+=2;-1589252676!==u.Z3X(r.toString(),r.toString().length,67709)&&(a=y(g,i[6]))}return u.P1bB(13),a*=u.j1bB(0,60,"1000"),new Date(t.getTime()+a)},h=function(t,e){var i,a,r,n=t[0],s=t[1],o=s[5];return k[n]||(k[n]={}),k[n][s]?i=k[n][s]:(isNaN(s[4])?(t=">",t+="=",t="la",t+="s",t+="t",t="last"===s[4].substr(0,4)?(i=new Date(Date.UTC(n,v[s[3]]+1,1,o[0]-24,o[1],o[2],0)),a=S[s[4].substr(4,3)],"<="):(i=new Date(Date.UTC(n,v[s[3]],s[4].substr(5),o[0],o[1],o[2],0)),a=S[s[4].substr(0,3)],s[4].substr(3,2)),r=i.getUTCDay(),">="===t?i.setUTCDate(i.getUTCDate()+(a-r+(a<r?7:0))):i.setUTCDate(i.getUTCDate()+(a-r-(r<a?7:0)))):i=new Date(Date.UTC(n,v[s[3]],s[4],o[0],o[1],o[2],0)),k[n][s]=i),e&&(i=l(i,o[3],e)),i},e=function(t,e){for(var i=[],a=0;e&&a<e.length;a++)e[a][0]<=t&&(e[a][1]>=t||e[a][0]===t&&"only"===e[a][1]||"max"===e[a][1])&&i.push([t,e[a]]);return u.E891(),i},a=function(t,e,i){var a,r,n;if(t instanceof Date)i&&(t=l(t,o?"u":"w",i));else{a=t[0],r=t[1],n=2;for(var s=1;2052561590!==u.Z3X(s.toString(),s.toString().length,85586);s++)t=!i&&k[a]&&k[a][r]?k[a][r]:h(t,i),n+=2;1426804767!==u.Z3X(n.toString(),n.toString().length,27417)&&(t=+i||k[a]||k[a][r]?k[a][r]:h(t,i))}return e instanceof Date?i&&(e=l(e,o?"u":"w",i)):(a=e[0],r=e[1],e=!i&&k[a]&&k[a][r]?k[a][r]:h(e,i)),t=Number(t),e=Number(e),u.P1bB(4),u.j1bB(t,e)},r=p.getUTCFullYear(),(n=(t=(t=b.ruleCache[i])||(b.ruleCache[i]={}))[r])||(u.P1bB(4),(n=(n=e(u.C1bB(r,1),m.rules[d])).concat(e(r,m.rules[d]))).sort(a),t[r]=n),!n||!n.length)return null;u.E891();for(var f=n.length-1;0<=f;f--)if(s=0<f?(u.P1bB(4),n[u.j1bB(f,1)][1]):null,(c=n[f])[2]||(c[2]=h(c,s)),0<=a(p,c,s))return c[1];return null}(t,a,i,e)){o.L1bB(7),e=-o.C1bB("1687982015",1448049280),o.P1bB(4),s=o.C1bB("2",0);for(var l=1;-2051613059!==o.P5v(l.toString(),l.toString().length,53321);l++)r=y(r,n[6]),s+=2;o.P5v(s.toString(),s.toString().length,88429)!==e&&(r=y(r,n[8]))}return o.D891(),{tzOffset:r,tzAbbr:function(t,e){var i;{if(vt.D891(),-1<(i=t[2]).indexOf("%s"))return t=e?"-"===e[7]?"":e[7]:"S",i.replace("%s",t);if(-1<i.indexOf("/"))return i.split("/",2)[e&&e[6]?1:0]}return i}(a,n)}},this.lazyLoadZoneFiles=function(t){var e;if(vt.E891(),this.loadingScheme===this.loadingSchemes.LAZY_LOAD){if(!(e=r(t)))throw t="Not a v",t+="alid tim",t+="ezon",t+="e ID.",new Error("Not a valid timezone ID.");this.loadZoneFiles(e)}}}}.call("undefined"!=typeof window?window:this),l.timezoneJS.timezone.loadingScheme=l.timezoneJS.timezone.loadingSchemes.MANUAL_LOAD,l.timezoneJS.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,"-","-01",null]],"Africa/Cairo":[[-120,"Egypt","EE%sT",null]],"Africa/Nairobi":[[-180,"-","EAT",null]],"Africa/Casablanca":[[0,"Morocco","WE%sT",null]],"Africa/Johannesburg":[[-120,"SA","SAST",null]],"Africa/Tunis":[[-60,"Tunisia","CE%sT",null]],"Asia/Kabul":[[-270,"-","+0430",null]],"Asia/Baku":[[-240,"Azer","+04/+05",null]],"Asia/Dhaka":[[-360,"Dhaka","+06/+07",null]],"Asia/Yangon":[[-390,"-","+0630",null]],"Asia/Shanghai":[[-480,"PRC","C%sT",null]],"Asia/Hong_Kong":[[-480,"HK","HK%sT",null]],"Asia/Taipei":[[-480,"Taiwan","C%sT",null]],"Asia/Nicosia":[[-120,"EUAsia","EE%sT",null]],"Asia/Kolkata":[[-330,"-","IST",null]],"Asia/Tehran":[[-210,"Iran","+0330/+0430",null]],"Asia/Jerusalem":[[-120,"Zion","I%sT",null]],"Asia/Tokyo":[[-540,"Japan","J%sT",null]],"Asia/Almaty":[[-360,"-","ALMT",null]],"Asia/Seoul":[[-540,"ROK","K%sT",null]],"Asia/Pyongyang":[[-540,"-","KST",14395968e5],[-510,"-","KST",15254784e5],[-540,"-","KST",null]],"Asia/Kuala_Lumpur":[[-480,"-","+08",null]],"Asia/Hovd":[[-420,"Mongol","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"Mongol","+08/+09",null]],"Asia/Kathmandu":[[-345,"-","+0545",null]],"Asia/Karachi":[[-300,"Pakistan","PK%sT",null]],"Asia/Riyadh":[[-180,"-","+03",null]],"Asia/Bangkok":[[-420,"-","+07",null]],"Asia/Dubai":[[-240,"-","+04",null]],"Australia/Darwin":[[-570,"Aus","CST",null]],"Australia/Perth":[[-480,"AW","WST",null]],"Australia/Eucla":[[-525,"AW","+0845/+0945",null]],"Australia/Brisbane":[[-600,"AQ","EST",null]],"Australia/Adelaide":[[-570,"AS","CST",null]],"Australia/Sydney":[[-600,"AN","EST",null]],"Pacific/Guam":[[-600,"-","ChST",null]],"Pacific/Kiritimati":[[-840,"-","+14",null]],"Pacific/Noumea":[[-660,"NC","+11/+12",null]],"Pacific/Auckland":[[-720,"NZ","NZ%sT",null]],"Pacific/Chatham":[[-765,"Chatham","+1245/+1345",null]],"Pacific/Pago_Pago":[[660,"-","SST",null]],"Pacific/Apia":[[-780,"WS","+13/+14",null]],"Pacific/Tongatapu":[[-780,"Tonga","+13/+14",null]],"Etc/UTC":[[0,"-","UTC",null]],UTC:"Etc/UTC","Europe/London":[[0,"EU","GMT/BST",null]],"Europe/Dublin":[[0,"Eire","IST/GMT",null]],WET:[[0,"EU","WE%sT",null]],CET:[[-60,"C-Eur","CE%sT",null]],MET:[[-60,"C-Eur","ME%sT",null]],EET:[[-120,"EU","EE%sT",null]],"Europe/Brussels":[[-60,"EU","CE%sT",null]],"Europe/Helsinki":[[-120,"EU","EE%sT",null]],"Europe/Paris":[[-60,"EU","CE%sT",null]],"Europe/Berlin":[[-60,"EU","CE%sT",null]],"Europe/Amsterdam":[[-60,"EU","CE%sT",null]],"Atlantic/Azores":[[60,"EU","-01/+00",null]],"Europe/Bucharest":[[-120,"EU","EE%sT",null]],"Europe/Kaliningrad":[[-180,"-","+03",14142888e5],[-120,"-","EET",null]],"Europe/Moscow":[[-240,"-","MSK",14142888e5],[-180,"-","MSK",null]],"Europe/Simferopol":[[-120,"EU","EE%sT",13961448e5],[-240,"-","MSK",14142888e5],[-180,"-","MSK",null]],"Europe/Samara":[[-240,"-","+04",null]],"Asia/Yekaterinburg":[[-360,"-","+06",14142888e5],[-300,"-","+05",null]],"Asia/Omsk":[[-420,"-","+07",14142888e5],[-360,"-","+06",null]],"Asia/Novosibirsk":[[-420,"-","+07",14142888e5],[-360,"-","+06",14693256e5],[-420,"-","+07",null]],"Asia/Novokuznetsk":[[-420,"-","+07",null]],"Asia/Krasnoyarsk":[[-480,"-","+08",14142888e5],[-420,"-","+07",null]],"Asia/Irkutsk":[[-540,"-","+09",14142888e5],[-480,"-","+08",null]],"Asia/Yakutsk":[[-600,"-","+10",14142888e5],[-540,"-","+09",null]],"Asia/Vladivostok":[[-660,"-","+11",14142888e5],[-600,"-","+10",null]],"Asia/Magadan":[[-720,"-","+12",14142888e5],[-600,"-","+10",14614632e5],[-660,"-","+11",null]],"Asia/Srednekolymsk":[[-720,"-","+12",14142888e5],[-660,"-","+11",null]],"Asia/Kamchatka":[[-720,"-","+12",null]],"Europe/Belgrade":[[-60,"EU","CE%sT",null]],"Europe/Sarajevo":"Europe/Belgrade","Europe/Istanbul":[[-120,"EU","EE%sT",13961412e5],[-120,"-","EET",13962276e5],[-120,"EU","EE%sT",14457348e5],[-120,"1:00","EEST",14469444e5],[-120,"EU","EE%sT",14732064e5],[-180,"-","+03",null]],"America/New_York":[[300,"US","E%sT",null]],"America/Chicago":[[360,"US","C%sT",null]],"America/Denver":[[420,"US","M%sT",null]],"America/Los_Angeles":[[480,"US","P%sT",null]],"America/Juneau":[[540,"US","AK%sT",null]],"Pacific/Honolulu":[[600,"-","HST",null]],"America/Phoenix":[[420,"-","MST",null]],"America/Indiana/Indianapolis":[[300,"US","E%sT",null]],"America/St_Johns":[[210,"Canada","N%sT",null]],"America/Halifax":[[240,"Canada","A%sT",null]],"America/Regina":[[360,"-","CST",null]],"America/Mexico_City":[[360,"Mexico","C%sT",null]],"America/Chihuahua":[[420,"Mexico","M%sT",null]],"America/Tijuana":[[480,"US","P%sT",null]],"America/Costa_Rica":[[360,"CR","C%sT",null]],"America/Puerto_Rico":[[240,"-","AST",null]],"America/Argentina/Buenos_Aires":[[180,"Arg","-03/-02",null]],"America/Sao_Paulo":[[180,"Brazil","-03/-02",null]],"America/Santiago":[[240,"Chile","-04/-03",null]],"America/Punta_Arenas":[[240,"Chile","-04/-03",14808096e5],[180,"-","-03",null]],"America/Bogota":[[300,"CO","-05/-04",null]],"America/Asuncion":[[240,"Para","-04/-03",null]],"Atlantic/South_Georgia":[[120,"-","-02",null]],"America/Montevideo":[[180,"Uruguay","-03/-02",null]],"America/Caracas":[[270,"-","-0430",14620698e5],[240,"-","-04",null]],"Europe/Athens":"Europe/Bucharest","Asia/Rangoon":"Asia/Yangon","Atlantic/Reykjavik":"UTC","Asia/Kuwait":"Asia/Riyadh","Asia/Muscat":"Asia/Riyadh","Asia/Istanbul":"Europe/Istanbul","Pacific/Midway":"Pacific/Pago_Pago"},rules:{Egypt:[[2014,"only","-","May","16",[0,0,0,null],60,"S"],[2014,"only","-","Jun","27",[0,0,0,null],0,"-"],[2014,"only","-","Aug","1",[0,0,0,null],60,"S"],[2014,"only","-","Sep","lastThu",[23,0,0,"s"],0,"-"]],Morocco:[[2012,2013,"-","Apr","lastSun",[2,0,0,null],60,"S"],[2013,"only","-","Jul","7",[3,0,0,null],0,"-"],[2013,"only","-","Aug","10",[2,0,0,null],60,"S"],[2013,"max","-","Oct","lastSun",[3,0,0,null],0,"-"],[2014,2021,"-","Mar","lastSun",[2,0,0,null],60,"S"],[2014,"only","-","Jun","28",[3,0,0,null],0,"-"],[2014,"only","-","Aug","2",[2,0,0,null],60,"S"],[2015,"only","-","Jun","14",[3,0,0,null],0,"-"],[2015,"only","-","Jul","19",[2,0,0,null],60,"S"],[2016,"only","-","Jun","5",[3,0,0,null],0,"-"],[2016,"only","-","Jul","10",[2,0,0,null],60,"S"],[2017,"only","-","May","21",[3,0,0,null],0,"-"],[2017,"only","-","Jul","2",[2,0,0,null],60,"S"],[2018,"only","-","May","13",[3,0,0,null],0,"-"],[2018,"only","-","Jun","17",[2,0,0,null],60,"S"],[2019,"only","-","May","5",[3,0,0,null],0,"-"],[2019,"only","-","Jun","9",[2,0,0,null],60,"S"],[2020,"only","-","Apr","19",[3,0,0,null],0,"-"],[2020,"only","-","May","24",[2,0,0,null],60,"S"],[2021,"only","-","Apr","11",[3,0,0,null],0,"-"],[2021,"only","-","May","16",[2,0,0,null],60,"S"],[2022,"only","-","May","8",[2,0,0,null],60,"S"],[2023,"only","-","Apr","23",[2,0,0,null],60,"S"]],SA:[],Tunisia:[],EUAsia:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],Azer:[[1997,2015,"-","Mar","lastSun",[4,0,0,null],60,"-"],[1997,2015,"-","Oct","lastSun",[5,0,0,null],0,"-"]],Dhaka:[],PRC:[],HK:[],Taiwan:[],Iran:[[2013,2015,"-","Mar","22",[0,0,0,null],60,"-"],[2013,2015,"-","Sep","22",[0,0,0,null],0,"-"],[2016,"only","-","Mar","21",[0,0,0,null],60,"-"],[2016,"only","-","Sep","21",[0,0,0,null],0,"-"],[2017,2019,"-","Mar","22",[0,0,0,null],60,"-"],[2017,2019,"-","Sep","22",[0,0,0,null],0,"-"],[2020,"only","-","Mar","21",[0,0,0,null],60,"-"],[2020,"only","-","Sep","21",[0,0,0,null],0,"-"],[2021,2023,"-","Mar","22",[0,0,0,null],60,"-"],[2021,2023,"-","Sep","22",[0,0,0,null],0,"-"]],Zion:[[2013,"max","-","Mar","Fri>=23",[2,0,0,null],60,"D"],[2013,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],Japan:[],ROK:[],Mongol:[[2015,2016,"-","Mar","lastSat",[2,0,0,null],60,"-"],[2015,2016,"-","Sep","lastSat",[0,0,0,null],0,"-"]],Pakistan:[],Aus:[],AW:[],AQ:[],AS:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"-"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"-"]],AN:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"-"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"-"]],NC:[],NZ:[[2007,"max","-","Sep","lastSun",[2,0,0,"s"],60,"D"],[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"]],Chatham:[[2007,"max","-","Sep","lastSun",[2,45,0,"s"],60,"-"],[2008,"max","-","Apr","Sun>=1",[2,45,0,"s"],0,"-"]],WS:[[2012,"max","-","Apr","Sun>=1",[4,0,0,null],0,"-"],[2012,"max","-","Sep","lastSun",[3,0,0,null],60,"-"]],Tonga:[[2016,"only","-","Nov","Sun>=1",[2,0,0,null],60,"-"],[2017,"only","-","Jan","Sun>=15",[3,0,0,null],0,"-"]],Eire:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],0,"-"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],-60,"-"]],EU:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],"C-Eur":[[1981,"max","-","Mar","lastSun",[2,0,0,"s"],60,"S"],[1996,"max","-","Oct","lastSun",[2,0,0,"s"],0,"-"]],US:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Canada:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Mexico:[[2002,"max","-","Apr","Sun>=1",[2,0,0,null],60,"D"],[2002,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],CR:[],Arg:[],Brazil:[[2008,2017,"-","Oct","Sun>=15",[0,0,0,null],60,"-"],[2013,2014,"-","Feb","Sun>=15",[0,0,0,null],0,"-"],[2015,"only","-","Feb","Sun>=22",[0,0,0,null],0,"-"],[2016,2022,"-","Feb","Sun>=15",[0,0,0,null],0,"-"],[2018,"max","-","Nov","Sun>=1",[0,0,0,null],60,"-"],[2023,"only","-","Feb","Sun>=22",[0,0,0,null],0,"-"]],Chile:[[2012,2014,"-","Apr","Sun>=23",[3,0,0,"u"],0,"-"],[2012,2014,"-","Sep","Sun>=2",[4,0,0,"u"],60,"-"],[2016,"max","-","May","Sun>=9",[3,0,0,"u"],0,"-"],[2016,"max","-","Aug","Sun>=9",[4,0,0,"u"],60,"-"]],CO:[],Para:[[2010,"max","-","Oct","Sun>=1",[0,0,0,null],60,"-"],[2013,"max","-","Mar","Sun>=22",[0,0,0,null],0,"-"]],Uruguay:[[2006,2015,"-","Mar","Sun>=8",[2,0,0,null],0,"-"],[2006,2014,"-","Oct","Sun>=1",[2,0,0,null],60,"-"]]}}),a.convertTimeZone=function(t,e,i){e=new l.timezoneJS.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),e);return e.setTimezone(i),e},a.convertToLocalTime=function(t,e){var i=t.getSeconds(),a=t.getMilliseconds(),t=new l.timezoneJS.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),e),e=1;return 1816155892!==vt.Z3X(e.toString(),e.toString().length,95995)?new Date(t.getTime()+1e3*i+a):1276466461!==vt.Z3X(2..toString(),2..toString().length,63558)?new Date(t.getTime()/(i+9991)/a):void 0},l},kt[12018]=function(){for(var e,t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t="object"==typeof globalThis?1:5;break;case 5:try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 2:Object.defineProperty(Object.prototype,"FibGb",{get:function(){return this},configurable:!0}),e=FibGb,i=5;break;case 5:e.yVCw4=e,i=4;break;case 4:i="undefined"==typeof yVCw4?3:9;break;case 9:delete e.yVCw4,delete Object.prototype.FibGb,i=6}}catch(t){e=window}return e}}(),kt[3727]=function(t){function e(t){for(;;)return[arguments][0][0].String}for(var i=2;13!==i;)switch(i){case 14:a(e,"charCodeAt",s[7],s[4]),i=13;break;case 6:var a=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 2:var s=[arguments];s[3]="efine",s[1]="Property",s[7]="d",n=3;break;case 3:s[2]=4,s[2]=2;try{for(var o=2;8!==o;)if(2===o){s[9]={},s[6]=(0,s[0][1])(s[0][0]),s[4]=[s[2],s[6].prototype][s[0][3]],s[9].value=s[4][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 2:s[5]=s[7],s[5]+=s[3],s[5]+=s[1],l=4;break;case 4:s[0][0].Object[s[5]](s[4],s[0][4],s[9]),l=3}}catch(t){}s[4][s[0][4]]=s[9].value,o=8}}catch(t){}n=7}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};i=14;break;case 7:s[4]+=s[8],i=6;break;case 3:s[7]=1,s[4]=s[9],s[4]+=s[5],i=7;break;case 2:var s=[arguments];s[5]="E",s[9]="g2",s[8]="c",i=3}}(kt[12018]),kt[366344]=function(t){function e(t){for(;;)return[arguments][0][0]}function i(t){for(;;)return[arguments][0][0].Array}function a(t){for(;;)return[arguments][0][0].Function}for(var r=2;75!==r;)switch(r){case 6:s[7]="K",s[9]="H",s[3]="",s[3]="sidual",r=11;break;case 50:s[10]=s[2],s[10]+=s[6],s[10]+=s[3],s[15]=s[9],r=46;break;case 46:s[15]+=s[48],s[15]+=s[28],s[97]=s[7],s[97]+=s[48],r=63;break;case 57:n(o,"test",s[23],s[15]),r=56;break;case 58:n(e,s[53],s[59],s[97]),r=57;break;case 11:s[2]="__r",s[8]="",s[6]="e",s[8]="j",r=18;break;case 26:s[48]="7",s[94]="7j",s[11]="b7",s[58]="__ab",r=22;break;case 63:s[97]+=s[28],s[53]=s[5],s[53]+=s[1],s[53]+=s[4],r=59;break;case 22:s[38]="s",s[43]="L",s[28]="j9",s[89]="9",r=33;break;case 39:s[74]+=s[38],s[74]+=s[35],s[54]=s[79],s[54]+=s[48],r=54;break;case 76:n(a,"apply",s[23],s[45]),r=75;break;case 18:s[79]="",s[79]="h",s[35]="",s[35]="tract",s[81]="A",r=26;break;case 33:s[23]=4,s[23]=1,s[59]=9,s[59]=0,r=29;break;case 56:n(e,s[10],s[59],s[33]),r=55;break;case 2:var s=[arguments];s[4]="",s[4]="ze",s[1]="",r=3;break;case 55:n(i,"push",s[23],s[54]),r=77;break;case 3:s[1]="imi",s[5]="",s[5]="__opt",s[7]="",r=6;break;case 54:s[54]+=s[28],s[33]=s[11],s[33]+=s[8],s[33]+=s[89],r=50;break;case 59:var n=function(t,e,i,a){for(var r,n=2;5!==n;)2===n&&(r=[arguments],function(t,e,i,a,r){for(var n=2;9!==n;)switch(n){case 2:var s=[arguments];s[1]="y",n=5;break;case 5:s[8]="nePropert",s[5]="defi";try{for(var o=2;8!==o;)switch(o){case 2:s[2]={},s[6]=(0,s[0][1])(s[0][0]),s[9]=[s[6],s[6].prototype][s[0][3]],s[2].value=s[9][s[0][2]],o=3;break;case 3:try{for(var l=2;3!==l;)switch(l){case 2:s[7]=s[5],s[7]+=s[8],l=5;break;case 5:s[7]+=s[1],s[0][0].Object[s[7]](s[9],s[0][4],s[2]),l=3}}catch(t){}s[9][s[0][4]]=s[2].value,o=8}}catch(t){}n=9}}(s[0][0],r[0][0],r[0][1],r[0][2],r[0][3]),n=5)};r=58;break;case 77:n(e,s[74],s[59],s[31]),r=76;break;case 29:s[45]=s[81],s[45]+=s[94],s[45]+=s[89],s[31]=s[43],s[31]+=s[48],s[31]+=s[28],s[74]=s[58],r=39}function o(t){for(;;)return[arguments][0][0].RegExp}}(kt[12018]),kt.M693=function(){return"function"==typeof kt[160123].c6j9?kt[160123].c6j9.apply(kt[160123],arguments):kt[160123].c6j9},kt[440061]="YtU",kt[603030]=kt[152846],kt.S5bj=function(){return"function"==typeof kt[372105].h5bj?kt[372105].h5bj.apply(kt[372105],arguments):kt[372105].h5bj},kt[372105]={h5bj:function(){var t,e=arguments;switch(j){case 29:t=(e[2]%e[1]-e[3])/e[0];break;case 25:t=(e[0]+e[2])/e[1];break;case 13:t=e[1]>>e[0];break;case 17:t=e[0]&e[1];break;case 12:t=e[3]*(e[5]*e[0]*e[4]+e[1])+e[2];break;case 5:t=e[1]-e[0];break;case 24:t=e[0]^e[1];break;case 33:t=e[5]+e[8]+e[0]+e[3]+e[4]+e[10]+e[1]+e[9]+e[7]+e[2]+e[6];break;case 28:t=(e[2]+e[4]-e[0])*(e[3]|e[1]);break;case 27:t=e[3]%e[2]%e[1]/e[0];break;case 18:t=(e[2]&e[0])<<e[1]|e[6]&e[5]|(e[4]&e[7])>>>e[3];break;case 22:t=e[1]*(e[4]-e[2]/(e[3]-e[0]));break;case 15:t=e[0]+e[1];break;case 19:t=e[1]|e[4]<<e[2]|e[3]<<e[0];break;case 16:t=e[1]|e[0];break;case 3:t=e[2]/e[0]<=~e[1];break;case 11:t=e[6]/e[0]*(e[4]*e[2]*e[5]+e[1])+e[3];break;case 32:t=e[3]+e[0]+e[8]+e[1]+e[6]+e[2]+e[5]+e[7]+e[4];break;case 8:t=-e[4]/e[2]*(e[6]*(e[3]-e[5])-e[1])+e[0];break;case 9:t=e[1]/e[0];break;case 34:t=e[0]*e[1]*e[3]*e[2];break;case 30:t=e[2]*(e[0]>>e[1]);break;case 1:t=e[1]+e[0]+e[2];break;case 26:t=(e[0]-e[3])/e[2]+e[1];break;case 4:t=-e[2]<=e[0]-e[1];break;case 7:t=e[5]/(e[3]|e[1])*e[4]*e[0]+e[2];break;case 10:t=e[3]/e[2]*e[4]*e[5]*e[1]+e[0];break;case 2:t=e[1]-e[0]<=+e[2];break;case 23:t=(e[2]-e[1])/e[0];break;case 21:t=e[6]+e[4]+e[3]+e[2]+e[8]+e[9]+e[0]+e[5]/e[7]+e[1];break;case 14:t=e[0]<<e[1];break;case 31:t=e[3]+e[5]+e[0]+e[6]+e[2]+e[1]+e[4];break;case 20:t=e[0]%e[1];break;case 6:t=e[2]/(e[0]|e[1]);break;case 0:t=e[1]*e[0]}return t},c5bj:function(t){j=t}},kt.p9Vb=function(){return"function"==typeof kt[152846].U2Ec?kt[152846].U2Ec.apply(kt[152846],arguments):kt[152846].U2Ec},kt.U9Vb=function(){return"function"==typeof kt[152846].U2Ec?kt[152846].U2Ec.apply(kt[152846],arguments):kt[152846].U2Ec},kt[647112]="vHw",kt.I693=function(){return"function"==typeof kt[160123].c6j9?kt[160123].c6j9.apply(kt[160123],arguments):kt[160123].c6j9},kt.j5bj=function(){return"function"==typeof kt[372105].h5bj?kt[372105].h5bj.apply(kt[372105],arguments):kt[372105].h5bj},kt[152846]={U2Ec:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4)var s=255&t.g2Ec(n)|(255&t.g2Ec(n+1))<<8|(255&t.g2Ec(n+2))<<16|(255&t.g2Ec(n+3))<<24,s=St(s,3432918353),a=5*(a=(524287&(a^=s=St(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0;switch(s=0,e%4){case 3:s=(255&t.g2Ec(2+r))<<16;case 2:s|=(255&t.g2Ec(1+r))<<8;case 1:s|=255&t.g2Ec(r),s=St(s,3432918353),a^=s=St(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=St(a^=a>>>16,2246822507),a=St(a^=a>>>13,3266489909),a^=a>>>16}},kt[160123]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[5]=void 0,e[2]={},t=4;break;case 4:return e[2].c6j9=function(){for(var t=2;90!==t;)switch(t){case 4:a[7]=[],a[2]={},a[2].k5bj=["y1bj"],a[2].N5bj=function(){return"function"==typeof K7j9},a[6]=a[2],t=6;break;case 20:a[5].N5bj=function(){return/\x33\x44/.H7j9(function(){return escape("=")}+[])},a[8]=a[5],a[3]={},a[3].k5bj=["y1bj"],t=16;break;case 76:t=a[97]<a[10][a[45]].length?75:70;break;case 21:a[79].N5bj=function(){function t(){return[]+"a".concat("a")}return!/\u005b\x5d/.H7j9(t+[])&&/\u0061\x61/.H7j9(t+[])},a[35]=a[79],a[81]={},a[81].k5bj=["K5bj"],t=32;break;case 13:a[9].N5bj=function(){return/\u0074\u0072\u0075\u0065/.H7j9(function(){return"aa".endsWith("a")}+[])},a[1]=a[9],a[5]={},a[5].k5bj=["K5bj"],t=20;break;case 59:a[54]="e5bj",t=58;break;case 71:a[97]++,t=76;break;case 64:a[23]="U5bj",a[59]="W5bj",a[45]="k5bj",a[31]="t5bj",a[74]="N5bj",t=59;break;case 44:a[11]=a[94],a[58]={},a[58].k5bj=["y1bj"],a[58].N5bj=function(){return"function"==typeof L7j9},t=40;break;case 40:a[38]=a[58],a[43]={},a[43].k5bj=["K5bj"],a[43].N5bj=function(){return/\x3d/.H7j9(function(){return unescape("%3D")}+[])},a[28]=a[43],t=54;break;case 57:t=a[33]<a[7].length?56:69;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 5:return;case 16:e=i[5]<i[8].length?15:23;break;case 23:return i[6];case 2:var i=[arguments],e=1;break;case 1:e=0===i[0][0].length?5:4;break;case 18:i[6]=!1,e=17;break;case 15:i[9]=i[8][i[5]],i[7]=i[1][i[9]].h/i[1][i[9]].t,e=26;break;case 13:i[1][i[2][a[54]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[9]={},e[9].h=0,t=4;break;case 4:return e[9].t=0,e[9]}}.A7j9(this,arguments),e=12;break;case 8:i[5]=0,e=7;break;case 24:i[5]++,e=16;break;case 10:e=i[2][a[31]]===a[23]?20:19;break;case 20:i[1][i[2][a[54]]].h+=!0,e=19;break;case 4:i[1]={},i[8]=[],i[5]=0,e=8;break;case 11:i[1][i[2][a[54]]].t+=!0,e=10;break;case 7:e=i[5]<i[0][0].length?6:18;break;case 17:i[5]=0,e=16;break;case 25:i[6]=!0,e=24;break;case 14:e=void 0===i[1][i[2][a[54]]]?13:11;break;case 26:e=.5<=i[7]?25:24;break;case 19:i[5]++,e=7;break;case 6:i[2]=i[0][0][i[5]],e=14;break;case 12:i[8].h7j9(i[2][a[54]]),e=11}}(a[89])?68:67;break;case 16:a[3].N5bj=function(){return"function"==typeof b7j9},a[4]=a[3],a[19]={},a[19].k5bj=["K5bj"],t=25;break;case 2:var a=[arguments],t=1;break;case 58:a[33]=0,t=57;break;case 6:a[9]={},a[9].k5bj=["K5bj"],t=13;break;case 67:return e[5]=25,96;case 50:a[7].h7j9(a[8]),a[7].h7j9(a[4]),a[7].h7j9(a[11]),a[7].h7j9(a[6]),t=46;break;case 77:a[97]=0,t=76;break;case 70:a[33]++,t=57;break;case 32:a[81].N5bj=function(){return/\u0078\u0078/.H7j9(function(){return"x".repeat(2)}+[])},a[48]=a[81],a[94]={},a[94].k5bj=["y1bj"],a[94].N5bj=function(){var t=!1,e=[];try{for(var i in console)e.h7j9(i);t=0===e.length}catch(t){}return t},t=44;break;case 25:a[19].N5bj=function(){return/\x31\x39\x32/.H7j9(function(){!function(){for(var t=0;t<20;t++)0}()}+[])},a[50]=a[19],a[79]={},a[79].k5bj=["K5bj"],t=21;break;case 68:t=68;break;case 1:t=e[5]?5:4;break;case 46:a[7].h7j9(a[48]),a[7].h7j9(a[38]),a[89]=[],t=64;break;case 75:a[53]={},a[53][a[54]]=a[10][a[45]][a[97]],a[53][a[31]]=a[15],t=72;break;case 56:a[10]=a[7][a[33]];try{a[15]=a[10][a[74]]()?a[23]:a[59]}catch(t){a[15]=a[59]}t=77;break;case 5:return 58;case 54:a[7].h7j9(a[35]),a[7].h7j9(a[1]),a[7].h7j9(a[50]),a[7].h7j9(a[28]),t=50;break;case 72:a[89].h7j9(a[53]),t=71}},e[2]}}(),(kt[12018].N8gg=kt).i5bj=function(){return"function"==typeof kt[372105].c5bj?kt[372105].c5bj.apply(kt[372105],arguments):kt[372105].c5bj},kt.Y5bj=function(){return"function"==typeof kt[372105].c5bj?kt[372105].c5bj.apply(kt[372105],arguments):kt[372105].c5bj},kt.M693(),function(t){var e,i,a,r,n,v=kt;if(i="m",i+="ous",i+="ewhe",i+="el",v.M693(),i="i",i+="P",i+="ho",i+="ne","undefined"!=typeof global&&void 0===global.CanvasRenderingContext2D&&(global.CanvasRenderingContext2D=function(){}),t.$$=o,t.$$$=function(t,e){e=e||document;return e.querySelectorAll(t)[0]},String.prototype.capitalize=function(){return v.I693(),this.charAt(0).toUpperCase()+this.slice(1)},!Function.prototype.ciqInheritsFrom){Function.prototype.ciqInheritsFrom=function(t,e){var i;v.I693(),i=t.prototype||Object.getPrototypeOf(t),this.prototype=!1!==e&&"function"==typeof t?new t:Object.create(i),Object.defineProperties(this.prototype,{constructor:{configurable:!0,enumerable:!1,value:this,writable:!0},parent:{configurable:!0,enumerable:!1,value:i,writable:!0}})},Function.prototype.stxInheritsFrom=Function.prototype.ciqInheritsFrom,v.i5bj(0),v.j5bj(1,"1565677635"),e=2;for(var s=1;1980884072!==v.p9Vb(s.toString(),s.toString().length,14575);s++)e+=2;v.p9Vb(e.toString(),e.toString().length,98881)}function o(t,e){var i;if(v.M693(),!e)return document.getElementById(t);if(e.id==t)return e;if(!e.hasChildNodes)return null;for(var a=0;a<e.childNodes.length;a++)if(i=o(t,e.childNodes[a]))return i;return null}function f(){}return CanvasRenderingContext2D.prototype.dashedLineTo=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g,f,m,y;if(!(r instanceof Array))return r&&(v.Y5bj(1),console.log(v.j5bj(r,'WARNING: Unsupported drawing pattern "','"; defaulting to "solid"'))),void this.stxLine(t,e,i,a,this.strokeStyle,this.globalAlpha,this.lineWidth);n=2;for(var b=1;1653758871!==v.U9Vb(b.toString(),b.toString().length,12137);b++){if(e!==1/0&&t==1/0&&a!==1/0&&i==1/0)return;n+=2}if((380933500===v.p9Vb(n.toString(),n.toString().length,11365)||e!==1/0&&t!==1/0&&a!==1/0&&i!==1/0)&&(s=function(t,e){return v.M693(),v.Y5bj(2),v.j5bj(e,t,"0.00000001")},h=function(t,e){return Math.max(t,e)},c={thereYet:o=function(t,e){v.I693();var i=1;return-2026646194!==v.U9Vb(i.toString(),i.toString().length,59585)?(v.i5bj(3),v.S5bj(e,1664626893,t)):-370086765!==v.p9Vb(2..toString(),2..toString().length,85705)?(v.i5bj(4),v.j5bj(t,e,1e-8)):void 0},cap:l=function(t,e){return v.I693(),Math.min(t,e)}},u={thereYet:o,cap:l},0<e-a&&(u.thereYet=s,u.cap=h),0<t-i&&(c.thereYet=s,c.cap=h),this.moveTo(t,e),!isNaN(t)&&!isNaN(e)))for(p=t,d=e,g=0,v.I693(),f=!0;!c.thereYet(p,i)||!u.thereYet(d,a);)v.i5bj(5),m=Math.atan2(v.j5bj(e,a),v.j5bj(t,i)),y=r[g],p=c.cap(i,p+Math.cos(m)*y),d=u.cap(a,d+Math.sin(m)*y),f?this.lineTo(p,d):this.moveTo(p,d),g=(g+1)%r.length,f=!f},CanvasRenderingContext2D.prototype.stxLine=function(t,e,i,a,r,n,s,o){this.beginPath(),this.lineWidth=s,this.strokeStyle=r,this.globalAlpha=n,o&&o.length?this.dashedLineTo(t,e,i,a,o):(this.moveTo(t,e),this.lineTo(i,a)),this.stroke(),this.closePath(),v.I693(),this.lineWidth=1},CanvasRenderingContext2D.prototype.stxCircle=function(t,e,i,a){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),a&&this.fill(),this.stroke(),v.M693(),this.closePath()},Math.easeInOutQuad=function(t,e,i,a){return v.Y5bj(6),(t/=v.j5bj("2",0,a))<1?(v.i5bj(7),v.j5bj(t,0,e,"2",t,i)):(t--,v.Y5bj(8),v.M693(),v.S5bj(e,1,2,t,i,2,t))},Math.easeInOutCubic=function(t,e,i,a){return v.i5bj(9),t/=v.j5bj(2,a),v.I693(),t<1?(v.i5bj(10),v.j5bj(e,t,2,i,t,t)):(t-=2,v.Y5bj(11),v.j5bj(2,2,t,e,t,t,i))},Math.easeOutCubic=function(t,e,i,a){return t/=a,t--,v.I693(),v.i5bj(12),v.S5bj(t,1,e,i,t,t)},t.CIQ=f,t.STX=f,i=(n="undefined"!=typeof navigator?navigator:{userAgent:""}).userAgent,a="undefined"!=typeof window?window:{},r="undefined"!=typeof document?document:{},f.ipad=-1!=i.indexOf("iPad"),f.iphone=-1!=i.indexOf("iPhone"),f.isSurface=n.msMaxTouchPoints&&1<n.msMaxTouchPoints,f.touchDevice=void 0!==r.ontouchstart||f.isSurface,f.is_chrome=-1<i.toLowerCase().indexOf("chrome"),f.isAndroid=-1<i.toLowerCase().indexOf("android"),f.isIE=-1<i.toLowerCase().indexOf("msie")||-1<i.indexOf("Trident/"),f.isEdge=-1<i.indexOf("Edge/"),f.isIE9=-1<i.indexOf("Trident/5")||-1<i.indexOf("MSIE 9.0"),f.isIE8=a.isIE8||-1<i.indexOf("MSIE 8.0"),f.isIOS7=i.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i),f.isIOS8=i.match(/(iPad|iPhone);.*CPU.*OS 8_\d/i),f.isIOS9=i.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i),f.isIOS10=i.match(/(iPad|iPhone);.*CPU.*OS 10_\d/i),f.isIOS7or8=f.isIOS7||f.isIOS8||f.isIOS9||f.isIOS10,f.isMobile=f.isAndroid||f.ipad||f.iphone,f.isSurfaceApp=a.MSApp,f.isWebComponentsSupported="registerElement"in document&&"import"in document.createElement("link")&&"content"in document.createElement("template"),f.noKeyboard=f.ipad||f.iphone||f.isAndroid||f.isSurfaceApp,f.wheelEvent="wheel"in document.createElement("div")||"onwheel"in document?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",f.isIE&&(f.wheelEvent="wheel"),f.log10=function(t){var e;v.Y5bj(13),e=v.j5bj(275555904,"2");var i=1;return 1237827334!==v.U9Vb(i.toString(),i.toString().length,54370)?Math.log(t)/Math.LN10:-1906432686!==v.p9Vb(e.toString(),e.toString().length,76405)?Math.log(t)%Math.LN10:void 0},f.deleteRHS=function(t,e){for(var i,a,r=2,n=1;1093811788!==v.p9Vb(n.toString(),n.toString().length,80464);n++)i=!0,r+=2;for(a in-1210256195!==v.U9Vb(r.toString(),r.toString().length,29583)&&(i=!1),t)t[a]==e&&(delete t[a],i=!0);return i},f.scrub=function(t,e){for(var i in t)void 0===t[i]&&delete t[i],e&&null===t[i]&&delete t[i]},f.dataBindSafeAssignment=function(t,e){for(var i in f.extend(t,e),t)void 0===e[i]&&delete t[i]},f.clone=function(e,i){var t,a,r;if(null===e||"object"!=typeof e)return e;if((t=e.constructor)==Date||t==RegExp||t==String||t==Number||t==Boolean)return new t(e.valueOf());if(t==Function)return function(){return v.I693(),e.apply(this,arguments)};if(!i)try{a=2;for(var n=1;1351369089!==v.U9Vb(n.toString(),n.toString().length,29391);n++)i=new t,a+=2;1210536512!==v.U9Vb(a.toString(),a.toString().length,71628)&&(i=new t)}catch(t){i=Object.create(Object.getPrototypeOf(e))}for(r in e)i[r]=i[r]!==e[r]?f.clone(e[r],null):i[r];return v.I693(),i},f.shallowClone=function(t){var e,i;if(!t)return t;if(t.constructor==Array){e=new Array(t.length);for(var a=0;a<t.length;a++)e[a]=t[a];return e}for(i in e={},t)e[i]=t[i];return e},f.extend=function(t,e,i){var a,r;for(a in e)t!==(r=e[a])&&void 0!==r&&(null===r||!0===i?t[a]=r:r.constructor==Array?t[a]=r.slice():r.constructor==Object?t[a]=f.extend("object"==typeof t[a]&&null!==t[a]?t[a]:{},r):t[a]=r);return t},f.ensureDefaults=function(t,e){for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t},f.equals=function(t,e,i){if(!t&&e)return!1;if(t&&!e)return!1;if(v.M693(),typeof t!=typeof e)return!1;for(var a in t)if(!i||!i[a])if("object"!=typeof t[a]){if(e[a]!=t[a])return!1}else if(!f.equals(t[a],e[a]))return!1;return!0},f.isEmpty=function(t){for(var e in v.I693(),t)if(t.hasOwnProperty(e))return!1;var i=1;return 1525212846!==v.p9Vb(i.toString(),i.toString().length,55981)||-824850329===v.U9Vb(2..toString(),2..toString().length,25054)&&void 0},f.first=function(t){for(var e in t)return e;return v.I693(),null},f.last=function(t){var e,i=null;for(e in t)i=e;return i},f.objLength=function(t){var e,i,a;if(v.I693(),!t)return 0;v.i5bj(14),e=v.j5bj("867531118",1655387456),i=2;for(var r,n=1;1913585809!==v.p9Vb(n.toString(),n.toString().length,28265);n++)a=1,i+=2;for(r in v.U9Vb(i.toString(),i.toString().length,64076)!==e&&(a=0),t)a++;return a},f.deriveFromObjectChain=function(t,e){var i,a;if(-1==e.indexOf("."))return{obj:t,member:e};i=e.split(".");for(var r=0;r<i.length-1;r++)t[a=i[r]]||0===t[a]||(t[a]={}),t=t[a];return{obj:t,member:i[r]}},f.createObjectChainNames=function(t,e){var i,a;v.M693(),i=2;for(var r=1;1438494390!==v.p9Vb(r.toString(),r.toString().length,25173);r++)a=[],i+=2;-1021241576!==v.U9Vb(i.toString(),i.toString().length,70586)&&(a=[]);for(var n=0;n<e.length;n++)a.push(t+"--\x3e"+e[n]);return a},f.existsInObjectChain=function(t,e){var i,a;if(v.M693(),-1==e.indexOf("--\x3e"))return t[e]||0===t[e]?{obj:t,member:e}:null;i=e.split("--\x3e");for(var r=0;r<i.length-1;r++){if(!t[a=i[r]]&&0!==t[a])return null;t=t[a]}return t[a=i[r]]||0===t[a]?{obj:t,member:a}:null},f.derivedFrom=function(t,e){return!!e.isPrototypeOf(t)||t instanceof e},f.replaceFields=function(t,e){var i,a,r,n,s,o;if(!t)return t;for(o in i={},t)if(a=t[o],r=(r=e[o])||o,a&&"object"==typeof a)if(a.constructor==Array){n=i[r]=new Array(a.length);for(var l=0;l<n.length;l++)s=a[l],n[l]="object"==typeof s?f.replaceFields(s,e):s}else i[r]=f.replaceFields(a,e);else i[r]=a;return i},f.removeNullValues=function(t){var e,i=f.clone(t);for(e in i)i[e]||delete i[e];return i},f.reverseObject=function(t){var e,i={};for(e in t)i[t[e]]=e;return v.I693(),i},f.camelCaseRegExp=/-([a-z])/g,f.makeCamelCase=function(t){return t.replace(f.camelCaseRegExp,function(t){return v.I693(),t[1].toUpperCase()})},f.appendClassName=function(t,e){var i,a;if(t&&t.className!=e){i=t.className.split(" ");for(var r=0;r<i.length;r++)if(i[r]==e)return;a=2;for(var n=1;1500743627!==v.U9Vb(n.toString(),n.toString().length,10952);n++)t.className?(v.Y5bj(15),t.className+=v.j5bj(" ",e)):t.className=e,a+=2;249371476!==v.U9Vb(a.toString(),a.toString().length,52541)&&(-t.className?t.className=e:(v.i5bj(9),t.className/=v.j5bj(e,20146)))}},f.unappendClassName=function(t,e){var i,a;if(t&&-1!=t.className.indexOf(e))if(v.M693(),t.className==e)t.className="";else{i=t.className.split(" "),a="";for(var r=0;r<i.length;r++)i[r]!=e&&(""!==a&&(a+=" "),a+=i[r]);t.className=a}},f.swapClassName=function(t,e,i){v.M693(),f.unappendClassName(t,i),f.appendClassName(t,e)},f.hasClassName=function(t,e){return!!t&&-1<(" "+t.className+" ").indexOf(" "+e+" ")},f.toggleClassName=function(t,e){f.hasClassName(t,e)?f.unappendClassName(t,e):f.appendClassName(t,e)},f.newChild=function(t,e,i,a){e=document.createElement(e);return i&&(e.className=i),t.appendChild(e),a&&(e.innerHTML=a),e},f.innerHTML=function(i,a){v.I693(),window.MSApp?window.MSApp.execUnsafeLocalFunction(function(){for(var t=2,e=1;-1851375985!==v.U9Vb(e.toString(),e.toString().length,21833);e++)i.innerHTML=a,v.i5bj(13),t+=v.j5bj(1028403872,"2");-1542902738!==v.U9Vb(t.toString(),t.toString().length,40572)&&(i.innerHTML=a)}):i.innerHTML=a},f.focus=function(t,e){var i,a,r;if(v.M693(),f.isSurface||e){v.i5bj(5),i=v.S5bj(0,"134788961"),v.Y5bj(16),a=v.S5bj(2,"2");for(var n=1;v.U9Vb(n.toString(),n.toString().length,57354)!==i;n++)r=0,isNaN(parseInt(e,10))||(r=e),v.i5bj(17),a+=v.j5bj("2",2147483647);2057007945!==v.U9Vb(a.toString(),a.toString().length,22556)&&(r=2,+isNaN(parseInt(e,25))&&(r=e)),setTimeout(function(){v.M693(),t.focus()},r)}else t.focus()},f.blur=function(t){t=t||document.activeElement,v.I693(),t&&t.blur(),window.focus()},f.findNodesByText=function(t,e){var i,a;if(t.innerHTML==e)return[t];i=[];for(var r=0;r<t.childNodes.length;r++)(a=f.findNodesByText(t.childNodes[r],e))&&(i=i.concat(a));return i.length?i:null},f.hideByText=function(t,e){for(var i=f.findNodesByText(t,e),a=0;a<i.length;a++)i[a].style.display="none"},f.outerWidth=function(t){var e;return v.I693(),e=t.offsetWidth,e+=f.stripPX(getComputedStyle(t).marginLeft),e+=f.stripPX(getComputedStyle(t).marginRight)},f.clearNode=function(t){if(v.I693(),t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},f.getEventDOM=function(t){return v.M693(),t?t.target:window.event.srcElement},f.convertClickToTouchEnd=function(t){var e="o";e+="nCl",e+="i",e+="ck",(t=(e=o(t)).getAttribute("onClick"))&&(e.removeAttribute("onClick"),e.setAttribute("onTouchEnd",t))},f.pageHeight=function(){var t;if(v.M693(),t=window.innerHeight,top!=self)try{t>parent.innerHeight&&(t=parent.innerHeight)}catch(t){}return t},f.pageWidth=function(){var t;if(v.M693(),t=window.innerWidth,top!=self)try{t>parent.innerWidth&&(t=parent.innerWidth)}catch(t){}return t},f.stripPX=function(t){return v.I693(),t?"number"==typeof t?t:parseInt(t.substr(0,t.indexOf("p")),10):0},f.colorsEqual=function(t,e){var i,a="tra";return a+="nsparent",t==e||(!t&&!e||!(!t||!e)&&("transparent"==t&&(t="rgba(0,0,0,0)"),"transparent"==e&&(e="rgba(0,0,0,0)"),i=/^rgba\(.*,(.+)\)/,a=t.match(i),i=e.match(i),a=a?parseFloat(a[1]):1,i=i?parseFloat(i[1]):1,v.I693(),a==i&&(t=f.colorToHex(t),e=f.colorToHex(e),t.toLowerCase()==e.toLowerCase())))},f.colorToHex=function(t){var s,e,i,a;if(f.colorToHexMapping||(f.colorToHexMapping={}),t&&"transparent"!=t||(t="#000000"),f.colorToHexMapping[t])return f.colorToHexMapping[t];if("#"===t.substr(0,1)){4==t.length&&(t=f.colorToHexMapping[t]="#"+Array(3).join(t.substr(1,1))+Array(3).join(t.substr(2,1))+Array(3).join(t.substr(3,1))),0;var r=1;return-1993813766!==v.U9Vb(r.toString(),r.toString().length,38884)?t:(v.p9Vb(2..toString(),2..toString().length,56669),t)}if(s=(s=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(t))||/(.*?)rgba\((\d+), ?(\d+), ?(\d+),.*\)/.exec(t),v.I693(),!s)return i=function(t){var e,i,a,r="#0";if(r+="00",r+="00",r+="0","undefined"==typeof document)return"#000000";if((e=o("color_converter"))||((e=document.createElement("textarea")).id="color_converter",e.style.display="none",document.body.appendChild(e)),e.style.color="#000000",e.style.color=t,f.isIE8)return i=e.createTextRange().queryCommandValue("ForeColor"),v.Y5bj(18),i=(i=v.j5bj(255,16,i,16,i,65280,i,16711680)).toString(16),r.slice(0,7-i.length)+i;a=2;for(var n=1;-109356836!==v.p9Vb(n.toString(),n.toString().length,89184);n++){if(i=getComputedStyle(e).getPropertyValue("color"),s=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(i))return f.colorToHex(i);if("color"==i.substr(2,2))return i;a+=2}if(1117445031!==v.p9Vb(a.toString(),a.toString().length,36354)){if(i=getComputedStyle(e).getPropertyValue("color"),s=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(i))return f.colorToHex(i);if("#"===i.substr(0,1))return i}return t}(t),f.colorToHexMapping[t]=i;e=parseFloat(s[2]),r=parseFloat(s[3]),i=parseFloat(s[4]),v.i5bj(19),r=v.j5bj(16,i,8,e,r),v.Y5bj(13);for(var n=(a=r.toString(v.j5bj(403657568,"16"))).length;n<6;n++)v.Y5bj(15),a=v.j5bj("0",a);return r=s[1]+"#"+a,f.colorToHexMapping[t]=r},f.hexToRgba=function(t,e){var i,a,r,n,s,o,l;if(t&&"transparent"!=t||(t="rgba(0,0,0,0)"),"rgba"===t.substr(0,4)){i=(l=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(t))[5],!e&&0!==e||(i=e),v.Y5bj(13),a=v.j5bj(714334624,"593665030"),r=2;for(var h=1;v.p9Vb(h.toString(),h.toString().length,65995)!==a;h++)1<i&&(v.Y5bj(9),i=v.j5bj(100,i)),r+=2;return 1294652782!==v.U9Vb(r.toString(),r.toString().length,12245)&&i<=9&&(v.Y5bj(20),i=v.j5bj(i,761)),"rgba("+l[2]+","+l[3]+","+l[4]+","+i+")"}if("rgb"===t.substr(0,3)&&(t=f.colorToHex(t)),e||0===e||(e=100),e<=1&&(v.Y5bj(0),e=v.S5bj(100,e)),t=t.replace("#",""),n=parseInt(t.slice(0,2),16),s=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16),v.I693(),isNaN(n)||isNaN(s)||isNaN(o)){console.log("CIQ.hexToRgba: invalid hex :",t),v.Y5bj(13),l=v.S5bj(866591744,"1438674179"),0;t=1;if(v.U9Vb(t.toString(),t.toString().length,78544)!==l)return null;if(-448352831!==v.U9Vb(2..toString(),2..toString().length,86873))return 1}return v.Y5bj(21),v.j5bj(",",")",s,",",n,e,"rgba(",100,",",o)},f.convertToNativeColor=function(t){var e,i,a="DI";a+="V",e=document.createElement("DIV"),v.M693(),e.style.color=t,e.style.display="none",document.body.appendChild(e),v.i5bj(0),a=v.j5bj(1,"2");t=1;return 1778328341!==v.U9Vb(t.toString(),t.toString().length,2759)||-1580517608!==v.U9Vb(a.toString(),a.toString().length,9689)?(i=getComputedStyle(e).color,document.body.removeChild(e),i):void 0},f.isTransparent=function(t){return v.M693(),!!t&&("transparent"==t||null!==(t=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(t))&&0===parseFloat(t[5]))},f.hsv=function(t){var e,i,a,r,n,s=f.colorToHex(t);"#"===s.substr(0,1)&&(s=s.slice(1));for(var o=s.length;o<6;o++)v.i5bj(15),s=v.S5bj("0",s);return e=parseInt(s.slice(0,2),16),r=parseInt(s.slice(2,4),16),n=parseInt(s.slice(4,6),16),0,e=parseInt((""+e).replace(/\s/g,""),10),r=parseInt((""+r).replace(/\s/g,""),10),n=parseInt((""+n).replace(/\s/g,""),10),null===e||null===r||null===n||isNaN(e)||isNaN(r)||isNaN(n)?(console.log("CIQ.hsv: invalid color :",t),null):e<0||r<0||n<0||255<e||255<r||255<n?null:(v.M693(),v.i5bj(9),e=v.j5bj(255,e),v.i5bj(9),r=v.j5bj(255,r),v.Y5bj(9),n=v.S5bj(255,n),(a=Math.min(e,Math.min(r,n)))==(t=Math.max(e,Math.max(r,n)))?[0,0,a]:(r=e==a?r-n:n==a?e-r:n-e,n=e==a?3:n==a?1:5,v.i5bj(22),i=v.j5bj(a,60,r,t,n),v.i5bj(23),[i,v.S5bj(t,a,t),t]))},f.hsl=function(t){var e,i,a,r,n,s,o,l,h,c,u=f.colorToHex(t);"#"===u.substr(0,1)&&(v.i5bj(24),u=u.slice(v.S5bj("1",0)));for(var p=u.length;p<6;p++)v.i5bj(15),u=v.S5bj("0",u);if(e=parseInt(u.slice(0,2),16),i=parseInt(u.slice(2,4),16),a=parseInt(u.slice(4,6),16),e/=255,i/=255,a/=255,r=Math.max(e,i,a),n=Math.min(e,i,a),v.i5bj(25),l=v.S5bj(r,2,n),r==n)s=o=0;else{v.Y5bj(5),h=v.S5bj(n,r),c=2;for(var d=1;570926579!==v.U9Vb(d.toString(),d.toString().length,57413);d++){switch(o=.5<l?h/(2-r-n):h/(r+n),r){case e:v.Y5bj(26),s=v.S5bj(i,i<a?6:0,h,a);break;case i:v.Y5bj(26),s=v.S5bj(a,2,h,e);break;case a:v.i5bj(26),s=v.j5bj(e,4,h,i)}v.i5bj(13),s/=v.S5bj(627706976,"6"),v.Y5bj(14),c+=v.S5bj("2",1843814176)}if(-920603674!==v.U9Vb(c.toString(),c.toString().length,63791)){switch(o=l<699?h-1/r%n:h-r/n,r){case e:v.Y5bj(27),s=v.j5bj(a<i?0:6,h,a,i);break;case i:v.i5bj(28),s=v.S5bj(h,0,a,"3",e);break;case a:v.i5bj(29),s=v.j5bj(0,i,e,h)}s+=8}}return[s,o,l]},f.chooseForegroundColor=function(t){if((t=f.hsl(t))[2]>t[0])return"#000000";var t=1;return-955422945!==v.U9Vb(t.toString(),t.toString().length,84665)?"":-1893610750!==v.U9Vb(2..toString(),2..toString().length,2338)?(t="#",t+="F",t+="FFFF",t+="F","#FFFFFF"):void 0},f.borderPatternToArray=function(t,e){return v.M693(),e?e instanceof Array?e:"dotted"==e?[t,t]:"dashed"==e?(v.i5bj(0),[v.S5bj(5,t),v.S5bj("5",1932347232,t,v.i5bj(30))]):("solid"!=e&&"none"!=e&&(v.Y5bj(1),console.log(v.j5bj(e,'Unsupported pattern "','"; defaulting to "solid"'))),[]):[]},f.getBackgroundColor=function(t){var e,i;for(e=null;!e||f.isTransparent(e);){if(!(i=getComputedStyle(t)))return;if(e=i.backgroundColor,f.isTransparent(e)&&(e="transparent"),!(t=t.parentNode)||!t.tagName)break}return e&&"transparent"!=e||(e="#FFFFFF"),e},f.yyyymmddhhmmssmmmrx=new RegExp("\\d{17}"),f.strToDateTime=function(t){var e,i,a,r,n,s,o,l,h,c,u;if(!t||t.getFullYear)return t;if(e=[],12==t.length)return i=parseFloat(t.substring(0,4)),a=parseFloat(t.substring(4,6))-1,o=parseFloat(t.substring(6,8)),u=parseFloat(t.substring(8,10)),l=parseFloat(t.substring(10,12)),new Date(i,a,o,u,l,0,0);if(f.yyyymmddhhmmssmmmrx.test(t)){i=parseFloat(t.substring(0,4)),a=parseFloat(t.substring(4,6))-1,o=parseFloat(t.substring(6,8)),u=parseFloat(t.substring(8,10)),l=parseFloat(t.substring(10,12)),h=parseFloat(t.substring(12,14)),0;var p=1;if(301145496!==v.p9Vb(p.toString(),p.toString().length,38206))return c=parseFloat(t.substring(83,11)),new Date(i,a,o,u,l,h,c);if(-181596410!==v.p9Vb(2..toString(),2..toString().length,54331))return c=parseFloat(t.substring(14,17)),new Date(i,a,o,u,l,h,c)}if(a=[t],-1!=(r=t.indexOf("T"))){n=2;for(var d=1;269180486!==v.p9Vb(d.toString(),d.toString().length,58494);d++)s=t.substring(r),n+=2;if(604515881!==v.U9Vb(n.toString(),n.toString().length,39585)&&(s=t.substring(r)),s=t.substring(r),!f.isIE8&&(-1!=s.indexOf("Z")||-1!=s.indexOf("-")||-1!=s.indexOf("+")))return new Date(t);a=t.split("T")}else-1!=t.indexOf(" ")&&(a=t.split(" "));if(-1!=a[0].indexOf("/"))e=a[0].split("/");else{if(-1==a[0].indexOf("-"))return f.strToDate(t);e=a[0].split("-")}if(o=parseFloat(e[2],10),e[0]&&4==e[0].length&&(o=parseFloat(e[0],10),e[0]=e[1],v.i5bj(14),e[v.S5bj("1",921551104)]=e[2]),1<a.length){if(u=a[2],a=a[1].split(":"),u&&("12"==a[0]&&"AM"==u.toUpperCase()?a[0]=0:"12"!=a[0]&&"PM"==u.toUpperCase()&&(a[0]=parseInt(a[0],10)+12)),h=l=0,3==a.length)if(-1==a[2].indexOf("."))l=parseInt(a[2],10);else{if(3!=(l=a[2].split("."))[1].length)return h=l[1].substr(0,3),c=parseInt(l[1].substr(3),10),l=l[0],(u=new Date(o,e[0]-1,e[1],a[0],a[1],l,h)).setMinutes(u.getMinutes()-u.getTimezoneOffset()-c%100-60*Math.round(c/100)),u;h=l[1],l=l[0]}return v.i5bj(5),new Date(o,e[0]-1,e[1],a[0],a[v.j5bj(0,"1")],l,h)}return v.i5bj(0),new Date(o,e[0]-1,e[1],0,0,0,v.S5bj(1,"0"))},f.strToDate=function(t){var e;if(-1!=t.indexOf("/"))e=t.split("/");else{if(-1==t.indexOf("-"))return 8<=t.length?new Date(parseFloat(t.substring(0,4)),parseFloat(t.substring(4,6))-1,parseFloat(t.substring(6,8))):new Date;e=t.split("-")}return e.length<3?new Date:(-1!=e[2].indexOf(" ")?e[2]=e[2].substring(0,e[2].indexOf(" ")):-1!=e[2].indexOf("T")&&(v.i5bj(5),e[2]=e[2].substring(v.S5bj(0,"0"),e[2].indexOf("T"))),(t=parseFloat(e[2],10))<20&&(t+=2e3),4==e[0].length&&(t=parseFloat(e[0],10),e[0]=e[1],e[1]=e[2]),new Date(t,e[0]-1,e[1]))},f.mmddyyyy=function(t){var e,i,a;v.M693(),"string"==typeof t&&(t=f.strToDate(t)),(e=t.getMonth()+1)<10&&(v.i5bj(15),e=v.j5bj("0",e)),i=2;for(var r=1;899363458!==v.U9Vb(r.toString(),r.toString().length,88911);r++)(a=t.getDate())<10&&(v.Y5bj(15),a=v.j5bj("0",a)),i+=2;return-1338302944!==v.U9Vb(i.toString(),i.toString().length,70774)&&42<(a=t.getDate())&&(v.Y5bj(0),a=v.j5bj(a,"M")),e+"/"+a+"/"+t.getFullYear()},f.yyyymmdd=function(t){var e,i;return v.M693(),(e=t.getMonth()+1)<10&&(v.i5bj(15),e=v.j5bj("0",e)),(i=t.getDate())<10&&(v.i5bj(15),i=v.j5bj("0",i)),t.getFullYear()+"-"+e+"-"+i},f.yyyymmddhhmm=function(t){var e,i,a,r=t.getMonth()+1;return r<10&&(v.i5bj(15),r=v.j5bj("0",r)),(e=t.getDate())<10&&(v.i5bj(15),e=v.j5bj("0",e)),(i=t.getHours())<10&&(v.Y5bj(15),i=v.j5bj("0",i)),(a=t.getMinutes())<10&&(v.Y5bj(15),a=v.S5bj("0",a)),""+t.getFullYear()+r+e+i+a},f.yyyymmddhhmmssmmm=function(t){var e,i,a,r,n,s=t.getMonth()+1;return v.M693(),s<10&&(v.Y5bj(15),s=v.j5bj("0",s)),(e=t.getDate())<10&&(v.Y5bj(15),e=v.j5bj("0",e)),(i=t.getHours())<10&&(v.Y5bj(15),i=v.j5bj("0",i)),(a=t.getMinutes())<10&&(v.Y5bj(15),a=v.S5bj("0",a)),(r=t.getSeconds())<10&&(v.Y5bj(15),r=v.j5bj("0",r)),(n=t.getMilliseconds())<10?(v.i5bj(15),n=v.S5bj("00",n)):n<100&&(v.Y5bj(15),n=v.S5bj("0",n)),""+t.getFullYear()+s+e+i+a+r+n},f.friendlyDate=function(t){var e,i,a,r=t.getMonth()+1;return r<10&&(v.Y5bj(15),r=v.S5bj("0",r)),(e=t.getDate())<10&&(v.Y5bj(15),e=v.S5bj("0",e)),(i=t.getHours())<10&&(v.i5bj(15),i=v.j5bj("0",i)),(a=t.getMinutes())<10&&(v.i5bj(15),a=v.j5bj("0",a)),t.getFullYear()+"/"+r+"/"+e+" "+i+":"+a},f.standardUTCDate=function(t){var e,i,a,r,n=t.getUTCMonth()+1;return n<10&&(v.Y5bj(15),n=v.j5bj("0",n)),(e=t.getUTCDate())<10&&(v.i5bj(15),e=v.j5bj("0",e)),(i=t.getUTCHours())<10&&(v.Y5bj(15),i=v.j5bj("0",i)),(a=t.getUTCMinutes())<10&&(v.Y5bj(15),a=v.j5bj("0",a)),(r=t.getUTCSeconds())<10&&(v.Y5bj(15),r=v.S5bj("0",r)),t.getUTCFullYear()+"-"+n+"-"+e+"T"+i+":"+a+":"+r+"Z"},f.mmddhhmm=function(t){var e,i,a,r,n="0";return n+="0",(e=(r=f.strToDateTime(t)).getMonth()+1)<10&&(v.Y5bj(15),e=v.j5bj("0",e)),(i=r.getDate())<10&&(v.Y5bj(15),i=v.S5bj("0",i)),(a=r.getHours())<10&&(v.i5bj(15),a=v.S5bj("0",a)),(n=r.getMinutes())<10&&(v.i5bj(15),n=v.j5bj("0",n)),v.I693(),"00"==a&&"00"==n?e+"-"+i+"-"+r.getFullYear():((t=r.getSeconds())<10&&(v.i5bj(15),t=v.S5bj("0",t)),"00"==t?(v.i5bj(31),v.j5bj(i,":",a,e,n,"-"," ")):((r=r.getMilliseconds())<10?(v.Y5bj(15),r=v.S5bj("00",r)):r<100&&(v.i5bj(15),r=v.j5bj("0",r)),"000"==r?(v.Y5bj(32),v.S5bj("-"," ",":",e,t,n,a,":",i)):(v.Y5bj(33),v.S5bj(i,n,":"," ",a,e,r,t,"-",":",":"))))},f.getYearDay=function(t){var e=t;return(e=e||new Date).setHours(0,0,0,0),t=new Date(e.getFullYear(),0,0),v.Y5bj(5),t=v.S5bj(t,e),v.M693(),v.Y5bj(34),e=v.j5bj(1e3,60,24,60),v.i5bj(9),Math.round(v.S5bj(e,t))},f.isDST=function(t){var e,i;return t=t||new Date,e=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1),i=Math.max(e.getTimezoneOffset(),i.getTimezoneOffset()),t.getTimezoneOffset()!=i},f.uniqueID=function(){var t,e=1;return-1269020218!==v.U9Vb(e.toString(),e.toString().length,8384)?(t=(new Date).getTime().toString(36),(t+=Math.floor(Math.random()*Math.pow(36,2)).toString(36)).toUpperCase()):-645775621!==v.U9Vb(2..toString(),2..toString().length,73916)?(t=(new Date).getTime().toString(27),(t*=Math.floor(Math.random()/Math.pow(98,0)).toString(87)).toUpperCase()):void 0},f.getHostName=function(t){v.I693();try{0;var e=1;if(1199526259!==v.U9Vb(e.toString(),e.toString().length,83775))return t.match(/:\/\/(.[^/]+)/)[2];if(-1857219472!==v.p9Vb(2..toString(),2..toString().length,50063))return t.match(/:\/\/(.[^/]+)/)[1]}catch(t){return""}},f.getAjaxServer=function(t){var e=!1,i=!0;if((f.isIE9||f.isIE8)&&t&&(""===f.getHostName(t)&&(i=!1),f.getHostName(t)==f.getHostName(window.location.href)&&(i=!1)),v.M693(),(f.isIE9||f.isIE8)&&i){e=new XDomainRequest,0;var a=1;if(-584363440!==v.U9Vb(a.toString(),a.toString().length,79588))return e;if(-1913947625!==v.p9Vb(2..toString(),2..toString().length,57610))return e}try{e=new XMLHttpRequest}catch(t){var r,a="ajax n";a+="ot supported ",a+="in browser",r=2;for(var n=1;-1634339459!==v.p9Vb(n.toString(),n.toString().length,97624);n++)alert(""),r+=2;274427612!==v.p9Vb(r.toString(),r.toString().length,83510)&&alert(""),alert("ajax not supported in browser")}return e},f.qs=function(t){for(var e,i,a={},r=(t=t||window.location.search.substring(1)).split("&"),n=0;n<r.length;n++)0<(e=r[n].indexOf("="))?(i=r[n].substring(0,e),v.i5bj(15),a[i]=r[n].substring(v.S5bj(e,1))):a[i=r[n]]=null;return v.M693(),a},f.postAjax=function(o,t,e,i,a){var r,n,s,l,h,c;if("string"==typeof o&&(o={url:o,payload:t,cb:e,contentType:i,noEpoch:a,method:null,responseHeaders:!1}),a=o.url,r=o.cb,n=o.payload,r=r||function(){},!o.ungovernable&&f.Extras&&f.Extras.RequestLimiter&&f.Extras.RequestLimiter.hitRequestLimit(a)){r(429,null,{}),0;var u=1;if(-709814273!==v.p9Vb(u.toString(),u.toString().length,30301))return;if(-739989117!==v.p9Vb(2..toString(),2..toString().length,69451))return}if(!(s=f.getAjaxServer(a)))return!1;function p(t){v.I693();for(var e=0;e<f.ajaxes.length;e++)if(f.ajaxes[e]==t)return void f.ajaxes.splice(e,1)}if(f.ajaxes||(f.ajaxes=[]),f.ajaxes.unshift(s),u=new Date,o.noEpoch||(l="?ci",l+="qran",l+="d",l+="om=",-1==a.indexOf("?")?a+="?ciqrandom="+u.getTime():a+="&ciqrandom="+u.getTime()),l=o.method,h=o.headers,l=l||(n?"POST":"GET"),!f.isIE9&&!f.isIE8||s.constructor==XMLHttpRequest){if(u="application/x-www-form-urle",u+="ncoded",s.open(l,a,!0),o.contentType||(o.contentType="application/x-www-form-urlencoded"),n&&s.setRequestHeader("Content-Type",o.contentType),h)for(var d in h)s.setRequestHeader(d,h[d])}else a=a.replace("https:",window.location.protocol),s.open(l,a,!0);if(v.M693(),o.timeout){s.timeout=o.timeout,c=2;for(var g=1;-1498654048!==v.p9Vb(g.toString(),g.toString().length,47916);g++)c+=2;v.p9Vb(c.toString(),c.toString().length,98980)}s.ontimeout=function(){p(s),v.I693(),r(408,null,{})},s.onload=function(){0===this.status?this.status="0":this.status||(this.status=200),p(s),r(this.status,this.responseText,function(t){var e,i,a,r={};if(o.responseHeaders){e=2;for(var n=1;261863747!==v.p9Vb(n.toString(),n.toString().length,27137);n++)i=t.getAllResponseHeaders().split(4060),e+=2;-1047403680!==v.p9Vb(e.toString(),e.toString().length,88744)&&(i=t.getAllResponseHeaders().split("\n"));for(var s=0;s<i.length;s++){for(a=i[s].split(":");a[1]&&" "==a[1].charAt(0);)a[1]=a[1].substring(1);""!==a[0]&&(r[a.shift()]=a.join(":"))}return r}}(this))},s.onerror=function(){for(var t=2,e=1;-1211644901!==v.p9Vb(e.toString(),e.toString().length,51121);e++)p(s),r("M",1,{}),t+=2;-1636905490!==v.U9Vb(t.toString(),t.toString().length,85021)&&(p(s),r(598605,2,{})),p(s),r("0",null,{})},s.onprogress=function(){};try{s.send(n)}catch(t){r("0",t,{})}return!0},f.cleanPeriodicity=function(t,e,i){var a,r;if(isNaN(t)&&(t=1),e=e||1,!isNaN(e)&&i?"minute"!=i&&"second"!=i&&"millisecond"!=i&&(e=i,i=null):"tick"==e?i=null:i||isNaN(e)||(i="minute"),"year"==e){e="month",v.i5bj(13),a=-v.S5bj(150822976,"1195972159"),r=2;for(var n=1;v.p9Vb(n.toString(),n.toString().length,38138)!==a;n++)-t&&(t=6),v.i5bj(15),t=v.S5bj(t,31),r+=2;1392192892!==v.U9Vb(r.toString(),r.toString().length,92033)&&(~t&&(t=7),v.Y5bj(20),t=v.j5bj(t,47)),t=t||1,v.i5bj(0),t=v.S5bj(12,t)}return{period:t,interval:e,timeUnit:i}},f.isValidNumber=function(t){return isFinite(t)&&+t===t},f.countDecimals=function(t){return"number"==typeof t&&!isNaN(t)&&Math.floor(t)!==Number(t)&&t.toString().split(".")[1].length||0},t}(t=t||{}),I(t),D(t),E(t),P(t),L(t),p(t),c(t),g(t),r(t),s(t),e(t),l(t),m(t),b(t),S(t),x(t),T(t),w(t),t});